"use strict";(self.webpackChunkdocusauruns_ts=self.webpackChunkdocusauruns_ts||[]).push([[26151],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(a),m=r,h=d["".concat(s,".").concat(m)]||d[m]||p[m]||i;return a?n.createElement(h,o(o({ref:t},u),{},{components:a})):n.createElement(h,o({ref:t},u))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},72217:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var n=a(87462),r=(a(67294),a(3905));const i={title:"brainCloud AyncMatchService + RTT",date:"2019-05-27"},o=void 0,l={unversionedId:"learn/sdk-tutorials/unity-tutorials/braincloud-ayncmatchservice-rtt/index",id:"learn/sdk-tutorials/unity-tutorials/braincloud-ayncmatchservice-rtt/index",title:"brainCloud AyncMatchService + RTT",description:"Already have an existing app using brainCloud\u2019s AsyncMatchService, and would like to get Real-Time Updates? Do you want to support offline Async matches, as well as give the ability of real-time updates to that game?",source:"@site/docs/learn/6_sdk-tutorials/unity-tutorials/braincloud-ayncmatchservice-rtt/index.md",sourceDirName:"learn/6_sdk-tutorials/unity-tutorials/braincloud-ayncmatchservice-rtt",slug:"/learn/sdk-tutorials/unity-tutorials/braincloud-ayncmatchservice-rtt/",permalink:"/braincloud-apiref/learn/sdk-tutorials/unity-tutorials/braincloud-ayncmatchservice-rtt/",draft:!1,editUrl:"https://github.com/getbraincloud/braincloud-apiref/tree/main/docs/learn/6_sdk-tutorials/unity-tutorials/braincloud-ayncmatchservice-rtt/index.md",tags:[],version:"current",lastUpdatedBy:"jasonl",lastUpdatedAt:1672679892,formattedLastUpdatedAt:"Jan 2, 2023",frontMatter:{title:"brainCloud AyncMatchService + RTT",date:"2019-05-27"},sidebar:"learnSidebar",previous:{title:"Bombers RTT Example Game",permalink:"/braincloud-apiref/learn/sdk-tutorials/unity-tutorials/bombers-rtt-example-game/"},next:{title:"brainCloud Bombers Example Game",permalink:"/braincloud-apiref/learn/sdk-tutorials/unity-tutorials/braincloud-bombers-example-game/"}},s={},c=[{value:"Required Materials",id:"required-materials",level:2},{value:"brainCloud 4.0",id:"braincloud-40",level:3},{value:"Unity 2018.3.9",id:"unity-201839",level:3},{value:"Supporting Materials",id:"supporting-materials",level:2},{value:"Tic Tac Toe Example",id:"tic-tac-toe-example",level:2},{value:"Enable RTT",id:"enable-rtt",level:2}],u={toc:c};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Already have an existing app using brainCloud\u2019s AsyncMatchService, and would like to get Real-Time Updates? Do you want to support offline Async matches, as well as give the ability of real-time updates to that game?"),(0,r.kt)("p",null,"Ie. You want to create, or have a Tic Tac Toe type game, whereby most turns are taken without the need for users to be BOTH online, but also allow the game to progress in near real-time if both all users are online?"),(0,r.kt)("p",null,"A game exemplifying this feature set is, Wargroove. Wargroove allows offline matches to be created, acted upon, and completed while both users are not online together. However, if both users are online at the same time, gameplay acts out as if its a real time turn based game."),(0,r.kt)("h2",{id:"required-materials"},"Required Materials"),(0,r.kt)("h3",{id:"braincloud-40"},"brainCloud 4.0"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/getbraincloud/braincloud-csharp"},"https://github.com/getbraincloud/braincloud-csharp")),(0,r.kt)("h3",{id:"unity-201839"},"Unity 2018.3.9"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://unity3d.com/get-unity/download/archive"},"https://unity3d.com/get-unity/download/archive")),(0,r.kt)("h2",{id:"supporting-materials"},"Supporting Materials"),(0,r.kt)("p",null,"Up to date and previous versions of Tic Tac Toe are available here. Tic Tac Toe, previously was a pure Async Match supported the game. All turns would be done, and the app would have to poll or provide a user interaction to get the updated status on matches. By extending brainCloud\u2019s RTT service to provide real-time updates to online users of a match, there is no need, for the app to poll, or need to provide a user interactable to refresh the status on matches since the app will receive real-time notification of updates. If the user was offline, all gameplay will be just as it was before."),(0,r.kt)("h2",{id:"tic-tac-toe-example"},"Tic Tac Toe Example"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/getbraincloud/examples-unity/tree/master/TicTacToe"},"https://github.com/getbraincloud/examples-unity/tree/master/TicTacToe")),(0,r.kt)("h2",{id:"enable-rtt"},"Enable RTT"),(0,r.kt)("p",null,"From the brainCloud Portal, select the app you wish to add RTT to. Select the Real-time Tech (RTT) Enabled checkbox from ",(0,r.kt)("strong",{parentName:"p"},"Design | Core App Info | Advanced Settings"),".\xa0",(0,r.kt)("a",{parentName:"p",href:"https://sharedprod.braincloudservers.com/admin/dashboard#/development/core-settings-advanced-settings"},"https://sharedprod.braincloudservers.com/admin/dashboard#/development/core-settings-advanced-settings")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// Enable RTT\nprivate void enableRTT()\n{\n    // Only Enable RTT if it\'s not already started\n    if (!BcWrapper.Client.IsRTTEnabled())\n    {\n        BcWrapper.Client.EnableRTT(eRTTConnectionType.WEBSOCKET, onRTTEnabled, onRTTFailure);\n    }\n    else\n    {\n        // its already started, let\'s call our success delegate \n        onRTTEnabled("", null);\n    }\n}\n\n// RTT enabled, ensure we now request the updated match state\nprivate void onRTTEnabled(string responseData, object cbPostObject)\n{\n    queryMatchState();\n    // LISTEN TO THE ASYNC CALLS, when we get one of these calls, let\'s just refresh \n    // match state\n    BcWrapper.Client.RegisterRTTAsyncMatchCallback(queryMatchStateRTT);\n}\n\n// the listener, can parse the json and request just the updated match \n// in this example, just re-request it all\nprivate void queryMatchStateRTT(string in_json)\n{\n    queryMatchState();\n}\n\nprivate void queryMatchState()\n{\n    BcWrapper.MatchMakingService.FindPlayers(RANGE_DELTA, NUMBER_OF_MATCHES, OnFindPlayers);\n}\n\nprivate void onRTTFailure(int status, int reasonCode, string responseData, object cbPostObject)\n{\n    // TODO! Bring up a user dialog to inform of poor connection\n    // for now, try to auto connect \n    Invoke("enableRTT", 5.0f);\n}\n')),(0,r.kt)("p",null,"Enabling RTT, and activating a listener for the Async Match Service, allows for real-time messages to be acted upon from within the client.\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"queryMatchState()"),"\xa0used to be controlled via user interaction. By connecting this to an RTT listener, we can provide the user with a SEAMLESS interaction into both a pure offline Async Match and its real-time updates."))}d.isMDXComponent=!0}}]);