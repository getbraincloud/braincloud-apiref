"use strict";(self.webpackChunkdocusauruns_ts=self.webpackChunkdocusauruns_ts||[]).push([[95687],{3905:(e,r,t)=>{t.d(r,{Zo:()=>g,kt:()=>E});var a=t(67294);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e,r){if(null==e)return{};var t,a,o=function(e,r){if(null==e)return{};var t,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)t=n[a],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)t=n[a],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),c=function(e){var r=a.useContext(s),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},g=function(e){var r=c(e.components);return a.createElement(s.Provider,{value:r},e.children)},h="mdxType",p={inlineCode:"code",wrapper:function(e){var r=e.children;return a.createElement(a.Fragment,{},r)}},m=a.forwardRef((function(e,r){var t=e.components,o=e.mdxType,n=e.originalType,s=e.parentName,g=l(e,["components","mdxType","originalType","parentName"]),h=c(t),m=o,E=h["".concat(s,".").concat(m)]||h[m]||p[m]||n;return t?a.createElement(E,i(i({ref:r},g),{},{components:t})):a.createElement(E,i({ref:r},g))}));function E(e,r){var t=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var n=t.length,i=new Array(n);i[0]=m;var l={};for(var s in r)hasOwnProperty.call(r,s)&&(l[s]=r[s]);l.originalType=e,l[h]="string"==typeof e?e:o,i[1]=l;for(var c=2;c<n;c++)i[c]=t[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},57511:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>s,contentTitle:()=>i,default:()=>h,frontMatter:()=>n,metadata:()=>l,toc:()=>c});var a=t(87462),o=(t(67294),t(3905));const n={title:"Network Error Message Caching",date:"2016-03-03"},i=void 0,l={unversionedId:"learn/sdk-tutorials/general-api-tutorials/network-error-message-caching/index",id:"learn/sdk-tutorials/general-api-tutorials/network-error-message-caching/index",title:"Network Error Message Caching",description:"The Network Error Message Caching feature in the brainCloud SDK allows developers to centralize their handling of network outages. Mobile devices are prone to\xa0dropping network connections. As such, it's important to handle network outages with the brainCloud server gracefully. The Network Error Message Caching system aims to make this an easier task.",source:"@site/docs/learn/6_sdk-tutorials/general-api-tutorials/network-error-message-caching/index.md",sourceDirName:"learn/6_sdk-tutorials/general-api-tutorials/network-error-message-caching",slug:"/learn/sdk-tutorials/general-api-tutorials/network-error-message-caching/",permalink:"/braincloud-apiref/learn/sdk-tutorials/general-api-tutorials/network-error-message-caching/",draft:!1,editUrl:"https://github.com/getbraincloud/braincloud-apiref/tree/main/docs/learn/6_sdk-tutorials/general-api-tutorials/network-error-message-caching/index.md",tags:[],version:"current",lastUpdatedBy:"jasonl",lastUpdatedAt:1672634083,formattedLastUpdatedAt:"Jan 2, 2023",frontMatter:{title:"Network Error Message Caching",date:"2016-03-03"},sidebar:"learnSidebar",previous:{title:"File Upload API",permalink:"/braincloud-apiref/learn/sdk-tutorials/general-api-tutorials/file-upload-api/"},next:{title:"JavaScript Tutorials",permalink:"/braincloud-apiref/learn/sdk-tutorials/javascript-tutorials/"}},s={},c=[{value:"The Problem",id:"the-problem",level:2},{value:"The Solution",id:"the-solution",level:2},{value:"Implementation",id:"implementation",level:2}],g={toc:c};function h(e){let{components:r,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},g,n,{components:r,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The Network Error Message Caching feature in the brainCloud SDK allows developers to centralize their handling of network outages. Mobile devices are prone to\xa0dropping network connections. As such, it's important to handle network outages with the brainCloud server gracefully. The Network Error Message Caching system aims to make this an easier task."),(0,o.kt)("h2",{id:"the-problem"},"The Problem"),(0,o.kt)("p",null,'The brainCloud SDK provides granular error handling by allowing developers to register callbacks for almost any API call offered by the system. Your error handling routines may be specific to an API call, and to facilitate this granular handling of errors, brainCloud allows you to register unique\xa0callbacks per API call. However, this becomes somewhat problematic when dealing with network outages. For instance, you may have 5 API calls which are in transit to the brainCloud server. Without the Network Error Message Caching, each error handler for those 5 API calls will be executed in turn. How would you determine which error callback gets to "take charge" when a network error happens?'),(0,o.kt)("h2",{id:"the-solution"},"The Solution"),(0,o.kt)("p",null,"To solve this issue, brainCloud provides a single ",(0,o.kt)("strong",{parentName:"p"},"Network Error")," callback which is called when\xa0a network error is\xa0encountered. brainCloud also caches all in transit messages while the error is being handled (for instance a dialog is presented to the user to retry/cancel their connection). Once the Network Error callback has been issued, the developer can decide to ",(0,o.kt)("strong",{parentName:"p"},"RetryCachedMessages")," which causes the brainCloud SDK to attempt to resend the messages or ",(0,o.kt)("strong",{parentName:"p"},"FlushCachedMessages"),"\xa0which discards all cached messages."),(0,o.kt)("p",null,"The basic flow is as follows:"),(0,o.kt)("p",null,(0,o.kt)("a",{target:"_blank",href:t(90678).Z},(0,o.kt)("img",{alt:"NetworkErrorMessageCaching Sequence Diagram",src:t(93079).Z,width:"600",height:"410"}))),(0,o.kt)("h2",{id:"implementation"},"Implementation"),(0,o.kt)("p",null,"Here are the steps to use the Network Error Message Cache:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Enable the network error message\xa0caching using\xa0",(0,o.kt)("a",{parentName:"li",href:"/api/capi/client/enablenetworkerrormessagecaching"},"EnableNetworkErrorMessageCaching()")),(0,o.kt)("li",{parentName:"ol"},"Register a network error callback using\xa0",(0,o.kt)("a",{parentName:"li",href:"/api/capi/client/registernetworkerrorcallback"},"RegisterNetworkErrorCallback()")),(0,o.kt)("li",{parentName:"ol"},"On receiving a network error callback either",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Call ",(0,o.kt)("a",{parentName:"li",href:"/api/capi/client/retrycachedmessages"},"RetryCachedMessages()")," to attempt a retry or,"),(0,o.kt)("li",{parentName:"ol"},"Call ",(0,o.kt)("a",{parentName:"li",href:"/api/capi/client/flushcachedmessages"},"FlushCachedMessages()")," to flush all messages")))),(0,o.kt)("p",null,"Note that once you enable network message caching,\xa0",(0,o.kt)("strong",{parentName:"p"},"all messages to brainCloud")," will be cached upon a network error callback being raised. Until your app takes an action to retry or flush, no messages will be sent to brainCloud."))}h.isMDXComponent=!0},90678:(e,r,t)=>{t.d(r,{Z:()=>a});const a=t.p+"assets/files/NetworkErrorMessageCaching-Sequence-Diagram-2e57401cef62a0754df5a47e0850dc0f.png"},93079:(e,r,t)=>{t.d(r,{Z:()=>a});const a="data:image/png;base64,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"}}]);