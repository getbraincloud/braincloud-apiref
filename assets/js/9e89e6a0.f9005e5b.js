"use strict";(self.webpackChunkdocusauruns_ts=self.webpackChunkdocusauruns_ts||[]).push([[44612],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=a.createContext({}),s=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(u.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,u=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=s(n),m=i,h=p["".concat(u,".").concat(m)]||p[m]||d[m]||r;return n?a.createElement(h,l(l({ref:t},c),{},{components:n})):a.createElement(h,l({ref:t},c))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=m;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o[p]="string"==typeof e?e:i,l[1]=o;for(var s=2;s<r;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},96128:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>s});var a=n(87462),i=(n(67294),n(3905));const r={title:"Unity Authentication Example",date:"2015-02-13"},l=void 0,o={unversionedId:"learn/sdk-tutorials/unity-tutorials/unity-authentication-example/index",id:"learn/sdk-tutorials/unity-tutorials/unity-authentication-example/index",title:"Unity Authentication Example",description:"This example shows how to use several of the authentication types in brainCloud. Specifically, we illustrate how to authenticate using the following authentication types:",source:"@site/docs/learn/6_sdk-tutorials/unity-tutorials/unity-authentication-example/index.md",sourceDirName:"learn/6_sdk-tutorials/unity-tutorials/unity-authentication-example",slug:"/learn/sdk-tutorials/unity-tutorials/unity-authentication-example/",permalink:"/braincloud-apiref/learn/sdk-tutorials/unity-tutorials/unity-authentication-example/",draft:!1,editUrl:"https://github.com/getbraincloud/braincloud-apiref/tree/main/docs/learn/6_sdk-tutorials/unity-tutorials/unity-authentication-example/index.md",tags:[],version:"current",lastUpdatedBy:"jasonl",lastUpdatedAt:1672634083,formattedLastUpdatedAt:"Jan 2, 2023",frontMatter:{title:"Unity Authentication Example",date:"2015-02-13"},sidebar:"learnSidebar",previous:{title:"brainCloud + Unity + Steam Integration",permalink:"/braincloud-apiref/learn/sdk-tutorials/unity-tutorials/braincloud-unity-steam-integration/"},next:{title:"Unreal Tutorials",permalink:"/braincloud-apiref/learn/sdk-tutorials/unreal-tutorials/"}},u={},s=[{value:"<strong>Prerequisites</strong>",id:"prerequisites",level:2},{value:"<strong>Running the Project</strong>",id:"running-the-project",level:2},{value:"<strong>Pointing to your own game</strong>",id:"pointing-to-your-own-game",level:3},{value:"<strong>Code Overview</strong>",id:"code-overview",level:3},{value:"<strong>Further Reading</strong>",id:"further-reading",level:2}],c={toc:s};function p(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This example shows how to use several of the authentication types in brainCloud. Specifically, we illustrate how to authenticate using the following authentication types:\xa0"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Email and Password"),(0,i.kt)("li",{parentName:"ul"},"Universal"),(0,i.kt)("li",{parentName:"ul"},"Anonymous"),(0,i.kt)("li",{parentName:"ul"},"Advanced\xa0"),(0,i.kt)("li",{parentName:"ul"},"Google (Android Devices only)")),(0,i.kt)("h2",{id:"prerequisites"},(0,i.kt)("strong",{parentName:"h2"},"Prerequisites")),(0,i.kt)("p",null,"In order to get started, you will need Unity installed. Please download the example project by following the link below:\xa0"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/getbraincloud/UnityExamples"},"Unity Authentication Example Download")),(0,i.kt)("p",null,"You can also download the stand-alone brainCloud Unity library here:"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/getbraincloud/Unity-Csharp"},"brainCloud Unity Client")),(0,i.kt)("h2",{id:"running-the-project"},(0,i.kt)("strong",{parentName:"h2"},"Running the Project")),(0,i.kt)("p",null,"To try out the example project you must:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Download the examples-unity repo.\xa0"),(0,i.kt)("li",{parentName:"ul"},"Unzip the examples-unity folder."),(0,i.kt)("li",{parentName:"ul"},"Open the \u201cAuthentication\u201d project in unity."),(0,i.kt)("li",{parentName:"ul"},"Open the \u201cMain\u201d scene in the \u201cScenes\u201d folder."),(0,i.kt)("li",{parentName:"ul"},"Follow the steps under \u201cPointing to your own game\u201d to point to your brainCloud app."),(0,i.kt)("li",{parentName:"ul"},"Click Unity\u2019s play button.")),(0,i.kt)("p",null,"You should see the following screen."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(47004).Z,width:"1024",height:"576"})),(0,i.kt)("p",null,"Feel free to test out the various authentication types. Authentication types can be changed by clicking the dropdown menu next to \u201cSelect Auth Type\u201d. You can also toggle \u201cAdvanced Auth\u201d which allows you to send extra JSON data along with your authentication. This extra JSON data can be used for things like account validation. In this example, we use the extra data to create a user entity of type \u201cplayer\u201d for new users.\xa0"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(10637).Z,width:"1024",height:"575"})),(0,i.kt)("h3",{id:"pointing-to-your-own-game"},(0,i.kt)("strong",{parentName:"h3"},"Pointing to your own game")),(0,i.kt)("p",null,"Follow these steps in order to test different authentication methods against your own brainCloud game:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Open the brainCloud settings menu option.")),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://lh5.googleusercontent.com/yaelBFzJm7rpXcrbgRyF7Q0PJvuKgRK0BwdduU2TM9OeMRIuxfMceYI54jw5A6oZgatp6-zn1uLItdsN2-E9y_CsuPehlhJCMF8m4NNf5OFj-LlgYtK0WPEbJ3ItE1BwpR29eioGUMaf6eW8IQ",alt:null})),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Login to brainCloud and select your game.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("img",{src:n(55610).Z,width:"463",height:"487"})),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("img",{src:n(97108).Z,width:"460",height:"484"}))),(0,i.kt)("p",null,"Ensure that the correct platforms have been enabled in the brainCloud Portal, under ",(0,i.kt)("strong",{parentName:"p"},"Design | Core App Info | Platforms")),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"Import the app data from the \u201cImportData\u201d folder.\xa0")),(0,i.kt)("p",null,"See ",(0,i.kt)("a",{parentName:"p",href:"/learn/portal-tutorials/importexport-game-data/"},"Import/Export Game Data")," in the portal tutorial section for more information.\xa0"),(0,i.kt)("p",null,"The Authentication app also features the following brainCloud functionality:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/api/capi/entity"},"User Entities")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/api/capi/customentity"},"Custom Entities")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/api/capi/playerstats"},"Player XP and Player Leveling")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/api/capi/virtualcurrency"},"Virtual Currencies")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/api/capi/playerstats"},"Player Stats")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/api/capi/globalstats"},"Global Stats")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/api/capi/script"},"Cloud Code scripting"),"\xa0"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/api/capi/identity"},"Identity Attaching / Merging"))),(0,i.kt)("p",null,"Enjoy interacting with this example project and getting an idea for some of the features brainCloud has to offer.\xa0"),(0,i.kt)("h3",{id:"code-overview"},(0,i.kt)("strong",{parentName:"h3"},"Code Overview")),(0,i.kt)("p",null,"First, we initialize the brainCloud Wrapper in a script called BCConfig.cs"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n \npublic class BCConfig : MonoBehaviour {\n \n    private BrainCloudWrapper _bc;\n \n    public BrainCloudWrapper GetBrainCloud()\n    {\n        return _bc;\n    }\n    \n    // Use this for initialization\n    void Awake ()\n    {\n        DontDestroyOnLoad(gameObject);\n        _bc = gameObject.AddComponent<BrainCloudWrapper>();\n        \n        _bc.WrapperName = gameObject.name;    // Optional: Set a wrapper name\n        _bc.Init();      // Init data is taken from the brainCloud Unity Plugin\n    }\n}\n")),(0,i.kt)("p",null,"Next, we create a BCConfig GameObject and attach the BCConfig script as a component."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(23201).Z,width:"1024",height:"674"})),(0,i.kt)("p",null,"We have a script called BrainCloudInterface.cs which is used to interface between the brainCloud Wrapper and our game-related classes. This script handles all of our brainCloud Authentication methods and all of our calls and callbacks from our brainCloud wrapper.\xa0"),(0,i.kt)("p",null,"Email Authentication:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"public void AuthenticateEmail()\n{\n    m_emailId = DataManager.instance.EmailID;\n    m_emailPwd = DataManager.instance.EmailPass; \n \n    _bc.ResetStoredProfileId();\n    _bc.ResetStoredAnonymousId();\n    _bc.AuthenticateEmailPassword(m_emailId, m_emailPwd, true, OnSuccess_Authenticate, \n                                  OnError_Authenticate);\n}\n")),(0,i.kt)("p",null,"Universal Authentication:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"public void AuthenticateUniversal()\n{\n    m_universalUserId = DataManager.instance.UniversalUserID;\n    m_universalPwd = DataManager.instance.UniversalPass;\n \n    _bc.ResetStoredProfileId();\n    _bc.ResetStoredAnonymousId();\n    _bc.AuthenticateUniversal(m_universalUserId, m_universalPwd, true, OnSuccess_Authenticate, \n                              OnError_Authenticate);\n}\n")),(0,i.kt)("p",null,"Anonymous Authentication:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"public void AuthenticateAnonymous()\n{\n    _bc.AuthenticateAnonymous(OnSuccess_Authenticate, OnError_Authenticate);\n}\n")),(0,i.kt)("p",null,"Google Authentication"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"public void AuthenticateGoogle()\n{\n    _bc.AuthenticateGoogle(m_googleId, m_serverAuthCode, true, OnSuccess_Authenticate, OnError_Authenticate);\n}\n")),(0,i.kt)("p",null,"Authentication Success and Failure Callbacks"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'public void OnSuccess_Authenticate(string responseData, object cbObject)\n{\n    m_authStatus = "Authenticate successful!";\n    Debug.Log(m_authStatus);\n \n    ScreenManager.instance.ActivateMainScreen();\n}\npublic void OnError_Authenticate(int statusCode, int reasonCode, string statusMessage, object cbObject)\n{\n    Debug.Log(string.Format("Failed | {0}  {1}  {2}", statusCode, reasonCode, statusMessage));\n}\n')),(0,i.kt)("p",null,"This example also features advanced authentication. We are able to send extra Json data in the form of a <string, object> dictionary.\xa0"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'public void AuthenticateAdvanced(AuthenticationType authType, BrainCloud.AuthenticationIds ids, Dictionary<string, object> extraJson)\n{\n    SuccessCallback successCallback = (response, cbObject) => \n    { ScreenManager.instance.ActivateMainScreen(); };\n \n    FailureCallback failureCallback = (status, code, error, cbObject) => \n    { Debug.Log(string.Format("Failed | {0}  {1}  {2}", status, code, error)); };\n \n    _bc.AuthenticateAdvanced(authType, ids, true, extraJson, successCallback, failureCallback);\n}\n')),(0,i.kt)("h2",{id:"further-reading"},(0,i.kt)("strong",{parentName:"h2"},"Further Reading")),(0,i.kt)("p",null,"You can find more information on the Authentication methods by visiting this section of the API reference:\xa0"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/api/capi/authentication"},"Authentication APIs")),(0,i.kt)("p",null,"The code in the example project that deals with authentication is located in \u201cScripts/BrainCloudInterface.cs\u201d."))}p.isMDXComponent=!0},47004:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/AuthPage1-1024x576-2754458f4d31284de12da6cb62da7b08.jpg"},10637:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/AuthPage2-1024x575-daf41f859c004aa3495ebe90f9bc1e4d.jpg"},23201:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/BCConfig-1024x674-25b5f9836ca9abffb145d495c7307507.png"},55610:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/SignIn2-1-cc06f91b4b859290eb030657d8ec1cfc.png"},97108:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/SignIn3-2-61d98499dc1174a9b4f3419a2b1e5477.png"}}]);