"use strict";(self.webpackChunkdocusauruns_ts=self.webpackChunkdocusauruns_ts||[]).push([[7847],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>h});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),c=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,h=d["".concat(p,".").concat(m)]||d[m]||u[m]||i;return n?a.createElement(h,o(o({ref:t},s),{},{components:n})):a.createElement(h,o({ref:t},s))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},36891:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var a=n(87462),r=(n(67294),n(3905));const i={title:"Authentication - Apple",date:"2021-01-11"},o=void 0,l={unversionedId:"learn/portal-tutorials/authentication-apple/index",id:"learn/portal-tutorials/authentication-apple/index",title:"Authentication - Apple",description:"This article elaborates on the basic steps of how to authenticate end-users with their Apple credentials in a unity example.",source:"@site/docs/learn/5_portal-tutorials/authentication-apple/index.md",sourceDirName:"learn/5_portal-tutorials/authentication-apple",slug:"/learn/portal-tutorials/authentication-apple/",permalink:"/braincloud-apiref/learn/portal-tutorials/authentication-apple/",draft:!1,editUrl:"https://github.com/getbraincloud/braincloud-apiref/tree/main/docs/learn/5_portal-tutorials/authentication-apple/index.md",tags:[],version:"current",lastUpdatedBy:"jasonl",lastUpdatedAt:1672679892,formattedLastUpdatedAt:"Jan 2, 2023",frontMatter:{title:"Authentication - Apple",date:"2021-01-11"},sidebar:"learnSidebar",previous:{title:"Email Integration - SendGrid",permalink:"/braincloud-apiref/learn/portal-tutorials/email-integration-sendgrid/"},next:{title:"Authentication - Facebook",permalink:"/braincloud-apiref/learn/portal-tutorials/authentication-facebook/"}},p={},c=[],s={toc:c};function d(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,a.Z)({},s,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This article elaborates on the basic steps of how to authenticate end-users with their Apple credentials in a unity example."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Prerequisites")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You have an Apple developer account"),(0,r.kt)("li",{parentName:"ul"},"Your testing device with iOS 13 and above")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 1: Create an application on Unity editor")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Open Unity hub and create a new project."),(0,r.kt)("li",{parentName:"ul"},"Download and import the latest ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/getbraincloud/braincloud-csharp/releases"},"brainCloud client Unity package")," to this project. Once imported the plugin correctly, you will find the brainCloud tab appears on the editor menu.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285883197/aa601320a7757495ae3aed7e/Screen+Shot+2021-01-10+at+8.10.14+PM.png"},(0,r.kt)("img",{src:n(99170).Z,width:"954",height:"446"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Download and import the latest ",(0,r.kt)("inlineCode",{parentName:"li"},"Sign in with Apple")," plugin (the left one on the picture below) to this project via the Asset store.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285888536/bbe9af49fc4ec526bc9b5b4b/Screen+Shot+2021-01-10+at+8.57.20+PM.png"},(0,r.kt)("img",{src:n(50496).Z,width:"729",height:"575"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You should find the Unity Technologies folder under the asset after ",(0,r.kt)("inlineCode",{parentName:"li"},"SignInWithApple")," plugin imported.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285889108/1b7769afa90c43fe28b9e623/Screen+Shot+2021-01-10+at+9.05.16+PM.png"},(0,r.kt)("img",{src:n(30577).Z,width:"683",height:"287"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Open brainCloud setting from the tab, select or create a brainCloud back-end app linked to your project.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285889725/1386428122ce5d7142643b2f/Screen+Shot+2021-01-10+at+9.11.08+PM.png"},(0,r.kt)("img",{src:n(25931).Z,width:"432",height:"531"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Create some UI elements and initialize brainCloud and Apple SignIn from your script. You can compare the differences between brainCloud universal authentication and Apple authentication by setting both of them to UI.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285890084/51ad044d85db7a5ca2592e7b/Screen+Shot+2021-01-10+at+9.13.34+PM.png"},(0,r.kt)("img",{src:n(68995).Z,width:"595",height:"321"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Functions and its code that linked behind the button ","[Sign in with Apple]"," are similar to below. Once end-user login into their Apple account, from the success callback, retrieve the userId and id token and pass them to brainCloud Apple authentication method -- ",(0,r.kt)("inlineCode",{parentName:"li"},"AuthenticateApple"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'    void Start()\n\n    {\n\n        bcreturn = GameObject.Find("bcreturn").GetComponent<Text>();\n\n        username = GameObject.Find("username").GetComponent<InputField>();\n\n        password = GameObject.Find("password").GetComponent<InputField>();\n\n        _bc.SetAlwaysAllowProfileSwitch(true);\n\n        gameObject.AddComponent<SignInWithApple>();\n\n    }\n    //click authentication apple button\n\n    public void AuthenticateApple()\n\n    {\n        var siwa = gameObject.GetComponent<SignInWithApple>();\n\n        siwa.Login(OnLogin);\n\n    }\n    private void OnLogin(SignInWithApple.CallbackArgs args)\n    {\n        if (args.error != null)\n        {\n            Debug.Log("Errors occurred: " + args.error);\n            return;\n        }\n        UserInfo userInfo = args.userInfo;\n        // Save the userId so we can use it later for other operations.\n        userId = userInfo.userId;\n        idToken = userInfo.idToken;\n        // Print out information about the user who logged in.\n        Debug.Log(\n            string.Format("Display Name: {0}\\nEmail: {1}\\nUser ID: {2}\\nID Token: {3}", userInfo.displayName ?? "",\n                userInfo.email ?? "", userInfo.userId ?? "", userInfo.idToken ?? ""));\n        //authenticate user to bc\n        _bc.AuthenticateApple(userId, idToken, true, authSuccess_BCcall, authError_BCcall);\n    }\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Finish the rest callbacks code in your script."),(0,r.kt)("li",{parentName:"ul"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Build Settings")," from Unity ",(0,r.kt)("inlineCode",{parentName:"li"},"File")," tab, switch platform to iOS.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285894570/a762ccc8796ffd0f0e9c1df2/Screen+Shot+2021-01-10+at+9.44.33+PM.png"},(0,r.kt)("img",{src:n(53659).Z,width:"665",height:"665"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Set up project ",(0,r.kt)("inlineCode",{parentName:"li"},"Bundle Identifier")," via ",(0,r.kt)("inlineCode",{parentName:"li"},"Player Settings")," .")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285895068/44669e72e173434f0ddfbc00/Screen+Shot+2021-01-10+at+9.47.48+PM.png"},(0,r.kt)("img",{src:n(33072).Z,width:"665",height:"665"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Build and Run"),", then create a folder to save this Xcode project on your local storage.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285896056/9744398043cd503cc7ffca22/Screen+Shot+2021-01-10+at+9.55.52+PM.png"},(0,r.kt)("img",{src:n(2469).Z,width:"758",height:"422"}))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 2: Configure bundle identifier on brainCloud")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Open your app from brainCloud development portal, navigate to ",(0,r.kt)("strong",{parentName:"li"},"Design | Core App Info")," page.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285908041/f165ca4a7d3aa1ce30c6c2e3/image.png"},(0,r.kt)("img",{src:n(34682).Z,width:"796",height:"588"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Click ",(0,r.kt)("strong",{parentName:"li"},"Apple")," under Configure Platforms and paste your ",(0,r.kt)("inlineCode",{parentName:"li"},"Bundle Identifier")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"Signin Client Id")," field.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285908913/c591b521a4616bbb5a1b743d/Screen+Shot+2021-01-10+at+11.26.27+PM.png"},(0,r.kt)("img",{src:n(77493).Z,width:"648",height:"374"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Make sure the ",(0,r.kt)("inlineCode",{parentName:"li"},"Apple iOS")," platform is selected from the ",(0,r.kt)("strong",{parentName:"li"},"Design | Core App Info | Platforms")," page.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 3: Configure authentication service on Xcode")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Open the build Xcode project via Xcode editor, make sure ",(0,r.kt)("inlineCode",{parentName:"li"},"AuthenticationServices.framework")," is added to ",(0,r.kt)("inlineCode",{parentName:"li"},"UnityFramework"))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285905752/c0386612eda45b59bb0149a5/Screen+Shot+2021-01-10+at+11.00.41+PM.png"},(0,r.kt)("img",{src:n(30534).Z,width:"1051",height:"535"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Add ",(0,r.kt)("inlineCode",{parentName:"li"},"Sign in with Apple")," capability to Unity-iPhone from ",(0,r.kt)("inlineCode",{parentName:"li"},"Signing & Capabilities")," tab."),(0,r.kt)("li",{parentName:"ul"},"Select ",(0,r.kt)("inlineCode",{parentName:"li"},"Automatically manage signing")," checkbox, then login to your Apple developer team.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285906760/d880662a000a2c03db1cac23/Screen+Shot+2021-01-10+at+11.11.17+PM.png"},(0,r.kt)("img",{src:n(40720).Z,width:"994",height:"440"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Once the above step is done, check the ",(0,r.kt)("inlineCode",{parentName:"li"},"Identifiers")," is added to your Apple developer account under ",(0,r.kt)("inlineCode",{parentName:"li"},"Certificates, Identifiers & Profiles")," section.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285907595/c10ac4da92fa8fde99b72828/Screen+Shot+2021-01-10+at+11.13.37+PM.png"},(0,r.kt)("img",{src:n(63401).Z,width:"1230",height:"548"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Connect your testing device to Xcode, then run this project on your testing device.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/285910469/c944f42a52608034397396aa/Screen+Shot+2021-01-10+at+11.37.43+PM.png"},(0,r.kt)("img",{src:n(50827).Z,width:"684",height:"338"}))))}d.isMDXComponent=!0},30534:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+11.00.41+PM-d8b0cdb27f4ae61954dddfb3498806b0.png"},40720:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+11.11.17+PM-bd48c16b414182fa6b5c3e6942f6a22e.png"},63401:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+11.13.37+PM-a3f5a67d4cb9568c3ac6fba2f13196c6.png"},77493:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+11.26.27+PM-3dc0300541c7630cc4fee4f7e8c6b8b0.png"},50827:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+11.37.43+PM-4ae5384e8e54055229b4d21fdcd9e7fb.png"},99170:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+8.10.14+PM-8885aa6c61dab7dbd7995e562df59289.png"},50496:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+8.57.20+PM-b94f266868050ec180db8d8bd5051f37.png"},30577:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+9.05.16+PM-12ecd96f255d61166d20ae82fb85ed2b.png"},25931:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+9.11.08+PM-8bb74f78b1883e2e2e67fbfc8110bd5a.png"},68995:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+9.13.34+PM-60fa3320368de076889e218d565fec30.png"},53659:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+9.44.33+PM-049bf9f3da79167861f2cd100bee3aca.png"},33072:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+9.47.48+PM-071c73bb75ec33f06fa7e68469f65f96.png"},2469:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen+Shot+2021-01-10+at+9.55.52+PM-310bf9718f825f6576db13fd1cb8659f.png"},34682:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-206d1734848e1a93814a48ccf973c627.png"}}]);