"use strict";(self.webpackChunkdocusauruns_ts=self.webpackChunkdocusauruns_ts||[]).push([[12833],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>h});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),c=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=c(r),m=n,h=p["".concat(s,".").concat(m)]||p[m]||d[m]||l;return r?a.createElement(h,o(o({ref:t},u),{},{components:r})):a.createElement(h,o({ref:t},u))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=r.length,o=new Array(l);o[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[p]="string"==typeof e?e:n,o[1]=i;for(var c=2;c<l;c++)o[c]=r[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},8021:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var a=r(87462),n=(r(67294),r(3905));const l={title:"CC Tutorial1 - Your First Script",date:"2016-02-16"},o=void 0,i={unversionedId:"learn/cloud-code-central/cloud-code-tutorials/cloud-code-tutorial1-your-first-script/index",id:"learn/cloud-code-central/cloud-code-tutorials/cloud-code-tutorial1-your-first-script/index",title:"CC Tutorial1 - Your First Script",description:"In this tutorial, we'll go through the\xa0basics of creating a Cloud Code script, and teach you how to pass parameters to/from a script.",source:"@site/docs/learn/4_cloud-code-central/cloud-code-tutorials/cloud-code-tutorial1-your-first-script/index.md",sourceDirName:"learn/4_cloud-code-central/cloud-code-tutorials/cloud-code-tutorial1-your-first-script",slug:"/learn/cloud-code-central/cloud-code-tutorials/cloud-code-tutorial1-your-first-script/",permalink:"/braincloud-apiref/learn/cloud-code-central/cloud-code-tutorials/cloud-code-tutorial1-your-first-script/",draft:!1,editUrl:"https://github.com/getbraincloud/braincloud-apiref/tree/main/docs/learn/4_cloud-code-central/cloud-code-tutorials/cloud-code-tutorial1-your-first-script/index.md",tags:[],version:"current",lastUpdatedBy:"jasonl",lastUpdatedAt:1672679892,formattedLastUpdatedAt:"Jan 2, 2023",frontMatter:{title:"CC Tutorial1 - Your First Script",date:"2016-02-16"},sidebar:"learnSidebar",previous:{title:"CC Tutorial - Background",permalink:"/braincloud-apiref/learn/cloud-code-central/cloud-code-tutorials/cloud-code-tutorial-background/"},next:{title:"CC Tutorial2 - Making API calls",permalink:"/braincloud-apiref/learn/cloud-code-central/cloud-code-tutorials/cloud-code-tutorial2-making-api-calls/"}},s={},c=[{value:"Step 1 - Create the Script",id:"step-1---create-the-script",level:2},{value:"Step 2 - Run the Script",id:"step-2---run-the-script",level:2},{value:"Step 3 - View the results",id:"step-3---view-the-results",level:2},{value:"Step 4 - Calling the Script from your client app",id:"step-4---calling-the-script-from-your-client-app",level:2}],u={toc:c};function p(e){let{components:t,...l}=e;return(0,n.kt)("wrapper",(0,a.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"In this tutorial, we'll go through the\xa0basics of creating a Cloud Code script, and teach you how to pass parameters to/from a script."),(0,n.kt)("h2",{id:"step-1---create-the-script"},"Step 1 - Create the Script"),(0,n.kt)("p",null,"To create our first script, perform the following steps:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Log into the brainCloud ",(0,n.kt)("strong",{parentName:"li"},"Design Portal")," (if you haven't already)"),(0,n.kt)("li",{parentName:"ul"},"Choose your app, and go to ",(0,n.kt)("strong",{parentName:"li"},"Design | Cloud Code | Scripts")),(0,n.kt)("li",{parentName:"ul"},"Click the ",(0,n.kt)("strong",{parentName:"li"},"[+]")," in the top right-hand corner to create a new script"),(0,n.kt)("li",{parentName:"ul"},"Give your script a name - for example, ",(0,n.kt)("em",{parentName:"li"},'"Tut1_AddTwoNumbers"'),", make it ",(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("em",{parentName:"strong"},"Client Callable")),", and set its ",(0,n.kt)("em",{parentName:"li"},(0,n.kt)("strong",{parentName:"em"},"Test Parameters")),"\xa0to:")),(0,n.kt)("p",null,"Test Parameters"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},'{   \n    "num1": 1,   \n    "num2": 2 \n} \n')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Then switch to the ",(0,n.kt)("strong",{parentName:"li"},"Editor"),"\xa0tab, and copy and paste the following script.")),(0,n.kt)("p",null,"Script"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},'// Retrieve our two paramaters \nvar a = data.num1; \nvar b = data.num2;\n \n// Perform our highly advanced calculation!\nvar c = a + b; \n// "Return" the result \nc; \n')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Hit ",(0,n.kt)("strong",{parentName:"li"},"[Save]")," and then ",(0,n.kt)("strong",{parentName:"li"},"[Close]")," when you're done.")),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"step-2---run-the-script"},"Step 2 - Run the Script"),(0,n.kt)("p",null,"Okay, let's see if it works.\xa0To run the script:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Switch to the ",(0,n.kt)("strong",{parentName:"li"},"API Explorer")," by choosing ",(0,n.kt)("strong",{parentName:"li"},"Design | Cloud Code | API Explorer")," from the side menu"),(0,n.kt)("li",{parentName:"ul"},"The API Explorer attempts to simulate a client application accessing the brainCloud servers. Thus, just like any brainCloud client, you must first authenticate. \xa0To do so, choose the ",(0,n.kt)("strong",{parentName:"li"},"Authenticate")," ",(0,n.kt)("em",{parentName:"li"},"Service")," and the ",(0,n.kt)("strong",{parentName:"li"},"Authenticate")," ",(0,n.kt)("em",{parentName:"li"},"Operation")," from the drop-downs, and then click the green ",(0,n.kt)("strong",{parentName:"li"},"RUN")," button."),(0,n.kt)("li",{parentName:"ul"},"Next, we'll run the script. Choose ",(0,n.kt)("strong",{parentName:"li"},"Script")," from the ",(0,n.kt)("em",{parentName:"li"},"Service"),' drop-down and Run Script "Tut1',(0,n.kt)("em",{parentName:"li"},"AddTwoNumbers\" from the Operation drop-down. _If you don't see your script you probably forgot to make it Client Callable - go to its definition in the Scripts screen, and then come back.")),(0,n.kt)("li",{parentName:"ul"},"You'll notice that the default parameters that you set are displayed in the ",(0,n.kt)("em",{parentName:"li"},"Parameters")," section of the API Explorer. Edit them if you wish. Then click the RUN button to run the script and see the results.")),(0,n.kt)("p",null,(0,n.kt)("a",{target:"_blank",href:r(46175).Z},(0,n.kt)("img",{src:r(79695).Z,width:"1024",height:"572"}))),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"step-3---view-the-results"},"Step 3 - View the results"),(0,n.kt)("p",null,"The following results are returned from running the script:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"status = the HTTP result of the operation, which will always be 200, unless there were problems with the server"),(0,n.kt)("li",{parentName:"ul"},"data = the results from the script itself - which will contain two parts:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"success = will be true unless an exception was triggered"),(0,n.kt)("li",{parentName:"ul"},"response = the exact results returned from the script")))),(0,n.kt)("p",null,"Results"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},'{  \n    "status": 200,  \n    "data": {   \n        "response": 3,   \n        "success": true  \n    } \n}\n')),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"step-4---calling-the-script-from-your-client-app"},"Step 4 - Calling the Script from your client app"),(0,n.kt)("p",null,"Calling scripts from client apps is\xa0straight-forward - you simply call the ",(0,n.kt)("a",{parentName:"p",href:"/api/capi/script/runscript"},"RunScript()")," method, passing in the name of the script, and any required parameters."),(0,n.kt)("p",null,"Calling the script from a Unity C# app would look like the following:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},'string scriptName = "Tut1_AddTwoNumbers";\nstring jsonScriptData = "{ \\"num1\\": 1, \\"num2\\": 2 }";\nSuccessCallback successCallback = (response, cbObject) =>\n{\n    Debug.Log(string.Format("Success | {0}", response));\n};\nFailureCallback failureCallback = (status, code, error, cbObject) =>\n{\n    Debug.Log(string.Format("Failed | {0}  {1}  {2}", status, code, error));\n};\n\n// Call the script \n_bc.ScriptService.RunScript(scriptName, jsonScriptData, successCallback, failureCallback);\n')))}p.isMDXComponent=!0},46175:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/files/Tut1_API_Explorer-1024x572-d03f7079c0994523d6bbe08bc138688d.png"},79695:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/Tut1_API_Explorer-1024x572-d03f7079c0994523d6bbe08bc138688d.png"}}]);