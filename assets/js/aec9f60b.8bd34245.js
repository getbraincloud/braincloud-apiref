"use strict";(self.webpackChunkdocusauruns_ts=self.webpackChunkdocusauruns_ts||[]).push([[27763],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=p(a),m=n,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||i;return a?r.createElement(h,l(l({ref:t},u),{},{components:a})):r.createElement(h,l({ref:t},u))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[d]="string"==typeof e?e:n,l[1]=o;for(var p=2;p<i;p++)l[p]=a[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},58879:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var r=a(87462),n=(a(67294),a(3905));const i={title:"GameSparks to brainCloud migration notes",date:"2021-09-30",tags:["release-history"]},l=void 0,o={permalink:"/braincloud-apiref/release/2021/09/30/gamesparks-to-braincloud-migration-notes",source:"@site/release/2021-09-30-gamesparks-to-braincloud-migration-notes/index.md",title:"GameSparks to brainCloud migration notes",description:"brainCloud is an excellent option for developers looking to migrate their app and players before GameSparks shuts down on September 30, 2022.",date:"2021-09-30T00:00:00.000Z",formattedDate:"September 30, 2021",tags:[{label:"release-history",permalink:"/braincloud-apiref/release/tags/release-history"}],readingTime:20.235,hasTruncateMarker:!1,authors:[],frontMatter:{title:"GameSparks to brainCloud migration notes",date:"2021-09-30",tags:["release-history"]},prevItem:{title:"brainCloud 4.9 is live!",permalink:"/braincloud-apiref/release/2021/10/12/release-4-9"},nextItem:{title:"Release 4.8",permalink:"/braincloud-apiref/release/2021/06/28/release-4-8"}},s={authorsImageUrls:[]},p=[{value:"Achievements",id:"achievements",level:2},{value:"Authentication Basics",id:"authentication-basics",level:2},{value:"Registration",id:"registration",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Authentication (3rd Party)",id:"authentication-3rd-party",level:2},{value:"Chat &amp; Messaging",id:"chat--messaging",level:2},{value:"Chat",id:"chat",level:3},{value:"Messaging",id:"messaging",level:3},{value:"Cloud Code",id:"cloud-code",level:2},{value:"brainCloud Data",id:"braincloud-data",level:3},{value:"MetaCollections",id:"metacollections",level:3},{value:"System-Scripts",id:"system-scripts",level:3},{value:"Bulk-Jobs",id:"bulk-jobs",level:3},{value:"Schedulers",id:"schedulers",level:3},{value:"Transitioning MetaCollections",id:"transitioning-metacollections",level:3},{value:"GameSparks API Wrappers",id:"gamesparks-api-wrappers",level:3},{value:"Asynchronous APIs",id:"asynchronous-apis",level:3},{value:"Performance Bottlenecks",id:"performance-bottlenecks",level:3},{value:"Data Transition Guide",id:"data-transition-guide",level:2},{value:"Reference data",id:"reference-data",level:3},{value:"User accounts",id:"user-accounts",level:3},{value:"Downloadables",id:"downloadables",level:2},{value:"Emails (SendGrid)",id:"emails-sendgrid",level:2},{value:"Leaderboard Basics",id:"leaderboard-basics",level:2},{value:"Leaderboard Partitions",id:"leaderboard-partitions",level:2},{value:"Leaderboard Resetting",id:"leaderboard-resetting",level:2},{value:"Manage Screens",id:"manage-screens",level:2},{value:"Matchmaking",id:"matchmaking",level:2},{value:"Player Manager",id:"player-manager",level:2},{value:"Scheduled Events",id:"scheduled-events",level:2},{value:"Teams",id:"teams",level:2},{value:"Team Chat &amp; Notifications",id:"team-chat--notifications",level:3},{value:"Team Leaderboards",id:"team-leaderboards",level:3},{value:"Team Data",id:"team-data",level:3},{value:"Virtual Currency",id:"virtual-currency",level:2},{value:"Virtual Goods Basics",id:"virtual-goods-basics",level:2},{value:"Virtual Goods (3rd Party)",id:"virtual-goods-3rd-party",level:2}],u={toc:p};function d(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"brainCloud is an excellent option for developers looking to migrate their app and players before ",(0,n.kt)("a",{parentName:"p",href:"https://docs.gamesparks.com/transition-faq/"},"GameSparks shuts down on September 30, 2022"),"."),(0,n.kt)("p",null,"GameSparks developers will find that the brainCloud feature set and technology platform align well with what they are already used to."),(0,n.kt)("p",null,"Major advantages of migrating to brainCloud include:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Cloud code")," - brainCloud's cloud code system utilized JavaScript, is based on Mozilla Rhino, uses JSON parameters, and allows synchronous access to the full brainCloud API."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Cloud data")," - brainCloud uses NoSQL MongoDB for persistent data storage."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Chat & Messaging")," - brainCloud's RTT (Real-time Tech) service provides support for Chat (both Global and Group channels) and player-to-player Messaging"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Downloadables")," - brainCloud supports Downloadables and Uploadables, with built-in CloudFront CDN support"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Email")," - brainCloud provides a ",(0,n.kt)("strong",{parentName:"li"},"SendGrid")," integration for email"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Leaderboards")," - brainCloud rich leaderboard system directly supports everything but leaderboards partitions - and partitions can be emulated via separate, dynamically created leaderboards."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Multiplayer")," - brainCloud provides support for hosted Room and Relay Servers, and beginning in 4.9 supports Amazon GameLift as well!"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Teams")," - brainCloud's Group service provides support for teams - including team chat and leaderboards"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Virtual Currencies and Virtual Goods")," - brainCloud supports them both, along with purchasing both from the AppStores."),(0,n.kt)("li",{parentName:"ul"},"And much, much more!")),(0,n.kt)("p",null,"This document provides instructions and tips for migrating your app from GameSparks to brainCloud."),(0,n.kt)("p",null,"Click on the ",(0,n.kt)("em",{parentName:"p"},"collapsable")," table-of-contents to jump to a section."),(0,n.kt)("p",null,"Table of contents"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#achievements"},"Achievements")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#authentication-basics"},"Authentication Basics"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#registration"},"Registration")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#authentication"},"Authentication")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#authentication-3rd-party"},"Authentication (3rd Party)")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#chat-amp;-messaging"},"Chat & Messaging"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#chat"},"Chat")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#messaging"},"Messaging")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#cloud-code"},"Cloud Code"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#braincloud-data"},"brainCloud Data")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#metacollections"},"MetaCollections")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#system-scripts"},"System-Scripts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#bulk-jobs"},"Bulk-Jobs")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#schedulers"},"Schedulers")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#transitioning-metacollections"},"Transitioning MetaCollections")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#gamesparks-api-wrappers"},"GameSparks API Wrappers")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#asynchronous-apis"},"Asynchronous APIs")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#performance-bottlenecks"},"Performance Bottlenecks")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#data-transition-guide"},"Data Transition Guide"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#reference-data"},"Reference data")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#user-accounts"},"User accounts")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#downloadables"},"Downloadables")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#emails-sendgrid"},"Emails (SendGrid)")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#leaderboard-basics"},"Leaderboard Basics")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#leaderboard-partitions"},"Leaderboard Partitions")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#leaderboard-resetting"},"Leaderboard Resetting")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#manage-screens"},"Manage Screens")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#matchmaking"},"Matchmaking")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#player-manager"},"Player Manager")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#scheduled-events"},"Scheduled Events")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#teams"},"Teams"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#team-chat-amp;-notifications"},"Team Chat & Notifications")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#team-leaderboards"},"Team Leaderboards")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#team-data"},"Team Data")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#virtual-currency"},"Virtual Currency")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#virtual-goods-basics"},"Virtual Goods Basics")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#virtual-goods-3rd-party"},"Virtual Goods (3rd Party)"))),(0,n.kt)("h2",{id:"achievements"},"Achievements"),(0,n.kt)("p",null,"brainCloud supports standard achievement functionality: short name (id), title, description, and platform-specific achievement IDs. Devs can also attach a collection of key+value pairs for additional metadata."),(0,n.kt)("p",null,"In brainCloud, Achievements are cosmetic - they do not deliver additional rewards (such as\xa0",(0,n.kt)("em",{parentName:"p"},"Virtual Currencies"),",\xa0",(0,n.kt)("em",{parentName:"p"},"Player XP"),",\xa0",(0,n.kt)("em",{parentName:"p"},"User Statistics"),",\xa0",(0,n.kt)("em",{parentName:"p"},"Virtual Goods"),", etc.)."),(0,n.kt)("p",null,"brainCloud does provide a\xa0",(0,n.kt)("strong",{parentName:"p"},"Milestone"),"\xa0system, however, that can be used to trigger such awards - including\xa0",(0,n.kt)("em",{parentName:"p"},"Achievements")," themselves. Milestones are configured to watch\xa0",(0,n.kt)("em",{parentName:"p"},"User Statistics"),"\xa0and trigger automatically when specified thresholds are exceeded. Milestones can award\xa0",(0,n.kt)("em",{parentName:"p"},"Achievements"),",\xa0",(0,n.kt)("em",{parentName:"p"},"Virtual Currencies"),",\xa0",(0,n.kt)("em",{parentName:"p"},"Player XP"),",\xa0",(0,n.kt)("em",{parentName:"p"},"User Statistics"),", and\xa0",(0,n.kt)("em",{parentName:"p"},"Global Statistics"),".\xa0"),(0,n.kt)("p",null,"Milestones do not currently award\xa0",(0,n.kt)("em",{parentName:"p"},"Product Items"),"; that feature is coming in an\xa0",(0,n.kt)("em",{parentName:"p"},"upcoming release.")," This functionality can however be easily achieved with custom code by attaching the product item id to the Achievement\u2019s metadata."),(0,n.kt)("p",null,"brainCloud does not have\xa0",(0,n.kt)("em",{parentName:"p"},"Leaderboard Triggers"),"\xa0- but you\xa0",(0,n.kt)("em",{parentName:"p"},"can")," attach a custom Cloud Code script to any API Call via the\xa0",(0,n.kt)("strong",{parentName:"p"},"API Hooks"),"\xa0feature. So for example, a\xa0",(0,n.kt)("em",{parentName:"p"},"PostSuccess API Hook"),"\xa0on the\xa0PostScoreToLeaderboard()\xa0call can achieve a similar result."),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"authentication-basics"},"Authentication Basics"),(0,n.kt)("p",null,"brainCloud supports a rich set of\xa0",(0,n.kt)("em",{parentName:"p"},"authentication types"),"\xa0(also called\xa0",(0,n.kt)("em",{parentName:"p"},"Identity Types"),")."),(0,n.kt)("p",null,"The equivalent of GameSpark\u2019s Device Authentication is brainCloud\u2019s\xa0",(0,n.kt)("em",{parentName:"p"},"Anonymous ID"),". This is a generated GUID that is stored on the player\u2019s device."),(0,n.kt)("p",null,"Authenticating anonymously is as simple as calling the brainCloud Wrapper\u2019s\xa0",(0,n.kt)("inlineCode",{parentName:"p"},"AuthenticateAnonymous()"),"\xa0call.\xa0"),(0,n.kt)("p",null,"bool forceCreate = true; // Creates the account if it doesn't already exist\nSuccessCallback successCallback = (response, cbObject) =>\n{\n// Continue with launching the app\n// ...\n};\nFailureCallback failureCallback = (status, code, error, cbObject) =>\n{\n// An error occurred\n// Pop up a dialog for the user to retry?\n};"),(0,n.kt)("p",null,"_","bc.AuthenticationService.AuthenticateAnonymous(forceCreate, successCallback, failureCallback);"),(0,n.kt)("h3",{id:"registration"},"Registration"),(0,n.kt)("p",null,"brainCloud also supports both Univeral Identity (username + password) and Email Identity (email address + password) authentication."),(0,n.kt)("p",null,"To register their account, the app simply attaches the desired identity type to the player\u2019s account. For example, the following code attaches a Universal Identity to the account."),(0,n.kt)("p",null,"bc.IdentityService.AttachUniversalIdentity(\nuserId,\npassword,\nSuccessCallback, FailureCallback);"),(0,n.kt)("h3",{id:"authentication"},"Authentication"),(0,n.kt)("p",null,"Once a higher form of identity has been attached to the account, the app can login using that identity via the appropriate authentication calls. For example, to login via the Universal Identity:"),(0,n.kt)("p",null,"_","bc.AuthenticationService.AuthenticateUniversal(\nuserId,\npassword,\nforceCreate,\nsuccessCallback,\nfailureCallback);"),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"authentication-3rd-party"},"Authentication (3rd Party)"),(0,n.kt)("p",null,"brainCloud supports Sign in With Apple, Facebook Login, Google Play, Google OpenId, Oculus, and more."),(0,n.kt)("p",null,"From a code perspective, all work basically the same:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The app uses the appropriate Platform / 3rd Party SDK to authentication the user"),(0,n.kt)("li",{parentName:"ul"},"The app then passes the authentication information returned from the SDK to brainCloud (via the appropriate authentication mechanism"),(0,n.kt)("li",{parentName:"ul"},"brainCloud validates the authentication is legit - and then looks up the user\u2019s account and/or creates a new account as directed (according to the\xa0","`","`",(0,n.kt)("inlineCode",{parentName:"li"},"forceCreate"),"option)")),(0,n.kt)("p",null,"For example, the call for Sign in with Apple is:"),(0,n.kt)("p",null,"_","bc.AuthenticationService.AuthenticateApple(\nappleUserId,\nidentityToken,\nforceCreate,\nSuccessCallback,\nFailureCallback);"),(0,n.kt)("p",null,"Tutorials for configuring brainCloud and the 3rd party system can be found here:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Sign in with Apple -\xa0",(0,n.kt)("a",{parentName:"li",href:"/learn/portal-tutorials/authentication-apple/"},"https://getbraincloud.com/apidocs/portal-usage/authentication-apple/")),(0,n.kt)("li",{parentName:"ul"},"Facebook Login -\xa0",(0,n.kt)("a",{parentName:"li",href:"/learn/portal-tutorials/authentication-facebook//"},"https://getbraincloud.com/apidocs/portal-usage/basic-configuration-facebook/")),(0,n.kt)("li",{parentName:"ul"},"Google Play -\xa0",(0,n.kt)("a",{parentName:"li",href:"/learn/portal-tutorials/authentication-google-playgame/"},"https://getbraincloud.com/apidocs/portal-usage/authentication-google-playgame/")),(0,n.kt)("li",{parentName:"ul"},"Google OpenId -\xa0",(0,n.kt)("a",{parentName:"li",href:"/learn/portal-tutorials/authentication-google-openid/"},"https://getbraincloud.com/apidocs/portal-usage/authentication-google-openid/")),(0,n.kt)("li",{parentName:"ul"},"Oculus -\xa0",(0,n.kt)("a",{parentName:"li",href:"/learn/portal-tutorials/authentication-oculus/"},"https://getbraincloud.com/apidocs/portal-usage/authentication-oculus/"))),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"chat--messaging"},"Chat & Messaging"),(0,n.kt)("p",null,"brainCloud supports both Chat and Messaging as part of its\xa0",(0,n.kt)("strong",{parentName:"p"},"RTT"),"\xa0(Real-time Tech) offering. RTT enhances brainCloud\u2019s standard request+response API with an additional WebSocket connection to the server for bi-directional real-time communications."),(0,n.kt)("h3",{id:"chat"},"Chat"),(0,n.kt)("p",null,"In brainCloud, Chat messages are directed to\xa0",(0,n.kt)("em",{parentName:"p"},"channels"),", not users. Channels have an ID and a rolling history. Active listeners of a channel are notified in real-time when new messages are posted."),(0,n.kt)("p",null,"brainCloud supports Global, Group (i.e. Clans or Teams) and Dynamic Channels. brainCloud also supports Lobby Chat - though technically that is achieved through a separate, lobby event API."),(0,n.kt)("p",null,"To participate in Chat or Messaging, the client app must first enable RTT:"),(0,n.kt)("p",null,"eRTTConnectionType rttConnectionType = eRTTConnectionType.WEBSOCKET;\n","_","bc.RTTService.EnableRTT(rttConnectionType, successCallback, failureCallback);"),(0,n.kt)("p",null,"And register for the chat callback:"),(0,n.kt)("p",null,"RTTCallback rttCallback = response =>\n{\nDebug.Log(response);\n// do something! :)\n};\n","_","bc.RTTService.RegisterRTTChatCallback(rttCallback);"),(0,n.kt)("p",null,"Next, the app connects to the desired chat channel:"),(0,n.kt)("p",null,'string channelId = "22817:gl:CHAT',"_",'TRADE"; // APP',"_","ID:CHANNEL","_","TYPE:CHANNEL","_","ID\n","_","bc.ChatService.ChannelConnect(\nchannelId,\nmaxReturn,\nsuccessCallback,\nfailureCallback);"),(0,n.kt)("p",null,"And finally to post a message:"),(0,n.kt)("p",null,"_","bc.ChatService.PostChatMessageSimple(\nchannelId,\nchatMessage,\ntrue,\nsuccessCallback,\nfailureCallback);"),(0,n.kt)("p",null,"Note that brainCloud chat supports both simple text and rich JSON payloads - and integrates with WebPurify for profanity filtering."),(0,n.kt)("h3",{id:"messaging"},"Messaging"),(0,n.kt)("p",null,"In brainCloud,\xa0",(0,n.kt)("em",{parentName:"p"},"Messaging messages"),"\xa0differ from\xa0",(0,n.kt)("em",{parentName:"p"},"Chat messages"),"\xa0in that they are directed at\xa0",(0,n.kt)("em",{parentName:"p"},"players"),", not\xa0",(0,n.kt)("em",{parentName:"p"},"channels"),". Messaging can be thought of as a simple local email system for your app."),(0,n.kt)("p",null,"Each player has an inbox and an outbox."),(0,n.kt)("p",null,"Note - because Messaging is RTT-enabled, online players will be alerted in real-time (via a callback) when a new Message arrives.\xa0"),(0,n.kt)("p",null,"brainCloud Messaging supports both simple text messages and complex JSON payloads. The following method delivers a simple text message to the players at the specified ",(0,n.kt)("inlineCode",{parentName:"p"},"profileIds"),"."),(0,n.kt)("p",null,"_","bc.MessagingService.SendMessageSimple(\ntoProfileIds,\ntext,\nsuccessCallback,\nfailureCallback);"),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"cloud-code"},"Cloud Code"),(0,n.kt)("p",null,"brainCloud\u2019s Cloud Code system is very similar to the model employed by GameSparks:"),(0,n.kt)("p",null,"In brainCloud:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Cloud code Scripts are written in\xa0",(0,n.kt)("strong",{parentName:"li"},"JavaScript"),", and run upon an embedded\xa0",(0,n.kt)("strong",{parentName:"li"},"Rhino"),"\xa0engine"),(0,n.kt)("li",{parentName:"ul"},"Scripts can\xa0",(0,n.kt)("a",{parentName:"li",href:"http://getbraincloud.com/api/cc/ccscripts/ccsharedscripts"},(0,n.kt)("em",{parentName:"a"},"include")),"\xa0other scripts and\xa0",(0,n.kt)("em",{parentName:"li"},"call"),"\xa0other scripts."),(0,n.kt)("li",{parentName:"ul"},"Scripts are passed\xa0",(0,n.kt)("strong",{parentName:"li"},"JSON parameters"),"\xa0when they are called"),(0,n.kt)("li",{parentName:"ul"},"Scripts have access to the\xa0",(0,n.kt)("em",{parentName:"li"},"full brainCloud API"),"\xa0- including the ability to\xa0",(0,n.kt)("em",{parentName:"li"},(0,n.kt)("strong",{parentName:"em"},"Get/Set Player Data")),"\xa0(like player statistics, attributes, User Entities, Owned Custom Entities, etc.) and\xa0",(0,n.kt)("strong",{parentName:"li"},"Get Static Game Data - MetaCollections"),"\xa0(like Global Properties, Global Entities, Un-owned Custom Entities, etc.)"),(0,n.kt)("li",{parentName:"ul"},"API calls made from Cloud Code Scripts run\xa0",(0,n.kt)("strong",{parentName:"li"},"synchronously"),"\xa0for simplicity!"),(0,n.kt)("li",{parentName:"ul"},"Scripts have access to the brainCloud HttpClient service - which can be used to\xa0",(0,n.kt)("strong",{parentName:"li"},"Send HTTP requests")," to external services"),(0,n.kt)("li",{parentName:"ul"},"Scripts can be registered to be called from webhooks - which are useful for\xa0",(0,n.kt)("strong",{parentName:"li"},"Receiving HTTP Requests"),"\xa0from external services. (Note - brainCloud also supports a custom S2S API for more flexibility)"),(0,n.kt)("li",{parentName:"ul"},"brainCloud supports\xa0",(0,n.kt)("strong",{parentName:"li"},"User Batch Jobs"),"\xa0- so you can trigger a script to be run on a select batch of users (or all users).\xa0"),(0,n.kt)("li",{parentName:"ul"},"brainCloud supports\xa0",(0,n.kt)("strong",{parentName:"li"},"Scheduling"),"\xa0scripts to be run in the future. Although there isn\u2019t the concept of \u201crun every hour\u201d or \u201crun every day\u201d - it is very simple to have a script reschedule itself to achieve the same result."),(0,n.kt)("li",{parentName:"ul"},"brainCloud scripts can be attached to API calls via\xa0",(0,n.kt)("strong",{parentName:"li"},"API Hooks"),". API Hooks can be configured to run custom scripts before and/or after the API call. This can be useful for modifying a game\u2019s behavior without the need to redeploy a new client.")),(0,n.kt)("h3",{id:"braincloud-data"},"brainCloud Data"),(0,n.kt)("p",null,"brainCloud offers a rich set of data APIs for storing player and game data. An overview of the different data APIs can be found\xa0",(0,n.kt)("a",{parentName:"p",href:"/learn/key-concepts/data/"},"here"),"\xa0- as well as a discussion of the benefits of Custom Entities vs. the older User and Global Entity mechanisms\xa0",(0,n.kt)("a",{parentName:"p",href:"http://help.getbraincloud.com/en/articles/3754150-custom-entities-a-scalable-and-flexible-app-data-storage-and-querying-solution"},"here"),"."),(0,n.kt)("h3",{id:"metacollections"},"MetaCollections"),(0,n.kt)("p",null,"Developers should use brainCloud\u2019s Unowned Custom Entities in place of MetaCollections. Custom Entities are JSON objects with a rich API for storage and retrieval. For more information, see the\xa0",(0,n.kt)("a",{parentName:"p",href:"http://getbraincloud.com/api/capi/customentity"},"Custom Entity API reference"),"."),(0,n.kt)("h3",{id:"system-scripts"},"System-Scripts"),(0,n.kt)("p",null,"brainCloud provides a mechanism called\xa0",(0,n.kt)("a",{parentName:"p",href:"http://getbraincloud.com/api/cc/ccscripts/apihooks"},(0,n.kt)("strong",{parentName:"a"},"API Hooks")),"\xa0that allows you to attach custom scripts to API Calls and other events in brainCloud."),(0,n.kt)("p",null,"API Hooks can be configured as either\xa0",(0,n.kt)("strong",{parentName:"p"},"Pre-"),"\xa0or\xa0",(0,n.kt)("strong",{parentName:"p"},"Post-"),"\xa0hooks - meaning that they will run either before or after the API calls they are enhancing.\xa0"),(0,n.kt)("p",null,"Post-hooks are useful for cases where you want to enhance the results of an API call with additional data - for example, attaching the user\u2019s campaign state to the\xa0",(0,n.kt)("strong",{parentName:"p"},"Authenticate"),"\xa0call results."),(0,n.kt)("p",null,"Pre-hooks can be used to add additional checks to allow/disallow API calls - and alternatively re-route the calls themselves. They are an easy way to re-route cheaters to alternate leaderboards, for example."),(0,n.kt)("h3",{id:"bulk-jobs"},"Bulk-Jobs"),(0,n.kt)("p",null,"brainCloud offers a Batch User Script feature for scheduling a script to be run\xa0",(0,n.kt)("em",{parentName:"p"},"all"),"\xa0or a\xa0",(0,n.kt)("em",{parentName:"p"},"subset"),"\xa0of users."),(0,n.kt)("p",null,"Like GameSparks, the workload is spread across all players and executed as background jobs to not impact server performance. brainCloud also offers the ability to trigger a completion script when all users have been processed."),(0,n.kt)("p",null,"For more information, check out the\xa0",(0,n.kt)("a",{parentName:"p",href:"http://getbraincloud.com/api/s2s/script/runbatchuserscriptandcompletionscript"},"RunBatchUserScriptAndCompletionScript()"),"\xa0API call."),(0,n.kt)("h3",{id:"schedulers"},"Schedulers"),(0,n.kt)("p",null,"brainCloud offers APIs for scheduling a script to run at a specified time in the future. Although not the same as the every-hour, every-day scripts supported by GameSparks - the same sort of functionality can be achieved by having the script re-schedule itself to run again. An\xa0",(0,n.kt)("a",{parentName:"p",href:"/learn/cloud-code-central/handy-cloud-code-scripts/scriptscheduler-script/"},"example"),"\xa0of such a script can be found in brainCloud\u2019s Cloud Code Central repository."),(0,n.kt)("h3",{id:"transitioning-metacollections"},"Transitioning MetaCollections"),(0,n.kt)("p",null,"The brainCloud Portal offers the ability to import data from JSON files - this is supported for both Custom Entities and Global Entities. This is suitable when important static reference data - like level data, tuning files, etc."),(0,n.kt)("p",null,"Information"),(0,n.kt)("p",null,"The allowed size of import files is limited - if you receive an error during the import, message our support and we may be able to adjust the limit for you."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Note that brainCloud also supports an S2S API, which may be helpful if you need a more custom approach for migrating your app's reference data.")),(0,n.kt)("h3",{id:"gamesparks-api-wrappers"},"GameSparks API Wrappers"),(0,n.kt)("p",null,"If you decide to create wrappers for GameSparks key APIs, you can easily include them in your scripts using the\xa0bridge.include()\xa0operation."),(0,n.kt)("p",null,"Using this approach may allow you to better take advantage of the similarities between the brainCloud and GameSparks cloud code systems."),(0,n.kt)("h3",{id:"asynchronous-apis"},"Asynchronous APIs"),(0,n.kt)("p",null,"Happily, brainCloud cloud code scripts use synchronous calls, just like GameSparks."),(0,n.kt)("h3",{id:"performance-bottlenecks"},"Performance Bottlenecks"),(0,n.kt)("p",null,"The brainCloud Cloud Code Editor and API Usage pages can help you to find performance bottlenecks:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The\xa0",(0,n.kt)("strong",{parentName:"li"},"Cloud Code Editor"),"\xa0returns the execution time for each test run of your script. It also returns information on what API calls we made by the script - to help better understand where time may have been spent"),(0,n.kt)("li",{parentName:"ul"},"The\xa0",(0,n.kt)("strong",{parentName:"li"},"Reports | API Usage"),"\xa0page displays the average execution times of each of your API calls, including cloud code scripts. Any commonly called scripts taking longer than 200ms should be examined for possible optimizations.")),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"data-transition-guide"},"Data Transition Guide"),(0,n.kt)("h3",{id:"reference-data"},"Reference data"),(0,n.kt)("p",null,"The brainCloud Portal offers the ability to import data from JSON files - this is supported for both Custom Entities and Global Entities."),(0,n.kt)("p",null,"This is suitable when importing static reference data - like level data, tuning files, etc."),(0,n.kt)("p",null,"Information"),(0,n.kt)("p",null,"The allowed size of import files is limited - if you receive an error during the import, message our support and we may be able to adjust the limit for you."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Note that brainCloud also supports an S2S API, which may be helpful if you need a more custom approach for migrating your app's reference data.")),(0,n.kt)("h3",{id:"user-accounts"},"User accounts"),(0,n.kt)("p",null,"For dynamic user data, it is highly recommended that new users be migrated over during initial login to brainCloud."),(0,n.kt)("p",null,"This has a number of benefits:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Simpler - Importing a single user is simpler than importing all of them"),(0,n.kt)("li",{parentName:"ul"},"Scalable - It spreads the work of importing out, creating less load on both brainCloud and GameSparks"),(0,n.kt)("li",{parentName:"ul"},"Efficient - it ensures that only active player data is migrated over to brainCloud. If your game is more than two years old, it's likely that less than 25% of your stored player accounts are still active.")),(0,n.kt)("p",null,"The recommended approach is to leverage the following brainCloud features:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"External Authentication - which allows brainCloud users to be authenticated via an external source - like your Gamesparks app"),(0,n.kt)("li",{parentName:"ul"},"API Post-Hook - which can be used after successful authentication, to trigger a script to retrieve the user's GameSparks data"),(0,n.kt)("li",{parentName:"ul"},"HTTPClient service - used to make HTTP calls to external services (i.e. GameSparks)")),(0,n.kt)("p",null,"More information on this sort of approach can be found in\xa0",(0,n.kt)("a",{parentName:"p",href:"http://help.getbraincloud.com/en/articles/5374223-dynamic-account-migration-between-apps"},"this"),"\xa0article."),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"downloadables"},"Downloadables"),(0,n.kt)("p",null,"brainCloud supports a Global Files service that allows developers to upload files to be downloaded by client apps. These files are automatically distributed to AWS CloudFront CDN for fast downloads."),(0,n.kt)("p",null,"Uploading of files to brainCloud is normally done via the Design Portal. It is also possible to upload a file as a User File via a Client Library, and then convert it to a Global File via an API Call."),(0,n.kt)("p",null,"(We will be adding the ability to upload Global Files directly in a future version of our APIs.)"),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"emails-sendgrid"},"Emails (SendGrid)"),(0,n.kt)("p",null,"brainCloud provides a SendGrid integration for sending emails."),(0,n.kt)("p",null,"To utilize brainCloud's SendGrid functionality, simply:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Configure the SendGrid settings on the ",(0,n.kt)("strong",{parentName:"li"},"Design | Integrations | Manage Integrations")," page, ",(0,n.kt)("em",{parentName:"li"},"SendGrid")," section of the design portal"),(0,n.kt)("li",{parentName:"ul"},"Modify your scripts and/or client to use brainCloud's ",(0,n.kt)("a",{parentName:"li",href:"http://getbraincloud.com/api/capi/mail"},(0,n.kt)("inlineCode",{parentName:"a"},"Mail")," service")," APIs"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"Optionally")," customize the system templates to be used for password resets and such on the ",(0,n.kt)("strong",{parentName:"li"},"Design | Authentication | Email Authentication")," page.")),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"leaderboard-basics"},"Leaderboard Basics"),(0,n.kt)("p",null,"brainCloud provides a rich leaderboard system - with support for both player and group leaderboards, scoring types, rotation types, supplemental data, history, etc."),(0,n.kt)("p",null,"Leaderboards are normally pre-defined in the Portal on the ",(0,n.kt)("strong",{parentName:"p"},"Design | Leaderboards | Leaderboard Configs")," page. Leaderboards can also be dynamically created using the ",(0,n.kt)("inlineCode",{parentName:"p"},"PostScoreToDynamicLeaderboardUTC()")," call."),(0,n.kt)("p",null,"Leaderboard scores can be viewed on the ",(0,n.kt)("strong",{parentName:"p"},"Monitoring | Global Monitoring | Leaderboards")," page of the Portal."),(0,n.kt)("p",null,"brainCloud of provides a rich API for returning leaderboard results, including social and global leaderboard results - as well as an advanced API for retrieving high scores across multiple leaderboards for social maps."),(0,n.kt)("p",null,"A player's own ",(0,n.kt)("em",{parentName:"p"},"score")," can be retrieved via the ",(0,n.kt)("inlineCode",{parentName:"p"},"GetPlayerScore()")," api."),(0,n.kt)("p",null,"Advice"),(0,n.kt)("p",null,"Pro-tip: To retrieve a player's ",(0,n.kt)("em",{parentName:"p"},"rank")," as well as ",(0,n.kt)("em",{parentName:"p"},"score"),", use the ",(0,n.kt)("inlineCode",{parentName:"p"},"GetGlobalLeaderboardView()")," call, specifying ",(0,n.kt)("inlineCode",{parentName:"p"},"0")," for the ",(0,n.kt)("inlineCode",{parentName:"p"},"beforeCount")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"afterCount"),"."),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"leaderboard-partitions"},"Leaderboard Partitions"),(0,n.kt)("p",null,"brainCloud does not support Partitioned Leaderboards - but something similar can be achieved using multiple leaderboards."),(0,n.kt)("p",null,'To keep setup as simple as possible, we would recommend that the additional partitions (for example, country-specific versions of the leaderboard) be created programmatically with a descriptive suffix (i.e. "',"_","<countrycode",">",'". This can be done via a simple cloud code script and/or cloud code hook.'),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"leaderboard-resetting"},"Leaderboard Resetting"),(0,n.kt)("p",null,"brainCloud directly supports the following automatic rotation types:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"NEVER - the leaderboard never resets"),(0,n.kt)("li",{parentName:"ul"},"DAILY - the leaderboard resets daily"),(0,n.kt)("li",{parentName:"ul"},"DAYS - the leaderboard resets after <x",">"," days"),(0,n.kt)("li",{parentName:"ul"},"WEEKLY - the leaderboard resets weekly"),(0,n.kt)("li",{parentName:"ul"},"MONTHLY - the leaderboard resets monthly"),(0,n.kt)("li",{parentName:"ul"},"YEARLY - the leaderboard resets yearly")),(0,n.kt)("p",null,'brainCloud leaderboards also have a "retained count" - that determines how many old copies of the leaderboard are retained before deletion. This can be useful for rewarding players for their performance in the previous rotation.'),(0,n.kt)("p",null,"Note that developers can also directly control rotation by configuring a NEVER leaderboard and resetting it manually via the ",(0,n.kt)("inlineCode",{parentName:"p"},"SysResetNeverLeaderboard()")," call."),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"manage-screens"},"Manage Screens"),(0,n.kt)("p",null,"brainCloud has a feature-rich Design Portal that provides access to game, group, and player data - including entities, statistics, leaderboards, etc. All of this data is viewable and editable by development and support personnel (given appropriate permissions)."),(0,n.kt)("p",null,"The data is all accessible via the Monitoring portion of the portal. Monitoring is broken into the following sub-sections:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Global Monitoring")," - for viewing/editing global data - like global/custom entities, leaderboards, global statistics, job queues, and more"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Group Monitoring")," - for viewing/editing of groups and group data"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"User Monitoring")," ","-"," for viewing/editing of users and their data")),(0,n.kt)("p",null,"brainCloud also provides an S2S API that can be used to implement a custom management tool that manages your brainCloud-based apps."),(0,n.kt)("p",null,"More information on the S2S API can be found ",(0,n.kt)("a",{parentName:"p",href:"http://getbraincloud.com/api/s2s"},"here"),"."),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"matchmaking"},"Matchmaking"),(0,n.kt)("p",null,"brainCloud provides two different matchmaking systems."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"MatchMaking")," service is primarily for use by games that are using brainCloud's ",(0,n.kt)("inlineCode",{parentName:"p"},"Async Match")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"One-way Match")," APIs. Games of these types are often played offline - and thus this matchmaking service only selects offline players."),(0,n.kt)("p",null,"Online games should use the brainCloud ",(0,n.kt)("inlineCode",{parentName:"p"},"Lobby")," service for matchmaking. Lobby Matchmaking identifies groups of suitable players for online play."),(0,n.kt)("p",null,"Lobby Matchmaking is highly configurable, with support for:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"skill level matching"),(0,n.kt)("li",{parentName:"ul"},"min / max players (by team)"),(0,n.kt)("li",{parentName:"ul"},"geo matching <- prioritizing players that are close together"),(0,n.kt)("li",{parentName:"ul"},"filter scripts")),(0,n.kt)("p",null,"For more information, see the brainCloud ",(0,n.kt)("a",{parentName:"p",href:"http://getbraincloud.com/api/capi/lobby"},"Lobby")," service."),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"player-manager"},"Player Manager"),(0,n.kt)("p",null,"Player Management is accomplished via the ",(0,n.kt)("strong",{parentName:"p"},"Monitoring | User Monitoring")," section of the portal. Subsections for viewing and editing player data include:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"User Summary - a summary of the user's info, including name, xp, identities, currency balances, etc."),(0,n.kt)("li",{parentName:"ul"},"Achievements - displays the user's achievement status"),(0,n.kt)("li",{parentName:"ul"},"Attributes - displays any attributes attached to the user. Supported creating and editing of attributes"),(0,n.kt)("li",{parentName:"ul"},"Custom Entities - allows for view/edit of a user's owned Custom Entities"),(0,n.kt)("li",{parentName:"ul"},"Friends - view the player's friends (both 3rd party and locally managed)"),(0,n.kt)("li",{parentName:"ul"},"Groups - view the Groups the user is a member of"),(0,n.kt)("li",{parentName:"ul"},"Inventory - view the items owned by the player"),(0,n.kt)("li",{parentName:"ul"},"Milestones & Quests - view the user's completion status for milestones and quests"),(0,n.kt)("li",{parentName:"ul"},"One-way MP - view the status of recent one-way multiplayer matches"),(0,n.kt)("li",{parentName:"ul"},"Pricing - view the store prices for this player - including any promotions that may be being applied"),(0,n.kt)("li",{parentName:"ul"},"Statistics - view/edit the user's statistics"),(0,n.kt)("li",{parentName:"ul"},"Transactions - view any purchases the player may have made"),(0,n.kt)("li",{parentName:"ul"},"Turn-by-Turn MP - view any async match games currently in progress"),(0,n.kt)("li",{parentName:"ul"},"User Entities - view/edit the player's User Entities"),(0,n.kt)("li",{parentName:"ul"},"User Files - view the files that this user has uploaded"),(0,n.kt)("li",{parentName:"ul"},"Virtual Currency - view/edit the user's current balances"),(0,n.kt)("li",{parentName:"ul"},"Logs - logs of the user's recent interactions with the brainCloud API <- super useful for debugging!")),(0,n.kt)("p",null,"brainCloud also offers an S2S API that can be useful for building custom management tools."),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"scheduled-events"},"Scheduled Events"),(0,n.kt)("p",null,"brainCloud offers a Scheduled Promotions feature that can be used to configure sale prices for all users and/or specific segments of users."),(0,n.kt)("p",null,"The list of active promotions can also be queried via the ",(0,n.kt)("inlineCode",{parentName:"p"},"RefreshPromotions()")," call - and could be used by the client to configure additional custom functionality."),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"teams"},"Teams"),(0,n.kt)("p",null,"brainCloud's term for ",(0,n.kt)("em",{parentName:"p"},"Team")," is ",(0,n.kt)("em",{parentName:"p"},"Group"),"."),(0,n.kt)("p",null,"Groups are designed as follows:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Groups consist of a collection of members (users)"),(0,n.kt)("li",{parentName:"ul"},"Groups have a name, a type, an id, and custom data"),(0,n.kt)("li",{parentName:"ul"},'Members are each assigned a role-based permission level: "OWNER", "ADMIN", or "MEMBER"'),(0,n.kt)("li",{parentName:"ul"},'Groups have one (and only one) "OWNER". The OWNER of a group can add/remove members, and delete the group'),(0,n.kt)("li",{parentName:"ul"},'Groups can have multiple "ADMIN"s. ADMINs are like OWNERs, except that they cannot delete the group.'),(0,n.kt)("li",{parentName:"ul"},'Any "MEMBER" can edit group data'),(0,n.kt)("li",{parentName:"ul"},"MEMBERs of a group can have custom attributes associated with them (can be used for custom application roles, etc.)"),(0,n.kt)("li",{parentName:"ul"},"Users can be members of more than one group"),(0,n.kt)("li",{parentName:"ul"},"Users can be the owner of more than one group"),(0,n.kt)("li",{parentName:"ul"},"Groups can also have associated Entities (i.e. GroupEntity)")),(0,n.kt)("h3",{id:"team-chat--notifications"},"Team Chat & Notifications"),(0,n.kt)("p",null,"brainCloud supports text-based ",(0,n.kt)("em",{parentName:"p"},"Team Chat")," via RTT's ",(0,n.kt)("inlineCode",{parentName:"p"},"Chat")," Service. The ",(0,n.kt)("inlineCode",{parentName:"p"},"Chat"),' service supports special "group channels" for communications between the members of a group.'),(0,n.kt)("p",null,"brainCloud also supports sending push notifications to the members of a group via the ",(0,n.kt)("inlineCode",{parentName:"p"},"SendRawPushNotificationToGroup()")," call."),(0,n.kt)("h3",{id:"team-leaderboards"},"Team Leaderboards"),(0,n.kt)("p",null,"brainCloud supports group leaderboards - which are leaderboards where the group entries, instead of player entries."),(0,n.kt)("p",null,"brainCloud also supports group social leaderboard calls - where the results of the player leaderboard call are filtered to just the members of the specified group."),(0,n.kt)("h3",{id:"team-data"},"Team Data"),(0,n.kt)("p",null,"brainCloud supports two forms of team data:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Group Data - which is custom JSON attached to a group"),(0,n.kt)("li",{parentName:"ul"},"Group Entities - which are JSON entity objects owned by a group")),(0,n.kt)("p",null,"Both types of data are serviced via the ",(0,n.kt)("a",{parentName:"p",href:"http://getbraincloud.com/api/capi/group"},"Group Service API"),"."),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"virtual-currency"},"Virtual Currency"),(0,n.kt)("p",null,"brainCloud provides a ",(0,n.kt)("inlineCode",{parentName:"p"},"VirtualCurrency")," service for managing a player's currency balances. Developers can define as many currencies as they like - and these currencies can be automatically awarded from XP level-ups, Milestones, Quests, and Tournaments -- and of course, be purchased via in-app purchase Products."),(0,n.kt)("p",null,"To configure a sign-up bonus for players, simply add the desired currency amount as a reward for the initial XP level. ",(0,n.kt)("em",{parentName:"p"},"Note that this technique works even if your game doesn't otherwise use the brainCloud XP system.")),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"virtual-goods-basics"},"Virtual Goods Basics"),(0,n.kt)("p",null,"brainCloud provides support for virtual goods via:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"ItemCatalog")," service - which defines the set of items (i.e. virtual goods) that are available for purchase by the user"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"UserItems")," service - which manages the player's inventory of said items, including purchases and trading")),(0,n.kt)("p",null,"Standard item properties include: id, name (",(0,n.kt)("em",{parentName:"p"},"localizable"),"), category (",(0,n.kt)("em",{parentName:"p"},"user-defined"),"), description (",(0,n.kt)("em",{parentName:"p"},"localizable"),"), resource ids, pricing (in ",(0,n.kt)("em",{parentName:"p"},"virtual currency"),"), tags, and custom JSON data."),(0,n.kt)("p",null,"Additional properties enable behaviors like ",(0,n.kt)("em",{parentName:"p"},"stackable"),", ",(0,n.kt)("em",{parentName:"p"},"consumable"),", ",(0,n.kt)("em",{parentName:"p"},"activatable"),", and ",(0,n.kt)("em",{parentName:"p"},"tradable"),"."),(0,n.kt)("p",null,"User items also have a publishing state (DRAFT, PUBLISHED, RETIRED, REVOKED) to help control their life cycle."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Note that brainCloud does not currently support bundles - though this can be worked around using the custom JSON data and a bit of cloud code.")),(0,n.kt)("h2",{id:"virtual-goods-3rd-party"},"Virtual Goods (3rd Party)"),(0,n.kt)("p",null,"brainCloud directly supports in-app purchases on iOS, Google, Facebook, Steam, and more."),(0,n.kt)("p",null,"Purchases are enabled by defining ",(0,n.kt)("em",{parentName:"p"},"Products")," in the ",(0,n.kt)("strong",{parentName:"p"},"Design | Marketplace | Products")," screen of the ",(0,n.kt)("em",{parentName:"p"},"Design Portal"),". Products are generally used to purchase Virtual Currency bundles, but in ",(0,n.kt)("a",{parentName:"p",href:"/release/2021/10/12/release-4-9/"},"brainCloud 4.9")," we add support for purchasing User Items (i.e. Virtual Goods) as well."),(0,n.kt)("p",null,"Products in brainCloud can be defined with multiple price points - which are convenient for scheduling sales using the ",(0,n.kt)("strong",{parentName:"p"},"Promotions")," service."),(0,n.kt)("p",null,"To configure Products in brainCloud for purchase, developers must first:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Configures the necessary platform integration settings. See tutorial examples for ",(0,n.kt)("a",{parentName:"li",href:"/learn/portal-tutorials/store-integration-ios/"},"iOS")," and ",(0,n.kt)("a",{parentName:"li",href:"/learn/portal-tutorials/store-integration-google/"},"Google")," to start."),(0,n.kt)("li",{parentName:"ul"},"Configure the products to be purchased in the ",(0,n.kt)("strong",{parentName:"li"},"Design | Marketplace | Products")," page of the portal. The products should be configured to award Virtual Currencies, items from the Item Catalog, and/or custom rewards via attached JSON (and custom cloud code scripts)"),(0,n.kt)("li",{parentName:"ul"},"Configure the ",(0,n.kt)("strong",{parentName:"li"},"pricing")," of the products - matching up the appStore IDs with the definitions in the platform stores")),(0,n.kt)("p",null,"At purchase time, the app will:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Retrieve a list of the products available for sale (and their corresponding platform store ids) via brainCloud's ",(0,n.kt)("inlineCode",{parentName:"li"},"AppStore")," service's ",(0,n.kt)("inlineCode",{parentName:"li"},"GetSalesInventory()")," call."),(0,n.kt)("li",{parentName:"ul"},"Call the Platform SDK to retrieve the localized prices for the items to display"),(0,n.kt)("li",{parentName:"ul"},"Display the list of products to the user in your custom storefront"),(0,n.kt)("li",{parentName:"ul"},"When a user selects purchase, the app will initiate a purchase transaction using the Platform SDK"),(0,n.kt)("li",{parentName:"ul"},"The SDK will return receipt data, which the app will forward to brainCloud using the ",(0,n.kt)("inlineCode",{parentName:"li"},"AppStore")," ",(0,n.kt)("inlineCode",{parentName:"li"},"VerifyPurchase()")," call"),(0,n.kt)("li",{parentName:"ul"},"brainCloud makes a server-to-server call to the Platform to verify the receipt data (as well as performs a few additional checks of our own)"),(0,n.kt)("li",{parentName:"ul"},"If the purchase is valid, the player is awarded the contents of the Product - and the results are returned to the client app")),(0,n.kt)("p",null,"For more information, see the brainCloud ",(0,n.kt)("a",{parentName:"p",href:"http://getbraincloud.com/api/capi/appstore"},"AppStore APIs"),"."))}d.isMDXComponent=!0}}]);