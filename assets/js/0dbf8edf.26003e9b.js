"use strict";(self.webpackChunkdocusauruns_ts=self.webpackChunkdocusauruns_ts||[]).push([[46],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),m=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=m(e.components);return r.createElement(l.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=m(a),d=n,h=p["".concat(l,".").concat(d)]||p[d]||c[d]||o;return a?r.createElement(h,i(i({ref:t},u),{},{components:a})):r.createElement(h,i({ref:t},u))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:n,i[1]=s;for(var m=2;m<o;m++)i[m]=a[m];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},49126:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>m});var r=a(87462),n=(a(67294),a(3905));const o={title:"(Minor) Release 3.2.5",date:"2017-02-10",tags:["release-history"]},i=void 0,s={permalink:"/braincloud-apiref/release/2017/02/10/minor-release-3-2-5",source:"@site/release/2017-02-10-minor-release-3-2-5/index.md",title:"(Minor) Release 3.2.5",description:"What's smaller than a Release, but bigger than a Patch?",date:"2017-02-10T00:00:00.000Z",formattedDate:"February 10, 2017",tags:[{label:"release-history",permalink:"/braincloud-apiref/release/tags/release-history"}],readingTime:4.34,hasTruncateMarker:!1,authors:[],frontMatter:{title:"(Minor) Release 3.2.5",date:"2017-02-10",tags:["release-history"]},prevItem:{title:"Release 3.3.0",permalink:"/braincloud-apiref/release/2017/03/10/release-3-3-0"},nextItem:{title:"Release 3.2.0",permalink:"/braincloud-apiref/release/2017/01/25/release-3-2-0"}},l={authorsImageUrls:[]},m=[{value:"Optimizations",id:"optimizations",level:2},{value:"<em>Faster User Entities</em>",id:"faster-user-entities",level:3},{value:"<em><strong>Fast Log Processing</strong></em>",id:"fast-log-processing",level:3},{value:"<strong><em>Faster Segment-based Push Notifications</em></strong>",id:"faster-segment-based-push-notifications",level:3},{value:"Minor Features",id:"minor-features",level:2},{value:"<em><strong>Unsubscribe from Tournaments</strong></em>",id:"unsubscribe-from-tournaments",level:3},{value:"<em><strong>Client Kill Switch</strong></em>",id:"client-kill-switch",level:3},{value:"<em><strong>Slow Errors</strong></em>",id:"slow-errors",level:3},{value:"Miscellaneous Fixes",id:"miscellaneous-fixes",level:2}],u={toc:m};function p(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"What's smaller than a Release, but bigger than a Patch?")),(0,n.kt)("h1",{id:"minor-release-325"},"(Minor) Release 3.2.5"),(0,n.kt)("p",null,"Release 3.2.5 includes some key new optimizations, fixes and even a few ",(0,n.kt)("em",{parentName:"p"},"minor")," features."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Note - This is a minor update to ",(0,n.kt)("a",{parentName:"em",href:"/release/2017/01/25/release-3-2-0/"},"brainCloud\xa03.2")," - be sure to check it's ",(0,n.kt)("a",{parentName:"em",href:"/release/2017/01/25/release-3-2-0/"},"release notes")," for the full update on all the great 3.2 features.")),(0,n.kt)("h2",{id:"optimizations"},"Optimizations"),(0,n.kt)("h3",{id:"faster-user-entities"},(0,n.kt)("em",{parentName:"h3"},"Faster User Entities")),(0,n.kt)("p",null,"We have significantly optimized the ",(0,n.kt)("a",{parentName:"p",href:"/api/capi/entity/updatesingleton"},"UpdateSingleton()"),"\xa0API call by eliminating\xa0a superfluous read operation from most usage scenarios. To achieve this, we had to remove some unnecessary fields from the API's JSON return."),(0,n.kt)("p",null,"As per our custom\xa0we\xa0",(0,n.kt)("em",{parentName:"p"},"by default")," preserve compatibility. To fully gain the advantages of this optimization, confirm that your app isn't making use of the ",(0,n.kt)("inlineCode",{parentName:"p"},"entityId"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"acl"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"createdAt"),"\xa0and ",(0,n.kt)("inlineCode",{parentName:"p"},"updatedAt"),"\xa0fields that were previously returned\xa0- and then go to the ",(0,n.kt)("strong",{parentName:"p"},"Design | Core App Info | Advanced Settings")," page, ",(0,n.kt)("em",{parentName:"p"},"Compatibility Settings")," section - and uncheck the ",(0,n.kt)("em",{parentName:"p"},"[ ]"," Include entityId+ in UpdateSingleton Api output")," option."),(0,n.kt)("h3",{id:"fast-log-processing"},(0,n.kt)("em",{parentName:"h3"},(0,n.kt)("strong",{parentName:"em"},"Fast Log Processing"))),(0,n.kt)("p",null,"The continued growth of our platform causes us to continually re-look at our architecture and framework to ensure that we get the best performance. In this last growth spurt, the logging system came under scrutiny as the source of some slowdowns. We've made some incremental changes to improve this - improved batching of writes, and capping the amount of request data logged for some API calls. We have plans to do more in the future."),(0,n.kt)("h3",{id:"faster-segment-based-push-notifications"},(0,n.kt)("strong",{parentName:"h3"},(0,n.kt)("em",{parentName:"strong"},"Faster Segment-based Push Notifications"))),(0,n.kt)("p",null,"Our User Segments feature is very\xa0useful for\xa0targeting push notifications - and some of you are taking great advantage of that, sending notifications to millions of customers daily. That said, not every user enables push notifications - and our segments weren't recognizing that before."),(0,n.kt)("p",null,"To address this, we've added a new ",(0,n.kt)("em",{parentName:"p"},"Push Enabled"),"\xa0",(0,n.kt)("em",{parentName:"p"},"Segment Criteria"),". \xa0If you configure this criteria for a ",(0,n.kt)("em",{parentName:"p"},"segment"),", it will ensure that all members actually have push notification tokens registered. That way brainCloud isn't wasting time chugging through a million records, when only 300,000 of your users have enabled push."),(0,n.kt)("p",null,"Note - to take advantage of this performance optimization, go to ",(0,n.kt)("strong",{parentName:"p"},"Design | Segmentation | Segments"),"\xa0page, select a segment, and add the ",(0,n.kt)("strong",{parentName:"p"},"Push Enabled")," critera to it."),(0,n.kt)("h2",{id:"minor-features"},"Minor Features"),(0,n.kt)("h3",{id:"unsubscribe-from-tournaments"},(0,n.kt)("em",{parentName:"h3"},(0,n.kt)("strong",{parentName:"em"},"Unsubscribe from Tournaments"))),(0,n.kt)("p",null,"Your users can now unsubscribe from tournament mailings. Required legally for many locales. Just include include the code ",(0,n.kt)("inlineCode",{parentName:"p"},"-unSubUrl-")," in your SendGrid email template, and\xa0it will be replaced with a custom unsubscribe URL for that user."),(0,n.kt)("h3",{id:"client-kill-switch"},(0,n.kt)("em",{parentName:"h3"},(0,n.kt)("strong",{parentName:"em"},"Client Kill Switch"))),(0,n.kt)("p",null,"This is more of a feature for us than you :)."),(0,n.kt)("p",null,"Recently we've had a uptick in apps that ",(0,n.kt)("em",{parentName:"p"},"endlessly\xa0retry")," an operation if an error occurs. This is considered bad client behaviour. The brainCloud libraries themselves automatically retry on a timeout and/or communications failure (they will retry 3 times before returning an error to you). If, however, we receive a 4xx or 5xx error from the server, we return it to the app - because that\xa0means that the server is unable to perform the request as formed (possibly bad parameters, bad server data, etc.)"),(0,n.kt)("p",null,"In these cases, if you retry the operation as before, there is a 99.999% chance you will get the same error! Implementing an endless retry in your code is akin to DDOS-ing our servers! And it costs you API calls to boot!"),(0,n.kt)("p",null,"So - we've implemented a way to stop you! Now, if your client app sends in the same erroneous requests ten times in a row, the client will stop actually sending the requests, and return an immediate error to your client app.\xa0This ","*","might","*"," cause an endless loop in your app - so once again - don't do this! ","[Note - most mobile OSes will kill the app as soon as the loop is discovered]"),(0,n.kt)("h3",{id:"slow-errors"},(0,n.kt)("em",{parentName:"h3"},(0,n.kt)("strong",{parentName:"em"},"Slow Errors"))),(0,n.kt)("p",null,"Still on the topic of endless error loops (see above), brainCloud will now\xa0intentionally delay sending error responses back to the client. It's not a huge delay (1/2 a second) - but that can make a significant difference in\xa0the rate that a client can automatically retry - and thus the impact on our servers. This delay is applied ",(0,n.kt)("em",{parentName:"p"},"per bundle"),", ",(0,n.kt)("em",{parentName:"p"},"only if all the messages in a bundle have errors"),"."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Note - this delay is tuneable per app. If it is negatively impacting your app, reach out to us and we can adjust it.")),(0,n.kt)("h2",{id:"miscellaneous-fixes"},"Miscellaneous Fixes"),(0,n.kt)("p",null,"We've also include the following fixes:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},(0,n.kt)("strong",{parentName:"em"},"Merging with Peer Profiles"))," - we've fixed some issues associated with merging of profiles that are associated with Peer Profiles"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},(0,n.kt)("strong",{parentName:"em"},"Reading Leaderboard Configs"))," - the read routines are now much-more robust"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},(0,n.kt)("strong",{parentName:"em"},"Incoming Events")),"\xa0- we've removed the unnecessary gameId field from all incoming event calls. Note - for compatibility reasons, the change only takes effect if the ",(0,n.kt)("em",{parentName:"li"},"[ ]","\xa0Generate Legacy Event Ids")," compatibility flag is unset."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},(0,n.kt)("strong",{parentName:"em"},"Tournament Phases"))," - the display and configuration of Tournament Phases on the Leaderboard Config dialog and Leaderboard Monitoring pages has been improved."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},(0,n.kt)("strong",{parentName:"em"},"Facebook Purchases"))," - we fixed an issue\xa0associated with the latest changes to Facebook's Purchase APIs."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},(0,n.kt)("strong",{parentName:"em"},"Push Notification Tokens"))," - are now properly removed when players are deleted."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},(0,n.kt)("strong",{parentName:"em"},"Cloud Code Jobs"))," - scheduled jobs are now editable again via the ",(0,n.kt)("strong",{parentName:"li"},"Monitoring | Global Monitoring | Job Queue")," page.")))}p.isMDXComponent=!0}}]);