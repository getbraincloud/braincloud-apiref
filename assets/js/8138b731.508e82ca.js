"use strict";(self.webpackChunkdocusauruns_ts=self.webpackChunkdocusauruns_ts||[]).push([[45662],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>b});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var c=n.createContext({}),u=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=u(e.components);return n.createElement(c.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=u(a),f=o,b=d["".concat(c,".").concat(f)]||d[f]||p[f]||r;return a?n.createElement(b,i(i({ref:t},s),{},{components:a})):n.createElement(b,i({ref:t},s))}));function b(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=f;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[d]="string"==typeof e?e:o,i[1]=l;for(var u=2;u<r;u++)i[u]=a[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}f.displayName="MDXCreateElement"},33920:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var n=a(87462),o=(a(67294),a(3905));const r={title:"Authentication - Oculus",date:"2021-04-22"},i=void 0,l={unversionedId:"learn/portal-tutorials/authentication-oculus/index",id:"learn/portal-tutorials/authentication-oculus/index",title:"Authentication - Oculus",description:"This article elaborates on the basic steps of how to authenticate end-users with their Oculus credentials in a Unity example.",source:"@site/docs/learn/5_portal-tutorials/authentication-oculus/index.md",sourceDirName:"learn/5_portal-tutorials/authentication-oculus",slug:"/learn/portal-tutorials/authentication-oculus/",permalink:"/braincloud-apiref/learn/portal-tutorials/authentication-oculus/",draft:!1,editUrl:"https://github.com/getbraincloud/braincloud-apiref/tree/main/docs/learn/5_portal-tutorials/authentication-oculus/index.md",tags:[],version:"current",lastUpdatedBy:"jasonl",lastUpdatedAt:1672679892,formattedLastUpdatedAt:"Jan 2, 2023",frontMatter:{title:"Authentication - Oculus",date:"2021-04-22"},sidebar:"learnSidebar",previous:{title:"Authentication - Google (PlayGame)",permalink:"/braincloud-apiref/learn/portal-tutorials/authentication-google-playgame/"},next:{title:"Push notification configuration - iOS",permalink:"/braincloud-apiref/learn/portal-tutorials/push-notification-configuration-ios/"}},c={},u=[{value:"Prerequisites",id:"prerequisites",level:3},{value:"User Authentication Flow",id:"user-authentication-flow",level:3},{value:"brainCloud Portal Setup",id:"braincloud-portal-setup",level:3},{value:"Get your Oculus app info on the Oculus developer console",id:"get-your-oculus-app-info-on-the-oculus-developer-console",level:4},{value:"Link your Oculus app into brainCloud",id:"link-your-oculus-app-into-braincloud",level:4},{value:"Create an app on Unity editor",id:"create-an-app-on-unity-editor",level:3},{value:"Run Oculus client app on your device",id:"run-oculus-client-app-on-your-device",level:3}],s={toc:u};function d(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This article elaborates on the basic steps of how to authenticate end-users with their Oculus credentials in a Unity example."),(0,o.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"You have set up an Oculus developer account"),(0,o.kt)("li",{parentName:"ul"},"Your Oculus app installed on your test device")),(0,o.kt)("p",null,"For more information about setting up a development environment refer to the ",(0,o.kt)("a",{parentName:"p",href:"https://developer.oculus.com/documentation/unity/book-unity-gsg/"},"Oculus developer")," site."),(0,o.kt)("h3",{id:"user-authentication-flow"},"User Authentication Flow"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327819613/7c2a2098f34ffe793f383014/image.png?expires=1619204400&signature=2db87e22097e30b94cccc23ca7ebc8ed2ca18764e0becb5b4c7b50bf0506bb07"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327819613/7c2a2098f34ffe793f383014/image.png?expires=1619204400&signature=2db87e22097e30b94cccc23ca7ebc8ed2ca18764e0becb5b4c7b50bf0506bb07",alt:null}))),(0,o.kt)("h3",{id:"braincloud-portal-setup"},"brainCloud Portal Setup"),(0,o.kt)("h4",{id:"get-your-oculus-app-info-on-the-oculus-developer-console"},"Get your Oculus app info on the Oculus developer console"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Log in to the ",(0,o.kt)("a",{parentName:"li",href:"https://developer.oculus.com/manage/organizations/105569934983132/"},"Oculus Developer Console")," site"),(0,o.kt)("li",{parentName:"ul"},"Select an existing app or create a new one")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327823074/63003ab86707ded12181f5ea/image.png?expires=1619204400&signature=787f558dd05a49b7224d88ba8e2a2dafbbb545d6d16b7043de487a8b91f2c037"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327823074/63003ab86707ded12181f5ea/image.png?expires=1619204400&signature=787f558dd05a49b7224d88ba8e2a2dafbbb545d6d16b7043de487a8b91f2c037",alt:null}))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Fill out all necessary settings information from there.")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327823563/b9e18b2eeeb8582f1b198058/image.png?expires=1619204400&signature=b669e67c300e9f5aa1ce09a1f1c8714c7725faf0f97514f82497effe8f8e5ec5"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327823563/b9e18b2eeeb8582f1b198058/image.png?expires=1619204400&signature=b669e67c300e9f5aa1ce09a1f1c8714c7725faf0f97514f82497effe8f8e5ec5",alt:null}))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Click API from the left navigation panel, copy down App ID and App Secret")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327823816/2880ce064445607ee8835934/image.png?expires=1619204400&signature=7eb83a181bdd562e712b580959bc2cbac55f3270b4a6b4ef165d36579d22f44b"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327823816/2880ce064445607ee8835934/image.png?expires=1619204400&signature=7eb83a181bdd562e712b580959bc2cbac55f3270b4a6b4ef165d36579d22f44b",alt:null}))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Go back to your organization dashboard, click Test Users from the left side panel, add a new tester, we will use it for this tutorial.")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327824067/7a84068676c59f20b2441099/image.png?expires=1619204400&signature=4ec27b88fb512e252126ddfdac2d600b499966853dc19357958a9443ba5bb224"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327824067/7a84068676c59f20b2441099/image.png?expires=1619204400&signature=4ec27b88fb512e252126ddfdac2d600b499966853dc19357958a9443ba5bb224",alt:null}))),(0,o.kt)("h4",{id:"link-your-oculus-app-into-braincloud"},"Link your Oculus app into brainCloud"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Open your app or create a new one from brainCloud development portal, navigate to ",(0,o.kt)("strong",{parentName:"li"},"Design | Core App Info")," page.")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327824389/d6226c87556afce86a77952a/image.png?expires=1619204400&signature=0413ff629d701a659f2c89215fdccee396abd14dd3a4dc8b1d0ec5e8af598550"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327824389/d6226c87556afce86a77952a/image.png?expires=1619204400&signature=0413ff629d701a659f2c89215fdccee396abd14dd3a4dc8b1d0ec5e8af598550",alt:null}))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Oculus")," under Configure Platforms and paste your ",(0,o.kt)("strong",{parentName:"li"},"Oculus App ID")," and ",(0,o.kt)("strong",{parentName:"li"},"Oculus App Secret")," which you copied down from the above step there.")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327824646/f5ea1198f41f87e1e8035d52/image.png?expires=1619204400&signature=32de705ceb01e345afc64382bfb3cd5e2c9b307bdea739a7dfcc56543505485b"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327824646/f5ea1198f41f87e1e8035d52/image.png?expires=1619204400&signature=32de705ceb01e345afc64382bfb3cd5e2c9b307bdea739a7dfcc56543505485b",alt:null}))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Click the Save Changes button when finished.")),(0,o.kt)("h3",{id:"create-an-app-on-unity-editor"},"Create an app on Unity editor"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Open Unity hub and create a new project."),(0,o.kt)("li",{parentName:"ul"},"Download and import the latest ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/getbraincloud/braincloud-csharp/releases"},"brainCloud client Unity package")," to this project. Once imported the plugin correctly, you should find the brainCloud tab appears on the editor menu.")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327825905/5ecb2c4b19b1eab7a452d59b/image.png?expires=1619204400&signature=d835dd9c33bef014a39419a79dc2b3847ed50a4e2243ba2b88c51ba206532f63"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327825905/5ecb2c4b19b1eab7a452d59b/image.png?expires=1619204400&signature=d835dd9c33bef014a39419a79dc2b3847ed50a4e2243ba2b88c51ba206532f63",alt:null}))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Download and import the latest Oculus Unity SDK to this project. You should be able to find the Oculus tab on the editor menu once it was imported.")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327826120/442a7b3a3d8eff8dc7399a79/image.png?expires=1619204400&signature=cb59669e7afb53d6acd58685135c892e8ee9e65ce4d4e19d655cb0e0addd63a7"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327826120/442a7b3a3d8eff8dc7399a79/image.png?expires=1619204400&signature=cb59669e7afb53d6acd58685135c892e8ee9e65ce4d4e19d655cb0e0addd63a7",alt:null}))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Open brainCloud setting from the tab and log into brainCloud account, then select your team and the app which has Oculus app info configured from the above step.")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327826370/704f1d2ed3ebb4164b020f66/image.png?expires=1619204400&signature=318ccd8469af814f121f59c599ecd3fdd804060e86c6cfcc776c4352c941e8b6"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327826370/704f1d2ed3ebb4164b020f66/image.png?expires=1619204400&signature=318ccd8469af814f121f59c599ecd3fdd804060e86c6cfcc776c4352c941e8b6",alt:null}))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Open Oculus Platform Edit Settings from the tab and link the Oculus app and test user you just created from the above steps.")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327826589/157340e53bf6f7f73d081a01/image.png?expires=1619204400&signature=155da2dea6516adcffda91ff7f670114b16ee7885c27fa993d3c0336c6d2e6bd"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327826589/157340e53bf6f7f73d081a01/image.png?expires=1619204400&signature=155da2dea6516adcffda91ff7f670114b16ee7885c27fa993d3c0336c6d2e6bd",alt:null}))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Create some UI elements if you want and initialize brainCloud and Oculus from your script.")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327826976/ef992a41d159fc46b180aa24/image.png?expires=1619204400&signature=a5ddb7b0dc9d4f1cacb86b0235f325f9c03a15e382ffa010e2628398fc381737"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327826976/ef992a41d159fc46b180aa24/image.png?expires=1619204400&signature=a5ddb7b0dc9d4f1cacb86b0235f325f9c03a15e382ffa010e2628398fc381737",alt:null}))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Functions and its code that linked behind the hood ","[Oculus Login& bc Auth]"," are similar to below. Once the test-user is entitled into this Oculus app, from the success callback, retrieve the userId and nonce then pass them to brainCloud Oculus authentication method -- AuthenticateOculus")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"    void Start()\n    {\n      try\n      {\n        if (!Oculus.Platform.Core.IsInitialized())\n        {\n          Oculus.Platform.Core.Initialize();\n        }\n\n        Entitlements.IsUserEntitledToApplication().OnComplete(EntitlementCheckCallback);\n      }\n      catch\n      {\n        HandleEntitlementCheckResult(false);\n      }\n    }\n    \n    void EntitlementCheckCallback(Message msg)\n    {\n        if (msg.IsError ==  false)\n        {\n            Users.GetLoggedInUser().OnComplete(LoggedInUserCallback);\n        }\n    }\n\n    void LoggedInUserCallback(Message<User> msg)\n    {\n        if (msg.IsError == false)\n        {\n            oculusUserId = msg.Data.ID.ToString();\n            Users.GetUserProof().OnComplete(UserProofCallback);\n        }\n    }\n    \n    void UserProofCallback(Message<UserProof> msg)\n    {\n        if (msg.IsError == false)\n        {\n            string oculusNonce = msg.Data.value;\n            _bc.AuthenticateOculus(oculusUserId, oculusNonce, true, authSuccess_BCcall, authError_BCcall);\n        }\n    }\n")),(0,o.kt)("h3",{id:"run-oculus-client-app-on-your-device"},"Run Oculus client app on your device"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Navigate to the ",(0,o.kt)("a",{parentName:"p",href:"https://www.oculus.com/setup/"},"Oculus device setup site"),", download Oculus App software, install and run it on your compatible gaming device.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Run your Unity app on the local Unity editor or the device which is running Oculus App.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Now, you should be successfully logged in to brainCloud with the tester credentials!")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Go back to brainCloud portal open your app, advance to the User Summary page and find the newly authenticated user, click the profiled to open it, you will find the user is logged in with an Oculus credential."))),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327827555/aa2efe7b98197533aceb87f8/image.png?expires=1619204400&signature=338ae4b72491b0816c0ef6c4cdbbb34fdda05e5152aac0166026e60fcb24696d"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327827555/aa2efe7b98197533aceb87f8/image.png?expires=1619204400&signature=338ae4b72491b0816c0ef6c4cdbbb34fdda05e5152aac0166026e60fcb24696d",alt:null}))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Check the user log, you should see the request as follow.")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://downloads.intercomcdn.com/i/o/327827727/3ffd8678109fc394292146d3/image.png?expires=1619204400&signature=8fb758b6fc5333dfab7324bde73750b191ff5bdffd84fbe7022bf371901eb479"},(0,o.kt)("img",{parentName:"a",src:"https://downloads.intercomcdn.com/i/o/327827727/3ffd8678109fc394292146d3/image.png?expires=1619204400&signature=8fb758b6fc5333dfab7324bde73750b191ff5bdffd84fbe7022bf371901eb479",alt:null}))))}d.isMDXComponent=!0}}]);