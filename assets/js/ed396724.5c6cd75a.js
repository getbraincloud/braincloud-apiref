"use strict";(self.webpackChunkdocusauruns_ts=self.webpackChunkdocusauruns_ts||[]).push([[27783],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>b});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=r.createContext({}),c=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(o.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(n),m=a,b=d["".concat(o,".").concat(m)]||d[m]||p[m]||i;return n?r.createElement(b,l(l({ref:t},u),{},{components:n})):r.createElement(b,l({ref:t},u))}));function b(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=m;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[d]="string"==typeof e?e:a,l[1]=s;for(var c=2;c<i;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},43200:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>f,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var r=n(87462),a=(n(67294),n(3905));const i={},l="SellUserItem",s={unversionedId:"api/capi/useritems/selluseritem",id:"api/capi/useritems/selluseritem",title:"SellUserItem",description:"Overview",source:"@site/docs/api/2_capi/useritems/selluseritem.md",sourceDirName:"api/2_capi/useritems",slug:"/api/capi/useritems/selluseritem",permalink:"/braincloud-apiref/api/capi/useritems/selluseritem",draft:!1,editUrl:"https://github.com/getbraincloud/braincloud-apiref/tree/main/docs/api/2_capi/useritems/selluseritem.md",tags:[],version:"current",lastUpdatedBy:"jasonl",lastUpdatedAt:1671809255,formattedLastUpdatedAt:"Dec 23, 2022",frontMatter:{},sidebar:"apiSidebar",previous:{title:"RefreshBlockchainUserItems",permalink:"/braincloud-apiref/api/capi/useritems/refreshblockchainuseritems"},next:{title:"UpdateUserItemData",permalink:"/braincloud-apiref/api/capi/useritems/updateuseritemdata"}},o={},c=[{value:"Overview",id:"overview",level:2},{value:"Usage",id:"usage",level:2},{value:"Method Parameters",id:"method-parameters",level:2}],u=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",t)},d=u("PartialServop"),p=u("BrowserWindow"),m=u("Tabs"),b=u("TabItem"),v={toc:c};function f(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},v,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"selluseritem"},"SellUserItem"),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,"Allows a quantity of a specified user item to be sold. If any quantity of the user item remains, it will be returned, potentially with the associated itemDef (with language fields limited to the current or default language), along with the currency refunded and currency balances."),(0,a.kt)(d,{service_name:"userItems",operation_name:"SELL_USER_ITEM",mdxType:"PartialServop"}),(0,a.kt)("h2",{id:"usage"},"Usage"),(0,a.kt)(p,{mdxType:"BrowserWindow"},(0,a.kt)(m,{mdxType:"Tabs"},(0,a.kt)(b,{value:"csharp",label:"C#",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-csharp"},'string itemId = "aaa-bbb-ccc-ddd";\nint version = 1;\nint quantity = 1;\nstring shopId = "";\nbool includeDef = true;\nSuccessCallback successCallback = (response, cbObject) =>\n{\n    Debug.Log(string.Format("Success | {0}", response));\n};\nFailureCallback failureCallback = (status, code, error, cbObject) =>\n{\n    Debug.Log(string.Format("Failed | {0}  {1}  {2}", status, code, error));\n};\n\n_bc.UserItemsService.SellUserItem(itemId, version, quantity, shopId, includeDef, successCallback, failureCallback);\n'))),(0,a.kt)(b,{value:"cpp",label:"C++",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'const char *itemId = "aaa-bbb-ccc-ddd";\nint version = 1;\nint quantity = 1;\nconst char *shopId = "";\nbool includeDef = true;\n_bc->getUserItemsService()->sellUserItem(itemId, version, quantity, shopId, includeDef, this);\n'))),(0,a.kt)(b,{value:"objectivec",label:"Objective-C",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-objectivec"},'NSString *itemId = @"aaa-bbb-ccc-ddd";\nint version = 1;\nint quantity = 1;\nNSString *shopId = @"";\nbool includeDef = true;\nBCCompletionBlock successBlock;      // define callback\nBCErrorCompletionBlock failureBlock; // define callback\n\n[[_bc userItemsService] sellUserItem:itemId\n                    version:version\n                   quantity:quantity\n                     shopId:shopId\n                 includeDef:includeDef\n            completionBlock:successBlock\n       errorCompletionBlock:failureBlock\n                   cbObject:nil];\n'))),(0,a.kt)(b,{value:"java",label:"Java",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'String itemId = "aaa-bbb-ccc-ddd";\nint version = 1;\nint quantity = 1;\nString shopId = "";\nboolean includeDef = true;\nthis; // implements IServerCallback\n\n_bc.getUserItemsService().sellUserItem(itemId, version, quantity, shopId, includeDef, this);\n\npublic void serverCallback(ServiceName serviceName, ServiceOperation serviceOperation, JSONObject jsonData)\n{\n    System.out.print(String.format("Success | %s", jsonData.toString()));\n}\npublic void serverError(ServiceName serviceName, ServiceOperation serviceOperation, int statusCode, int reasonCode, String jsonError)\n{\n    System.out.print(String.format("Failed | %d %d %s", statusCode,  reasonCode, jsonError.toString()));\n}\n'))),(0,a.kt)(b,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'var itemId = "aaa-bbb-ccc-ddd";\nvar version = 1;\nvar quantity = 1;\nvar shopId = null;\nvar includeDef = true;\n\n_bc.userItems.sellUserItem(itemId, version, quantity, shopId, includeDef, result =>\n{\n    var status = result.status;\n    console.log(status + " : " + JSON.stringify(result, null, 2));\n});\n'))),(0,a.kt)(b,{value:"cfs",label:"Cloud Code",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cfscript"},'var itemId = "aaa-bbb-ccc-ddd";\nvar version = 1;\nvar quantity = 1;\nvar shopId = null;\nvar includeDef = true;\nvar userItemsProxy = bridge.getUserItemsServiceProxy();\n\nvar postResult = userItemsProxy.sellUserItem(itemId, version, quantity, shopId, includeDef);\nif (postResult.status == 200) {\n    // Success!\n}\n'))),(0,a.kt)(b,{value:"r",label:"Raw",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-r"},'{\n    "service": "userItems",\n    "operation": "SELL_USER_ITEM",\n    "data": {\n        "itemId": "aaa-bbb-ccc-ddd",\n        "version": 1,\n        "quantity": 1,\n        "shopId": null,\n        "includeDef": true\n    }\n}\n'))))),(0,a.kt)("details",null,(0,a.kt)("summary",null,"JSON Response"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "item": {},\n    "currencyRefunded": {\n      "coins": 400\n    },\n    "currencyBalances": {\n      "createdAt": 1566850026783,\n      "currencyMap": {\n        "coins": {\n          "consumed": 200,\n          "balance": 3000200,\n          "purchased": 0,\n          "awarded": 3000400\n        }\n      },\n      "playerId": "55ffc16e-f92b-44f3-98b0-68a7a4f24106",\n      "updatedAt": 1566850242013\n    }\n  },\n  "status": 200\n}\n'))),(0,a.kt)("h2",{id:"method-parameters"},"Method Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"itemId"),(0,a.kt)("td",{parentName:"tr",align:null},"The unique id of the user item.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"version"),(0,a.kt)("td",{parentName:"tr",align:null},"The version of the user item being sold.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"quantity"),(0,a.kt)("td",{parentName:"tr",align:null},"The quantity of the user item to sell.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"shopId"),(0,a.kt)("td",{parentName:"tr",align:null},"The id identifying the store the item is being purchased from (not yet supported). Use null or empty string to specify the default shop price.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"includeDef"),(0,a.kt)("td",{parentName:"tr",align:null},"If true and any quantity of the user item remains, the associated item definition will be included in the response.")))))}f.isMDXComponent=!0}}]);