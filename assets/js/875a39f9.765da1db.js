"use strict";(self.webpackChunkdocusauruns_ts=self.webpackChunkdocusauruns_ts||[]).push([[1985],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(n),m=o,f=c["".concat(l,".").concat(m)]||c[m]||d[m]||i;return n?a.createElement(f,r(r({ref:t},p),{},{components:n})):a.createElement(f,r({ref:t},p))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:o,r[1]=s;for(var u=2;u<i;u++)r[u]=n[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},60767:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>g,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var a=n(87462),o=(n(67294),n(3905));const i={},r="SendTemplatedPushNotificationToGroup",s={unversionedId:"api/capi/pushnotification/sendtemplatedpushnotificationtogroup",id:"api/capi/pushnotification/sendtemplatedpushnotificationtogroup",title:"SendTemplatedPushNotificationToGroup",description:"Overview",source:"@site/docs/api/2_capi/pushnotification/sendtemplatedpushnotificationtogroup.md",sourceDirName:"api/2_capi/pushnotification",slug:"/api/capi/pushnotification/sendtemplatedpushnotificationtogroup",permalink:"/braincloud-apiref/api/capi/pushnotification/sendtemplatedpushnotificationtogroup",draft:!1,editUrl:"https://github.com/getbraincloud/braincloud-apiref/tree/main/docs/api/2_capi/pushnotification/sendtemplatedpushnotificationtogroup.md",tags:[],version:"current",lastUpdatedBy:"jasonl",lastUpdatedAt:1671831235,formattedLastUpdatedAt:"Dec 23, 2022",frontMatter:{},sidebar:"apiSidebar",previous:{title:"SendSimplePushNotification",permalink:"/braincloud-apiref/api/capi/pushnotification/sendsimplepushnotification"},next:{title:"SysGetNotificationTemplates",permalink:"/braincloud-apiref/api/capi/pushnotification/sysgetnotificationtemplates"}},l={},u=[{value:"Overview",id:"overview",level:2},{value:"Usage",id:"usage",level:2},{value:"Method Parameters",id:"method-parameters",level:2}],p=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)},c=p("PartialServop"),d=p("BrowserWindow"),m=p("Tabs"),f=p("TabItem"),b={toc:u};function g(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},b,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"sendtemplatedpushnotificationtogroup"},"SendTemplatedPushNotificationToGroup"),(0,o.kt)("h2",{id:"overview"},"Overview"),(0,o.kt)("p",null,'Sends a notification to a "group" of user based on a brainCloud portal configured notification template. Includes JSON defining the substitution params to use with the template.'),(0,o.kt)("p",null,"The format of the parameterized string is based on the MessageFormat java class."),(0,o.kt)("p",null,'A typical parameterized string could be "Hello {1}, welcome to the {0} game."".'),(0,o.kt)("p",null,"The substitution values are passed via a JSON structure as follows:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},'{ "1" : "George Smith", "0" : "Poker Pirates" }')),(0,o.kt)("p",null,"Note that the key of the JSON object is the substitution variable number and the value is the substitution value."),(0,o.kt)("p",null,'The resulting string would be "Hello George Smith, welcome to the Poker Pirates game.".'),(0,o.kt)(c,{service_name:"pushNotification",operation_name:"SEND_TEMPLATED_TO_GROUP",mdxType:"PartialServop"}),(0,o.kt)("h2",{id:"usage"},"Usage"),(0,o.kt)(d,{mdxType:"BrowserWindow"},(0,o.kt)(m,{mdxType:"Tabs"},(0,o.kt)(f,{value:"csharp",label:"C#",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},'string groupId = "group1";\nint notificationTemplateId = 1;\nstring substitutionsJson = "{\\"0\\":\\"value0\\",\\"1\\":\\"value1\\"}";\nSuccessCallback successCallback = (response, cbObject) =>\n{\n    Debug.Log(string.Format("Success | {0}", response));\n};\nFailureCallback failureCallback = (status, code, error, cbObject) =>\n{\n    Debug.Log(string.Format("Failed | {0}  {1}  {2}", status, code, error));\n};\n\n_bc.PushNotificationService.SendTemplatedPushNotificationToGroup(groupId, notificationTemplateId, substitutionsJson, successCallback, failureCallback);\n'))),(0,o.kt)(f,{value:"cpp",label:"C++",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-cpp"},'const char *groupId = "group1";\nint notificationTemplateId = 1;\nconst char *substitutionsJson = "{\\"0\\":\\"value0\\",\\"1\\":\\"value1\\"}";\n_bc->getPushNotificationService()->sendTemplatedPushNotificationToGroup(groupId, notificationTemplateId, substitutionsJson, this);\n'))),(0,o.kt)(f,{value:"objectivec",label:"Objective-C",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-objectivec"},'NSString *groupId = @"group1";\nint notificationTemplateId = 1;\nNSString *substitutionsJson = @"{\\"0\\":\\"value0\\",\\"1\\":\\"value1\\"}";\nBCCompletionBlock successBlock;      // define callback\nBCErrorCompletionBlock failureBlock; // define callback\n\n[[_bc pushNotificationService] sendTemplatedPushNotificationToGroup:groupId\n     notificationTemplateId:notificationTemplateId\n          substitutionsJson:substitutionsJson\n            completionBlock:successBlock\n       errorCompletionBlock:failureBlock\n                   cbObject:nil];\n'))),(0,o.kt)(f,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'String groupId = "group1";\nint notificationTemplateId = 1;\nString substitutionsJson = "{\\"0\\":\\"value0\\",\\"1\\":\\"value1\\"}";\nthis; // implements IServerCallback\n\n_bc.getPushNotificationService().sendTemplatedPushNotificationToGroup(groupId, notificationTemplateId, substitutionsJson, this);\n\npublic void serverCallback(ServiceName serviceName, ServiceOperation serviceOperation, JSONObject jsonData)\n{\n    System.out.print(String.format("Success | %s", jsonData.toString()));\n}\npublic void serverError(ServiceName serviceName, ServiceOperation serviceOperation, int statusCode, int reasonCode, String jsonError)\n{\n    System.out.print(String.format("Failed | %d %d %s", statusCode,  reasonCode, jsonError.toString()));\n}\n'))),(0,o.kt)(f,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'var groupId = "group1";\nvar notificationTemplateId = 1;\nvar substitutionsJson = {\n    "0": "value0",\n    "1": "value1"\n};\n\n_bc.pushNotification.sendTemplatedPushNotificationToGroup(groupId, notificationTemplateId, substitutionsJson, result =>\n{\n    var status = result.status;\n    console.log(status + " : " + JSON.stringify(result, null, 2));\n});\n'))),(0,o.kt)(f,{value:"cfs",label:"Cloud Code",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-cfscript"},'var groupId = "group1";\nvar notificationTemplateId = 1;\nvar substitutionsJson = {\n    "0": "value0",\n    "1": "value1"\n};\nvar pushNotificationProxy = bridge.getPushNotificationServiceProxy();\n\nvar postResult = pushNotificationProxy.sendTemplatedPushNotificationToGroup(groupId, notificationTemplateId, substitutionsJson);\nif (postResult.status == 200) {\n    // Success!\n}\n'))),(0,o.kt)(f,{value:"r",label:"Raw",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-r"},'{\n    "service": "pushNotification",\n    "operation": "SEND_TEMPLATED_TO_GROUP",\n    "data": {\n        "groupId": "group1",\n        "notificationTemplateId": 1,\n        "substitutions": {\n            "0": "value0",\n            "1": "value1"\n        }\n    }\n}\n'))))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"JSON Response"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "status": 200,\n    "data": null\n}\n'))),(0,o.kt)("h2",{id:"method-parameters"},"Method Parameters"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"groupId"),(0,o.kt)("td",{parentName:"tr",align:null},"Target group ID")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"notificationTemplateId"),(0,o.kt)("td",{parentName:"tr",align:null},"Id of the notification template")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"substitutionJson"),(0,o.kt)("td",{parentName:"tr",align:null},"JSON defining the substitution params to use with the template")))))}g.isMDXComponent=!0}}]);