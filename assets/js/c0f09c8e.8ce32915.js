"use strict";(self.webpackChunkdocusauruns_ts=self.webpackChunkdocusauruns_ts||[]).push([[24568],{3905:(t,e,n)=>{n.d(e,{Zo:()=>c,kt:()=>m});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var l=a.createContext({}),p=function(t){var e=a.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},c=function(t){var e=p(t.components);return a.createElement(l.Provider,{value:e},t.children)},d="mdxType",y={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},u=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,l=t.parentName,c=s(t,["components","mdxType","originalType","parentName"]),d=p(n),u=r,m=d["".concat(l,".").concat(u)]||d[u]||y[u]||i;return n?a.createElement(m,o(o({ref:e},c),{},{components:n})):a.createElement(m,o({ref:e},c))}));function m(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,o=new Array(i);o[0]=u;var s={};for(var l in e)hasOwnProperty.call(e,l)&&(s[l]=e[l]);s.originalType=t,s[d]="string"==typeof t?t:r,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},90899:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>b,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const i={},o="UpdateEntity",s={unversionedId:"api/capi/entity/updateentity",id:"api/capi/entity/updateentity",title:"UpdateEntity",description:"Overview",source:"@site/docs/api/2_capi/entity/updateentity.md",sourceDirName:"api/2_capi/entity",slug:"/api/capi/entity/updateentity",permalink:"/braincloud-apiref/api/capi/entity/updateentity",draft:!1,editUrl:"https://github.com/getbraincloud/braincloud-apiref/tree/main/docs/api/2_capi/entity/updateentity.md",tags:[],version:"current",lastUpdatedBy:"jasonl",lastUpdatedAt:1671809255,formattedLastUpdatedAt:"Dec 23, 2022",frontMatter:{},sidebar:"apiSidebar",previous:{title:"IncrementUserEntityData",permalink:"/braincloud-apiref/api/capi/entity/incrementuserentitydata"},next:{title:"UpdateSharedEntity",permalink:"/braincloud-apiref/api/capi/entity/updatesharedentity"}},l={},p=[{value:"Overview",id:"overview",level:2},{value:"Usage",id:"usage",level:2},{value:"Method Parameters",id:"method-parameters",level:2},{value:"Status Codes",id:"status-codes",level:4}],c=t=>function(e){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)},d=c("PartialServop"),y=c("BrowserWindow"),u=c("Tabs"),m=c("TabItem"),v={toc:p};function b(t){let{components:e,...n}=t;return(0,r.kt)("wrapper",(0,a.Z)({},v,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"updateentity"},"UpdateEntity"),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"Method updates an entity on the server. This operation results in the entity data being completely replaced by the passed in JSON string."),(0,r.kt)("p",null,"This method is affected by versioning. See the ",(0,r.kt)("a",{parentName:"p",href:"/api/appendix/version"},"versioning documentation")," for more information."),(0,r.kt)(d,{service_name:"entity",operation_name:"UPDATE",mdxType:"PartialServop"}),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)(y,{mdxType:"BrowserWindow"},(0,r.kt)(u,{mdxType:"Tabs"},(0,r.kt)(m,{value:"csharp",label:"C#",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'string entityId = "someEntityId";\nstring entityType = "address";\nstring jsonEntityData = "{\\"street\\":\\"1309 Carling Avenue, Ottawa, ON\\"}";\nstring jsonEntityAcl = "{\\"other\\":0}";\nint version = -1;\nSuccessCallback successCallback = (response, cbObject) =>\n{\n    Debug.Log(string.Format("Success | {0}", response));\n};\nFailureCallback failureCallback = (status, code, error, cbObject) =>\n{\n    Debug.Log(string.Format("Failed | {0}  {1}  {2}", status, code, error));\n};\n\n_bc.EntityService.UpdateEntity(entityId, entityType, jsonEntityData, jsonEntityAcl, version, successCallback, failureCallback);\n'))),(0,r.kt)(m,{value:"cpp",label:"C++",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cpp"},'const char *entityId = "someEntityId";\nconst char *entityType = "address";\nconst char *jsonEntityData = "{\\"street\\":\\"1309 Carling Avenue, Ottawa, ON\\"}";\nconst char *jsonEntityAcl = "{\\"other\\":0}";\nint version = -1;\n_bc->getEntityService()->updateEntity(entityId, entityType, jsonEntityData, jsonEntityAcl, version, this);\n'))),(0,r.kt)(m,{value:"objectivec",label:"Objective-C",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-objectivec"},'NSString *entityId = @"someEntityId";\nNSString *entityType = @"address";\nNSString *jsonEntityData = @"{\\"street\\":\\"1309 Carling Avenue, Ottawa, ON\\"}";\nNSString *jsonEntityAcl = @"{\\"other\\":0}";\nint version = -1;\nBCCompletionBlock successBlock;      // define callback\nBCErrorCompletionBlock failureBlock; // define callback\n\n[[_bc entityService] updateEntity:entityId\n                 entityType:entityType\n             jsonEntityData:jsonEntityData\n              jsonEntityAcl:jsonEntityAcl\n                    version:version\n            completionBlock:successBlock\n       errorCompletionBlock:failureBlock\n                   cbObject:nil];\n'))),(0,r.kt)(m,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'String entityId = "someEntityId";\nString entityType = "address";\nString jsonEntityData = "{\\"street\\":\\"1309 Carling Avenue, Ottawa, ON\\"}";\nString jsonEntityAcl = "{\\"other\\":0}";\nint version = -1;\nthis; // implements IServerCallback\n\n_bc.getEntityService().updateEntity(entityId, entityType, jsonEntityData, jsonEntityAcl, version, this);\n\npublic void serverCallback(ServiceName serviceName, ServiceOperation serviceOperation, JSONObject jsonData)\n{\n    System.out.print(String.format("Success | %s", jsonData.toString()));\n}\npublic void serverError(ServiceName serviceName, ServiceOperation serviceOperation, int statusCode, int reasonCode, String jsonError)\n{\n    System.out.print(String.format("Failed | %d %d %s", statusCode,  reasonCode, jsonError.toString()));\n}\n'))),(0,r.kt)(m,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'var entityId = "someEntityId";\nvar entityType = "address";\nvar jsonEntityData = {\n    "street": "1309 Carling Avenue, Ottawa, ON"\n};\nvar jsonEntityAcl = {\n    "other": 0\n};\nvar version = -1;\n\n_bc.entity.updateEntity(entityId, entityType, jsonEntityData, jsonEntityAcl, version, result =>\n{\n    var status = result.status;\n    console.log(status + " : " + JSON.stringify(result, null, 2));\n});\n'))),(0,r.kt)(m,{value:"cfs",label:"Cloud Code",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cfscript"},'var entityId = "someEntityId";\nvar entityType = "address";\nvar jsonEntityData = {\n    "street": "1309 Carling Avenue, Ottawa, ON"\n};\nvar jsonEntityAcl = {\n    "other": 0\n};\nvar version = -1;\nvar entityProxy = bridge.getEntityServiceProxy();\n\nvar postResult = entityProxy.updateEntity(entityId, entityType, jsonEntityData, jsonEntityAcl, version);\nif (postResult.status == 200) {\n    // Success!\n}\n'))),(0,r.kt)(m,{value:"r",label:"Raw",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-r"},'{\n    "service": "entity",\n    "operation": "UPDATE",\n    "data": {\n        "entityId": "someEntityId",\n        "entityType": "address",\n        "data": {\n            "street": "1309 Carling Avenue, Ottawa, ON"\n        },\n        "acl": {\n            "other": 0\n        },\n        "version": -1\n    }\n}\n'))))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"JSON Response"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "status": 200,\n    "data": {\n        "entityId": "113db68a-48ad-4fc9-9f44-5fd36fc6445f",\n        "entityType": "person",\n        "version": 1,\n        "data": {\n            "name": "john",\n            "age": 30\n        },\n        "acl": {\n            "other": 0\n        },\n        "createdAt": 1395943044322,\n        "updatedAt": 1395943044322\n    }\n}\n'))),(0,r.kt)("h2",{id:"method-parameters"},"Method Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"entityId"),(0,r.kt)("td",{parentName:"tr",align:null},"The id of the entity to update")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"entityType"),(0,r.kt)("td",{parentName:"tr",align:null},"The entity type as defined by the user")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"jsonEntityData"),(0,r.kt)("td",{parentName:"tr",align:null},"The entity's data object")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"jsonEntityAcl"),(0,r.kt)("td",{parentName:"tr",align:null},"The entity's ",(0,r.kt)("a",{parentName:"td",href:"/api/appendix/acl"},"Access Control List")," as object. A null ACL implies default permissions which make the entity readable/writeable by only the user.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"version"),(0,r.kt)("td",{parentName:"tr",align:null},"The version of the entity to update. Use -1 to indicate the newest version")))),(0,r.kt)("h4",{id:"status-codes"},"Status Codes"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Code"),(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"40332"),(0,r.kt)("td",{parentName:"tr",align:null},"UPDATE_FAILED"),(0,r.kt)("td",{parentName:"tr",align:null},"An update operation failed. Used for entities, global entities, and updates on the user.")))))}b.isMDXComponent=!0}}]);