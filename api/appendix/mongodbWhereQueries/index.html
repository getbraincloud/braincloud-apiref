<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-api/appendix/mongodbWhereQueries">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">MongoDB Where Queries | brainCloud docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://getbraincloud.github.io/braincloud-apiref/api/appendix/mongodbWhereQueries"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MongoDB Where Queries | brainCloud docs"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/braincloud-apiref/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://getbraincloud.github.io/braincloud-apiref/api/appendix/mongodbWhereQueries"><link data-rh="true" rel="alternate" href="https://getbraincloud.github.io/braincloud-apiref/api/appendix/mongodbWhereQueries" hreflang="en"><link data-rh="true" rel="alternate" href="https://getbraincloud.github.io/braincloud-apiref/api/appendix/mongodbWhereQueries" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZPF1VHGGT0-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/braincloud-apiref/blog/rss.xml" title="brainCloud docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/braincloud-apiref/blog/atom.xml" title="brainCloud docs Atom Feed">
<link rel="alternate" type="application/json" href="/braincloud-apiref/blog/feed.json" title="brainCloud docs JSON Feed">



<link rel="search" type="application/opensearchdescription+xml" title="brainCloud docs" href="/braincloud-apiref/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/braincloud-apiref/release/rss.xml" title="brainCloud docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/braincloud-apiref/release/atom.xml" title="brainCloud docs Atom Feed"><link rel="stylesheet" href="/braincloud-apiref/assets/css/styles.fa9992a9.css">
<link rel="preload" href="/braincloud-apiref/assets/js/runtime~main.703a3b41.js" as="script">
<link rel="preload" href="/braincloud-apiref/assets/js/main.5dab1250.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ Subscript brainCloud service on <a target="_blank" rel="noopener noreferrer" href="https://portal.braincloudservers.com/login#/development">brainCloud portal</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/braincloud-apiref/"><div class="navbar__logo"><img src="/braincloud-apiref/img/logobc_v_forlightbg.svg" alt="brainCloud Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/braincloud-apiref/img/logobc_v_fordarkbg1.svg" alt="brainCloud Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">brainCloud Docs</b></a><a class="navbar__item navbar__link" href="/braincloud-apiref/learn/introduction/">Learn</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/braincloud-apiref/api/introduction">API</a><a class="navbar__item navbar__link" href="/braincloud-apiref/blog">Blog</a><a class="navbar__item navbar__link" href="/braincloud-apiref/release">Release</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/braincloud-apiref/">4.13.0</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/braincloud-apiref/api/appendix/mongodbWhereQueries">4.13.0</a></li><li><a class="dropdown__link" href="/braincloud-apiref/4.12.0/">4.12.0</a></li></ul></div><a href="https://github.com/getbraincloud" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/braincloud-apiref/api/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/braincloud-apiref/api/wrapper/">BrainCloudWrapper</a><button aria-label="Toggle the collapsible sidebar category &#x27;BrainCloudWrapper&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/braincloud-apiref/api/capi/">Client API</a><button aria-label="Toggle the collapsible sidebar category &#x27;Client API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/braincloud-apiref/api/cc/">Cloud Code</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cloud Code&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/braincloud-apiref/api/s2s/">Server to Server (S2S)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Server to Server (S2S)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/braincloud-apiref/api/appendix/">Appendix</a><button aria-label="Toggle the collapsible sidebar category &#x27;Appendix&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/braincloud-apiref/api/appendix/acl">ACL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/braincloud-apiref/api/appendix/authTypes">Authentication Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/braincloud-apiref/api/appendix/genericPagedQueries">Generic Paged Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/braincloud-apiref/api/appendix/jsonNumberRange">Range In Json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/braincloud-apiref/api/appendix/mongodbWhereQueries">MongoDB Where Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/braincloud-apiref/api/appendix/platformIds">Platform IDs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/braincloud-apiref/api/appendix/reasonCodes">Reason Codes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/braincloud-apiref/api/appendix/statisticsGrammar">Statistics Grammar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/braincloud-apiref/api/appendix/version">Versioning</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/braincloud-apiref/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/braincloud-apiref/api/appendix/"><span itemprop="name">Appendix</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MongoDB Where Queries</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 4.13.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>MongoDB Where Queries</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h2><p>Some brainCloud APIs take a JSON formatted MongoDB-style where clause as a parameter.  These allow you to perform more complex queries on data to get specific results.</p><p>Depending on the service different default (brainCloud created) fields are allowed to be queried on (see the documentation for these services for a list of allowed fields).</p><p>You can also query any custom data you have created using Dot notation. For example:</p><p><code>{ &quot;data.myObjectField.name&quot;: &quot;example&quot; }</code></p><p>Here are several examples using the Entity service.  For a complete list of syntax refer to the MongoDB documentation <a href="https://docs.mongodb.com/v2.4/reference/operator/query/" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="basics">Basics<a class="hash-link" href="#basics" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="equality">Equality<a class="hash-link" href="#equality" title="Direct link to heading">​</a></h3><p>Equality is the simplest form of query and will return only data that exactly matches the criteria.</p><p><code>{ &quot;entityType&quot;: &quot;example&quot; }</code></p><p>This string will return only entities of type example.</p><p>You can also specify multiple criteria for the equality parameters.</p><p><code>{ &quot;entityType&quot;: { &quot;$in&quot;: [ &quot;food&quot;, &quot;snacks&quot; ] } }</code></p><p>This string will return any entities of type food or snacks.  Although you can express this query using the $or operator, use the $in operator rather than the $or operator when performing equality checks on the same field.</p><p><em>Note that there is also a <strong>$nin</strong> operator that is functionally the opposite of <strong>$in</strong>.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="comparison">Comparison<a class="hash-link" href="#comparison" title="Direct link to heading">​</a></h3><p>The following comparison operators are supported:</p><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>$ne</td><td>Not equal to</td></tr><tr><td>$gt</td><td>Greater than</td></tr><tr><td>$gte</td><td>Greater than or equal to</td></tr><tr><td>$lt</td><td>Less than</td></tr><tr><td>$lte</td><td>Less than or equal to</td></tr></tbody></table><p>The following example returns all items whose price is greater than 1.99.</p><p><code>{ &quot;data.price&quot;: { &quot;$gt&quot;: 1.99 } }</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="logical-operators">Logical Operators<a class="hash-link" href="#logical-operators" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="and">AND<a class="hash-link" href="#and" title="Direct link to heading">​</a></h3><p>A compound query can specify conditions for more than one field in the data. Implicitly, a logical AND conjunction connects the clauses of a compound query so that the query selects the data in the collection that match all the conditions.</p><p><code>{ 
  &quot;entityType&quot;: &quot;example&quot;, 
  &quot;data.rank&quot;: { &quot;$lt&quot;: 9000 } 
}</code></p><p>This query returns all entities where the entityType field has the value &#x27;example&#x27; and the value of the rank field is less than 9000.</p><p>For nested conditions, you can also specify an explicit <code>$and</code> clause. For example:</p><p><code>{ 
  &quot;$and&quot;: [ 
    { &quot;data.localTimezone&quot;: { &quot;$gte&quot;: 5 } }, 
    { &quot;data.localTimezone&quot;: { &quot;$lte&quot;: 8 } } 
  ] 
}</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="or">OR<a class="hash-link" href="#or" title="Direct link to heading">​</a></h3><p>Using the $or operator, you can specify a compound query that joins each clause with a logical OR conjunction so that the query selects the data in the collection that match at least one condition.</p><p><code>{ 
  &quot;$or&quot;: [ 
    { &quot;data.rank&quot;: { &quot;$gt&quot;: 100 } }, 
    { &quot;data.rank&quot;: { &quot;$lt&quot;: 10 } } 
  ] 
}</code></p><p><em>Note that there is also an <strong>$nor</strong> operator that is functionally the opposite of $or.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="not">NOT<a class="hash-link" href="#not" title="Direct link to heading">​</a></h3><p>Performs a logical NOT operation on the expression, and returns the entities that do <em>not</em> match.</p><p><code>{ &quot;data.price&quot;: { &quot;$not&quot;: { &quot;$gt&quot;: 1.99 } } }</code></p><p>The following example returns all items whose price is greater than 1.99.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="arrays">Arrays<a class="hash-link" href="#arrays" title="Direct link to heading">​</a></h2><p>When the field holds an array, you can query for an exact array match or for specific values in the array. If the array holds embedded objects, you can query for specific fields in the embedded objects using dot notation.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exact-match">Exact Match<a class="hash-link" href="#exact-match" title="Direct link to heading">​</a></h3><p>The following example queries for all entities where the field ratings is an array that holds exactly three elements, 5, 8, and 9, in this order:</p><p><code>{ &quot;data.ratings&quot;: [ 5, 8, 9 ] }</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="match-a-single-element">Match a single element<a class="hash-link" href="#match-a-single-element" title="Direct link to heading">​</a></h3><p>This example will return all entities with an array called ratings that contain the element &#x27;Awesome&#x27;.</p><p><code>{ &quot;data.ratings&quot;: &quot;Awesome&quot; }</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="match-a-single-element-against-multiple-criteria">Match a single element against multiple criteria<a class="hash-link" href="#match-a-single-element-against-multiple-criteria" title="Direct link to heading">​</a></h3><p>Use $elemMatch operator to specify multiple criteria on the elements of an array such that at least one array element satisfies all the specified criteria.</p><p>The following example queries for documents where the ratings array contains at least one element that is greater than ($gt) 5 and less than ($lt) 9:</p><p><code>{ &quot;data.ratings&quot;: { &quot;$elemMatch&quot;: { &quot;$gt&quot;: 2, &quot;$lt&quot;: 9 } } }</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types<a class="hash-link" href="#types" title="Direct link to heading">​</a></h2><p>You can do lookups based on whether a field is of a certain type.</p><p>The types used are BSON types (documentation <a href="https://docs.mongodb.org/manual/reference/bson-types/" target="_blank" rel="noopener noreferrer">here</a>).</p><p>For example this query will only return entites where the field &#x27;test&#x27; is of type &#x27;null&#x27; (BSON type 10):</p><p><code>{ &quot;data.test&quot;: { &quot;$type&quot;: 10 } }</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="null-or-missing-fields">Null or Missing Fields<a class="hash-link" href="#null-or-missing-fields" title="Direct link to heading">​</a></h2><p>You can also do lookups based on null or whether a field exists.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="null">Null<a class="hash-link" href="#null" title="Direct link to heading">​</a></h3><p>Given the following query:</p><p><code>{ &quot;data.ratings&quot;: null }</code></p><p>Any entity that contains the field &#x27;ratings&#x27; with the value &#x27;null&#x27; <em>OR</em> any entity that does not contain the field &#x27;ratings&#x27; will be returned.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exists">Exists<a class="hash-link" href="#exists" title="Direct link to heading">​</a></h3><p>Given the following query:</p><p><code>{ &quot;data.ratings&quot;: { &quot;$exists&quot;: false } }</code></p><p>Any entity that contains the field &#x27;ratings&#x27; with the value &#x27;null&#x27; <em>OR</em> any entity that does not contain the field &#x27;ratings&#x27; will be returned.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/getbraincloud/braincloud-apiref/tree/main/docs/api/5_appendix/mongodbWhereQueries.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-12-28T02:08:57.000Z">Dec 28, 2022</time></b> by <b>jasonl</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/braincloud-apiref/api/appendix/jsonNumberRange"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Range In Json</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/braincloud-apiref/api/appendix/platformIds"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Platform IDs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#basics" class="table-of-contents__link toc-highlight">Basics</a><ul><li><a href="#equality" class="table-of-contents__link toc-highlight">Equality</a></li><li><a href="#comparison" class="table-of-contents__link toc-highlight">Comparison</a></li></ul></li><li><a href="#logical-operators" class="table-of-contents__link toc-highlight">Logical Operators</a><ul><li><a href="#and" class="table-of-contents__link toc-highlight">AND</a></li><li><a href="#or" class="table-of-contents__link toc-highlight">OR</a></li><li><a href="#not" class="table-of-contents__link toc-highlight">NOT</a></li></ul></li><li><a href="#arrays" class="table-of-contents__link toc-highlight">Arrays</a><ul><li><a href="#exact-match" class="table-of-contents__link toc-highlight">Exact Match</a></li><li><a href="#match-a-single-element" class="table-of-contents__link toc-highlight">Match a single element</a></li><li><a href="#match-a-single-element-against-multiple-criteria" class="table-of-contents__link toc-highlight">Match a single element against multiple criteria</a></li></ul></li><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a></li><li><a href="#null-or-missing-fields" class="table-of-contents__link toc-highlight">Null or Missing Fields</a><ul><li><a href="#null" class="table-of-contents__link toc-highlight">Null</a></li><li><a href="#exists" class="table-of-contents__link toc-highlight">Exists</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/braincloud-apiref/">Learn</a></li><li class="footer__item"><a class="footer__link-item" href="/braincloud-apiref/api/introduction">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.youtube.com/@Getbraincloud" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/braincloudnews" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/brainCloudBaaS" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/braincloud-apiref/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/getbraincloud/braincloud-apiref/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 bitHeads, Inc</div></div></div></footer></div>
<script src="/braincloud-apiref/assets/js/runtime~main.703a3b41.js"></script>
<script src="/braincloud-apiref/assets/js/main.5dab1250.js"></script>
</body>
</html>