<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-release">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">80 posts tagged with &quot;release-history&quot; | brainCloud docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://getbraincloud.github.io/braincloud-apiref/release/tags/release-history/page/2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="80 posts tagged with &quot;release-history&quot; | brainCloud docs"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/braincloud-apiref/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://getbraincloud.github.io/braincloud-apiref/release/tags/release-history/page/2"><link data-rh="true" rel="alternate" href="https://getbraincloud.github.io/braincloud-apiref/release/tags/release-history/page/2" hreflang="en"><link data-rh="true" rel="alternate" href="https://getbraincloud.github.io/braincloud-apiref/release/tags/release-history/page/2" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZPF1VHGGT0-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/braincloud-apiref/blog/rss.xml" title="brainCloud docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/braincloud-apiref/blog/atom.xml" title="brainCloud docs Atom Feed">
<link rel="alternate" type="application/json" href="/braincloud-apiref/blog/feed.json" title="brainCloud docs JSON Feed">



<link rel="search" type="application/opensearchdescription+xml" title="brainCloud docs" href="/braincloud-apiref/opensearch.xml">

<link rel="alternate" type="application/rss+xml" href="/braincloud-apiref/release/rss.xml" title="brainCloud docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/braincloud-apiref/release/atom.xml" title="brainCloud docs Atom Feed"><link rel="stylesheet" href="/braincloud-apiref/assets/css/styles.fa9992a9.css">
<link rel="preload" href="/braincloud-apiref/assets/js/runtime~main.81d21845.js" as="script">
<link rel="preload" href="/braincloud-apiref/assets/js/main.60e170d1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ Subscript brainCloud service on <a target="_blank" rel="noopener noreferrer" href="https://portal.braincloudservers.com/login#/development">brainCloud portal</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/braincloud-apiref/"><div class="navbar__logo"><img src="/braincloud-apiref/img/logobc_v_forlightbg.svg" alt="brainCloud Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/braincloud-apiref/img/logobc_v_fordarkbg1.svg" alt="brainCloud Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">brainCloud Docs</b></a><a class="navbar__item navbar__link" href="/braincloud-apiref/learn/introduction/">Learn</a><a class="navbar__item navbar__link" href="/braincloud-apiref/api/introduction">API</a><a class="navbar__item navbar__link" href="/braincloud-apiref/blog">Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/braincloud-apiref/release">Release</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/braincloud-apiref/">4.13.0</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/braincloud-apiref/">4.13.0</a></li><li><a class="dropdown__link" href="/braincloud-apiref/4.12.0/">4.12.0</a></li></ul></div><a href="https://github.com/getbraincloud" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2022/12/15/feb-2023-pricing-updates">Feb 2023 Pricing Updates</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2022/11/29/release-4-13-1">Release 4.13.1 is live!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2022/11/01/release-4-13">Release 4.13 is here!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2022/07/19/release-4-12">Release 4.12 is live!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2022/07/19/upcoming-2022-billing-changes">Upcoming pricing changes...</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2022/06/20/release-4-11">Release 4.11 is live!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2022/06/13/updated-public-baas-nat-gateways">Updated Public BaaS NAT gateways</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2022/04/26/custom-entity-getentitypage-improvement">Custom Entity GetEntityPage Improvement</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2022/04/04/reminder-plus-plan-restrictions">Reminder: Plus Plan restrictions</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2022/03/23/release-4-10">Release 4.10 is live!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2022/02/11/braincloud-atlas-migration">brainCloud Atlas migration - Feb 22-23, 2022</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2021/12/14/braincloud-and-log4shell-cve-2021-44228">brainCloud and log4shell (CVE-2021-44228)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2021/11/30/braincloud-4-9-5">brainCloud 4.9.5 is live!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2021/10/12/release-4-9">brainCloud 4.9 is live!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2021/09/30/gamesparks-to-braincloud-migration-notes">GameSparks to brainCloud migration notes</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2021/06/28/release-4-8">Release 4.8</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2021/05/04/release-4-7-5">Release 4.7.5</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2021/03/24/release-4-7">Release 4.7 is live!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2020/11/17/release-4-6">Release 4.6 is live!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2020/09/16/release-4-5-6">Release 4.5.6 is live!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2020/08/16/important-all-android-apps-should-turn-on-amazon-platform-support">Important - All Android apps should turn on Amazon Platform Support!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2020/07/15/release-4-5-5">Release 4.5.5 is live!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2020/04/25/release-4-5">Release 4.5</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2020/02/19/release-4-4">Release 4.4</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2019/12/11/release-4-3-5">Release 4.3.5</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2019/11/13/release-4-3">Release 4.3</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2019/09/18/release-4-2">Release 4.2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2019/06/25/release-4-1">Release 4.1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2019/05/23/release-4-0">Release 4.0 is live!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2019/02/12/release-3-11">Release 3.11</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2018/12/05/release-3-10">Release 3.10</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2018/10/04/release-3-9-0">Release 3.9.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2018/07/11/release-3-8">Release 3.8.0 - RTT is here!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2018/03/08/release-3-7-0">Release 3.7.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2018/01/29/release-3-6-6">Release 3.6.6</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2017/12/12/release-3-6-5">Release 3.6.5</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2017/10/07/release-3-6">Release 3.6.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2017/07/05/minor-release-3-5-5-coming-soon">(Minor) Release 3.5.5</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2017/06/15/release-3-5">Release 3.5.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2017/04/06/release-3-4-0-coming-soon">Release 3.4.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2017/03/10/release-3-3-0">Release 3.3.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2017/02/10/minor-release-3-2-5">(Minor) Release 3.2.5</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2017/01/25/release-3-2-0">Release 3.2.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2016/10/18/release-3-1">Release 3.1.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2016/08/29/release-3-0-0">Release 3.0.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2016/07/13/release-2-26-0">Release 2.26.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2016/06/28/release-2-25-0">Release 2.25.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2016/05/27/release-2-24-0">Release 2.24.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2016/05/13/release-2-23-0">Release 2.23.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2016/04/14/release-2-22-0">Release 2.22.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2016/03/03/release-2-21-0">Release 2.21.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2016/01/27/release-2-20-0">Release 2.20.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/12/17/release-2-19-0">Release 2.19.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/12/03/release-2-18-0">Release 2.18.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/11/05/release-2-17-0">Release 2.17.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/10/09/release-2-16-0">Release 2.16.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/09/17/release-2-15-0">Release 2.15.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/08/27/release-2-14-0">Release 2.14.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/08/18/release-2-13-0">Release 2.13.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/07/24/release-2-12-0">Release 2.12.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/06/30/release-2-11-0">Release 2.11.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/06/08/release-2-10-0">Release 2.10.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/05/29/release-2-9-0">Release 2.9.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/05/07/release-2-8-0">Release 2.8.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/04/02/release-2-7-0">Release 2.7.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/03/13/release-2-6">Release 2.6.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/02/26/release-2-5-0">Release 2.5.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/02/13/release-2-4-0">Release 2.4.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/01/30/release-2-3-0">Release 2.3.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2015/01/14/release-2-2-0">Release 2.2.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2014/12/12/release-2-1-0">Release 2.1.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2014/11/11/release-2-0-0">Release 2.0.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2014/10/27/release-1-9-0">Release 1.9.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2014/10/13/release-1-8-3">Release 1.8.3</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2014/09/29/release-1-8-2">Release 1.8.2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2014/09/16/release-1-8-1">Release 1.8.1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2014/09/03/release-1-8-0">Release 1.8.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2014/08/16/release-1-7-0">Release 1.7.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2014/06/06/hello-world">Release 1.6.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/braincloud-apiref/release/2014/05/01/braincloud-portal-updates-hot-and-heavy">Release 1.5.0</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>80 posts tagged with &quot;release-history&quot;</h1><a href="/braincloud-apiref/release/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/braincloud-apiref/release/2022/02/11/braincloud-atlas-migration">brainCloud Atlas migration - Feb 22-23, 2022</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-02-11T00:00:00.000Z" itemprop="datePublished">February 11, 2022</time> · <!-- -->5 min read</div></header><div class="markdown" itemprop="articleBody"><p>Warning</p><p>tl;dr Developers will be unable to <strong>deploy</strong> or <strong>import/export</strong> application changes from <strong>Feb 22, 2022</strong> at <strong>11am Eastern</strong> until <strong>Feb 23, 2022</strong> at <strong>11am Eastern</strong>.  </p><p><em>See remainder of announcement for additional restrictions.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="background">Background<a class="hash-link" href="#background" title="Direct link to heading">​</a></h2><p>On <strong>February 22nd</strong> and <strong>23rd</strong>, we will be migrating brainCloud&#x27;s core database cluster from VM-hosted MongoDB instances to MongoDB&#x27;s Atlas service.</p><p>This is a live migration - intended to accomplish the migration of all app and player data - with minimal service interruption.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="player-visible-service-impacts">Player-visible Service Impacts<a class="hash-link" href="#player-visible-service-impacts" title="Direct link to heading">​</a></h2><p>Depending upon the features your app uses, the following service impacts may be noticeable by your players:</p><ul><li><strong>Lobbies and Hosted Servers delays</strong> - lobby processing and launching of hosted servers will experience some performance delays during the cut-over period. We hope to keep this period of reduced performance to ~10-20 minutes -- between the hours of <strong>05:00</strong> and <strong>07:00 Eastern</strong> on <strong>Feb 23, 2022</strong>.</li><li><strong>Delayed Push notifications</strong> - new push notification jobs started during the cut-over period may experience delays</li><li><strong>Scheduled Jobs</strong> - scheduled cloud code jobs may experience small delays during the initial cut-over period.</li><li><strong>Stale Segments</strong> <!-- -->-<!-- --> The nightly <strong>Segment Refresh</strong> job will not run the night of <strong>Feb 22, 2022</strong>. This could mean that a player that newly qualifies for a segment wouldn&#x27;t be considered part of it - for a segment targeted Push Notification run, for example. Note that an individual player&#x27;s segments <strong>will</strong> still refresh when they log in -- so any Store pricing shown to players will still accurately reflect any applicable promotions.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="temporary-restrictions">Temporary Restrictions<a class="hash-link" href="#temporary-restrictions" title="Direct link to heading">​</a></h2><p>For data integrity reasons, <strong>we cannot allow any changes to the database schema</strong> (i.e. new/removed collections or indexes) during the migration period - so certain brainCloud features will be disabled. We also need to disable (i.e. temporarily remove) all TTL (Time To Live) indexes -- so certain objects will stick around past their normal expiry periods.</p><p>These restrictions translate to the following brainCloud limitations:</p><ul><li>For safety, we will also be <strong>disabling</strong> the ability to <strong>Deploy</strong> or <strong>Import/Export</strong> apps during the entire migration period.</li><li>If <strong>creating a new app</strong> in brainCloud, the <strong>leaderboard collection for that app will not be created</strong> (until after the migration period)</li><li>If introducing support for leaderboards in your app for the first time, posting scores will not be supported until after the migration</li><li><strong>TTL indexes</strong> for all core and custom collections (i.e. Custom Entities, Messages, etc.) <strong>will be removed</strong>. This means that some objects may stick around for up to one day later than they otherwise would</li><li>Developers will <strong>not</strong> be able to create new <strong>Custom Entity</strong> collections.</li><li>Developers will also <strong>not</strong> be able to create new <strong>Indexes</strong> on <strong>Custom Entity</strong> collections</li><li>If Messaging is newly enabled for an app, messages cannot be sent until after the migration</li></ul><p>Thus, the following screens in the Design Portal will be disabled during the migration period:</p><ul><li><strong>Design | Core App Info | Admin</strong></li><li><strong>Design | Cloud Data | Custom Entities</strong></li></ul><p>Also - to ease the amount of data changes to migrate, we will be disabling <strong>Segment Processing</strong> for the night of <strong>Feb 22nd</strong> only.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="detailed-schedule">Detailed Schedule<a class="hash-link" href="#detailed-schedule" title="Direct link to heading">​</a></h2><p>The planned schedule for the migration is as follows. Interim times are intentionally conservative. If the migration is proceeding well, some steps will happen earlier than stated here.</p><ul><li>Feb 22 11:00 Eastern - Start migration prep<ul><li>Notify developers (via banner) that migration is starting</li><li>Disable collection creation</li><li>Disable the <strong>Admin Tools</strong> and <strong>Custom Entities</strong> design screens</li><li>Disable Segment Processing</li><li>Prep the source database cluster (i.e. disable balancer and remove TTL indexes)</li></ul></li><li>Feb 22 13:00 Eastern - Start bulk migration<ul><li>The background bulk copy processes will begin</li></ul></li><li>Feb 22 22:00 Eastern - Start sync<ul><li>The bulk migration should be complete</li><li>The system now goes into sync mode - syncing oplog changes in realtime between the old and new clusters. Note that it will take several hours for the new clusters to catch up to the latest changes being applied to the old clusters</li></ul></li><li>Feb 23 04:00 Eastern - Validate data + indexes<ul><li>Validate the results of the migration. May involve rebuilding key indexes</li></ul></li><li>Feb 23 06:00 Eastern - Start cut-over<ul><li>Cut-over the brainCloud servers from the old database to the new database.</li><li>Certain background processes will be scaled down during the cut-over. This will delay the processing of certain background tasks, like scheduled jobs, push notifications, etc. Those jobs will be processed once the servers spin back up on the new cluster.</li></ul></li><li>Feb 23 09:00 - Finalize migration<ul><li>Validate health of all processes</li><li>Disable sync process</li><li>Re-enable balancer and re-add TTL Indexes</li></ul></li><li>Feb 23 11:00 - Migration complete<ul><li>Re-enable collection creation</li><li>Re-enable brainCloud screens</li><li>Re-enable Segment processing</li><li>Remove banner</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="faq-frequenty-asked-questions">FAQ (Frequenty Asked Questions)<a class="hash-link" href="#faq-frequenty-asked-questions" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-braincloud-moving-to-mongodb-atlas">Why is brainCloud moving to MongoDB Atlas?<a class="hash-link" href="#why-is-braincloud-moving-to-mongodb-atlas" title="Direct link to heading">​</a></h4><p>Moving to Atlas will offload the low-level server and software maintenance responsibilities from brainCloud DevOps personnel. It means less work keeping the servers secure, up-to-date and running properly - but also means that performing common operations like software upgrades, vertical and horizontal scaleouts, etc. are all handled automatically.</p><p>There are also benefits to monitoring the performance of the database -- and a recommendations engine that brainCloud is considering leveraging for future Custom Entity enhancements.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="will-my-players-or-developers-notice-any-changes-once-the-system-is-running-on-atlas">Will my players or developers notice any changes once the system is running on Atlas?<a class="hash-link" href="#will-my-players-or-developers-notice-any-changes-once-the-system-is-running-on-atlas" title="Direct link to heading">​</a></h4><p>No.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="will-my-players-or-developers-notice-any-changes-during-the-migration-to-atlas">Will my players or developers notice any changes during the migration to Atlas?<a class="hash-link" href="#will-my-players-or-developers-notice-any-changes-during-the-migration-to-atlas" title="Direct link to heading">​</a></h4><p>P<em>otentially. See the Player Visible Service Impacts section above.</em></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-if-something-goes-massively-wrong-during-migration">What if something goes massively wrong during migration?<a class="hash-link" href="#what-if-something-goes-massively-wrong-during-migration" title="Direct link to heading">​</a></h4><p>If the migration appears compromised in any way, we will abort. The database will remain on the existing servers - and we will reschedule the migration for a future date.</p><p>Information</p><p>If you have further questions or concerns, please reach out to brainCloud Support via the chat widget.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/braincloud-apiref/release/tags/release-history">release-history</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/braincloud-apiref/release/2021/12/14/braincloud-and-log4shell-cve-2021-44228">brainCloud and log4shell (CVE-2021-44228)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-14T00:00:00.000Z" itemprop="datePublished">December 14, 2021</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><p>As you are likely aware, a serious <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44228" target="_blank" rel="noopener noreferrer">vulnerability</a> has been discovered in <a href="https://logging.apache.org/log4j/2.x/" target="_blank" rel="noopener noreferrer">Apache Log4J 2</a>, a very popular logging library for Java services. This attack is informally referred to as <strong>log4shell</strong>, presumably due to the way it allows an attacker to make privileged JNDI calls via the logging of simple input data from an API or web form.</p><p>We are pleased to report that brainCloud&#x27;s Production Services are unaffected by this vulnerability - and that we have further patched our services to completely eliminate any future risk of attack.</p><p>More specifically:</p><ul><li>brainCloud&#x27;s API and Portal services do not use Log4J 2 - and are thus not affected by log4shell.</li><li>Some secondary Datastream and RTT services <em>do</em> use Log4J 2 - but these services do not log raw input data in our Production configuration - and thus, once again - are not affected by log4shell.</li><li>To completely eliminate any future risk of exposure, we have now patched all services that use Log4J 2 to version 2.16.0, which disables the compromisable functionality.</li></ul><p>The security of your apps and user data is of utmost importance to us. Thank you for trusting your business to brainCloud!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/braincloud-apiref/release/tags/release-history">release-history</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/braincloud-apiref/release/2021/11/30/braincloud-4-9-5">brainCloud 4.9.5 is live!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-30T00:00:00.000Z" itemprop="datePublished">November 30, 2021</time> · <!-- -->3 min read</div></header><div class="markdown" itemprop="articleBody"><p>brainCloud 4.9.5 is the last release of 2021, and targets a few key customer requests and performance and reliability improvements.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-highlights">Release Highlights<a class="hash-link" href="#release-highlights" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="profanity-check-improvements">Profanity Check Improvements<a class="hash-link" href="#profanity-check-improvements" title="Direct link to heading">​</a></h3><p>We have improved the built-in filtering of our <strong>WebPurify</strong> integration - so that devs can now choose to filter a user’s <strong>chat messages</strong>, and updates to their <strong>name</strong>, by their own language only (instead of against all configured languages).</p><p>You will find the new options:</p><ul><li>on the <strong>Design | Integration | Manage Integrations</strong> screen for the player name settings</li></ul><p><img loading="lazy" src="/braincloud-apiref/assets/images/2021-11-25_22-15-03-1024x401-b1ec6b283b03e3d34f06a29488f83871.png" width="1024" height="401" class="img_ev3q"></p><ul><li>on the <strong>Design | Messaging | Chat</strong> screen for the chat message settings</li></ul><p><img loading="lazy" src="/braincloud-apiref/assets/images/2021-11-25_22-20-59-a7f21cf45838f49ff5009dc7f29bb54b.png" width="1000" height="610" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="additional-improvements">Additional improvements<a class="hash-link" href="#additional-improvements" title="Direct link to heading">​</a></h3><ul><li><em><strong>Async Match improvements</strong></em> - Deleting a player will now automatically <em><strong>abandon</strong></em> any asynchronous matches that they have in progress</li><li><em><strong>Entity call improvements</strong></em> - added a new <code>_serverTime</code> field to the JSON responses of most get entity calls – as a convenience to client devs</li><li><em><strong>Friend service improvements</strong></em> - more reliable retrieval of friend data across multiple social platforms ← a failure to retrieve friends from one service will no longer abort retrieving from the remaining services.</li><li><em><strong>Leaderboard rotation improvements</strong></em> - Improvements to concurrency handling during Leaderboard rotations and Tournament processing</li><li><em><strong>Lobby matchmaking</strong></em> - improved matchmaking performance under heavy loads</li><li><em><strong>User batch processing</strong></em> - improved handling of larger data bundles during batch processing</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="portal-changes">Portal Changes<a class="hash-link" href="#portal-changes" title="Direct link to heading">​</a></h2><p>We&#x27;ve made the following portal improvements:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="design-section">Design Section<a class="hash-link" href="#design-section" title="Direct link to heading">​</a></h3><ul><li><strong>Integrations | Manage Integrations</strong><ul><li>WebPurify - Added new options for improved targeting of languages for name profanity checks</li></ul></li><li><strong>Multiplayer | Chat</strong><ul><li>Added new options for improved targeting of languages during chat profanity checks</li></ul></li><li><strong>General</strong><ul><li>Adjusted the line-height of several components used in some log screens to address issue with low-hanging font characters being cut off</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-changes">API Changes<a class="hash-link" href="#api-changes" title="Direct link to heading">​</a></h2><p>The following changes/additions have affected the brainCloud API:</p><ul><li><strong>CustomEntity service</strong><ul><li>Added a <code>_serverTime</code> field to the <code>ReadEntity()</code>, <code>ReadSingleton()</code>, <code>SysReadEntity()</code>, <code>GetEntityPage()</code>, <code>GetEntityPageOffset()</code>, and <code>GetRandomEntitiesMatching()</code> responses</li></ul></li><li><strong>[User]<!-- --> Entity service</strong><ul><li>Added a <code>_serverTime</code> field to the <code>GetEntitiesByType()</code>, <code>GetEntity()</code>, <code>GetList()</code>, <code>GetPage()</code>, <code>GetPageOffset()</code>, <code>GetSharedEntitiesForProfileId()</code>, <code>GetSharedEntitiesListForProfileId()</code>, <code>GetSharedEntityForProfileId()</code>, <code>GetSingleton()</code> responses</li></ul></li><li><strong>GlobalEntity service</strong><ul><li>Added a <code>_serverTime</code> field to the <code>GetList()</code>, <code>GetListByIndexedId()</code>, <code>GetPage()</code>, <code>GetPageOffset()</code>, <code>GetRandomEntitiesMatching()</code>, <code>GetSystemEntityList()</code>, <code>GetSystemEntityPage()</code>, <code>GetSystemEntityPageOffset()</code>, <code>ReadEntity()</code>, <code>ReadSystemEntity()</code> responses</li></ul></li><li><strong>Group service</strong><ul><li>Added a <code>_serverTime</code> field to the <code>ReadGroupEntitiesPage()</code>, <code>ReadGroupEntitiesPageByOffset()</code>, <code>ReadGroupEntity()</code>, <code>SysReadGroupEntitiesPage()</code>, <code>SysReadGroupEntitiesPageByOffset()</code>, <code>SysReadGroupEntity()</code> responses</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous-changes--fixes">Miscellaneous Changes / Fixes<a class="hash-link" href="#miscellaneous-changes--fixes" title="Direct link to heading">​</a></h2><ul><li>Updated libraries<ul><li>There are no new client APIs in this release.</li><li>There have been several client lib patches over the past month though - so be sure that you are using the latest!</li></ul></li><li>Plus miscellaneous fixes and performance enhancements...</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/braincloud-apiref/release/tags/release-history">release-history</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/braincloud-apiref/release/2021/10/12/release-4-9">brainCloud 4.9 is live!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-10-12T00:00:00.000Z" itemprop="datePublished">October 12, 2021</time> · <!-- -->10 min read</div></header><div class="markdown" itemprop="articleBody"><p>brainCloud 4.9 is a massive update with a hat-trick of new <strong>Multiplayer / Hosting Features</strong> - plus <em>Unity Compression</em> and some highly requested <em>Marketplace and Management APIs</em>. We hope you like it!</p><p>Warning</p><p>This release features an update to path handling for the <code>bridge.callScript()</code> method to ensure that <em>called script paths</em> are treated as relative to the <em>calling scripts paths</em>. This aligns with the path handling of the <code>bridge.include()</code> import mechanism - and makes for more maintainable and portal script modules. See <em>Updated Script Path Handling</em> for more information.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-highlights">Release Highlights<a class="hash-link" href="#release-highlights" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-gamelift-support">Amazon GameLift Support!<a class="hash-link" href="#amazon-gamelift-support" title="Direct link to heading">​</a></h3><p>We are pleased to announce that brainCloud now supports <a href="https://aws.amazon.com/gamelift/" target="_blank" rel="noopener noreferrer">Amazon GameLift</a>.</p><p>This means that you can enjoy all the benefits of brainCloud multiplayer - with our <em>online matchmaking</em> and <em>lobby services</em> - but with the flexibility of running and hosting your own server fleets in GameLift.</p><p>This is especially helpful in scenarios where:</p><ul><li>You already have game servers running in GameLift</li><li>Your game needs the performance boost provided by GameLift’s non-containerized architecture </li><li>You want to lower costs with GameLift’s ability to utilize AWS Spot Instances</li></ul><p>The best part is that once you configure it - there are almost no changes to your client code. The only difference is that the <code>connectData</code> information returned to the client will specify a protocol type of <code>gamelift</code>.</p><p>Information</p><p>Note that GameLift hosting is priced differently than standard brainCloud hosting. brainCloud will charge the equivalent of <em>5 API Calls per player</em> added to your GameLift servers.  </p><p><em>This is independent of the costs that Amazon will charge you directly, of course.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="join-in-progress">Join in progress!<a class="hash-link" href="#join-in-progress" title="Direct link to heading">​</a></h3><p>Speaking of brainCloud lobbies and matchmaking - brainCloud 4.9 adds support for <em>backfilling</em> of matches - which means that new/replacement players can finally be added to matches in progress!</p><p><img loading="lazy" src="/braincloud-apiref/assets/images/2021-09-24_13-11-42-1024x764-9d5c71b8f522bd1b75608fa8fdee9903.png" width="1024" height="764" class="img_ev3q"></p><p>Note that the room server should use the <code>SysGetLobbyMember()</code> call to validate the legitimacy of any players attempting to join the Room Server after the match starts.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="retrieve-list-of-lobbies">Retrieve List of Lobbies<a class="hash-link" href="#retrieve-list-of-lobbies" title="Direct link to heading">​</a></h3><p>To complete our multiplayer hat-trick, developers can now query the list of active lobbies in a game. This is useful for games providing a more classic multiplayer experience.</p><p>Simply pair the new <code>GetLobbyInstances()</code> and <code>GetLobbyInstancesWithPingData()</code> calls with the existing <code>GetLobbyData()</code> and <code>JoinLobby()</code> calls to implement your own old-school lobby system!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="appstore-item-purchases">AppStore Item Purchases<a class="hash-link" href="#appstore-item-purchases" title="Direct link to heading">​</a></h3><p>At long last, Marketplace Products can now include Inventory Items. This means users will be able to acquire your game’s “Magic Wand of Silly Walks” directly through an in-app purchase!</p><p><img loading="lazy" src="/braincloud-apiref/assets/images/2021-09-24_13-39-05-1024x123-b7c42ef605c17f616b6c536b46cb3507.png" width="1024" height="123" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="unity-client-compression">Unity Client Compression<a class="hash-link" href="#unity-client-compression" title="Direct link to heading">​</a></h3><p>The Unity Client now officially supports compressing of client ↔︎ server messages.</p><p>Sending large API requests/responses takes time - especially under mobile conditions. With a pair of flags, you can enable compression for faster processing of brainCloud requests. <em>This can also reduce the occurrence of network timeouts that can happen when sending/receiving larger requests</em>.</p><p>brainCloud’s compression support is intelligent - and only kicks in if the message bundle to be transmitted is greater than a size threshold - which defaults to 50Kb. Any messages sent/received above that threshold will be compressed (and uncompressed) automatically and transparently to your app.</p><p>Note that compression is <em>disabled</em> in the 4.9 Unity Client by default.</p><p>To enable compression of both requests and responses, call:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="updated-script-path-handling">Updated Script Path Handling<a class="hash-link" href="#updated-script-path-handling" title="Direct link to heading">​</a></h3><p>We have updated brainCloud’s handling of paths for the <code>bridge.callScript()</code> method to make it more consistent with industry standards (and our own <code>bridge.include()</code> method).</p><p>Before this change, if brainCloud were running script <code>/subFolder/myScript.ccjs</code> - the following two calls would look for their files in different directories:</p><ul><li><code>bridge.include(&quot;myImportFile.ccjs&quot;)</code> ← would look for <code>myImportFile.ccsj</code> in the current directory of the calling script - i.e. “/subFolder” ✅</li><li><code>bridge.callScript(&quot;myUtilityScript.ccjs&quot;, {})</code> &lt;- would look for <code>myUtilityScript.ccjs</code> in the <em>root</em>! ❌</li></ul><p>With this change, the two calls use the same algorithm to determine the referenced script.</p><p>As you would expect, we have introduced a new compatibility flag that controls this improved behavior. The new <strong>[x]</strong> <em><strong>Use legacy script path handling</strong></em> flag, if enabled, preserves the old functionality. <em>This flag is enabled by default for all existing apps, and disabled by default for newly created apps.</em></p><p>Information</p><p><strong>Important</strong> - this change does <em>not</em> affect the functioning of <code>ScriptServiceProxy.runScript()</code>. As that method mimics the Client API call - it always assumes that it is running from the root. We highly recommend that devs use <code>bridge.callScript()</code> instead of <code>ScriptServiceProxy.runScript()</code> from within scripts.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tournament-management-apis">Tournament Management APIs<a class="hash-link" href="#tournament-management-apis" title="Direct link to heading">​</a></h3><p>We have expanded our Sys APIs to support Tournament Management.</p><p>This includes new cloud-code only APIs for:</p><ul><li>Managing Tournament Templates</li><li>Enabling Tournaments for a Leaderboard Config</li><li>Editing Tournament details for current and future periods</li></ul><p>In addition, we have added new methods for more efficiently retrieving the list of leaderboards, and retrieving leaderboard details. See the <em>API Changes</em> section for more details.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="additional-improvements">Additional Improvements<a class="hash-link" href="#additional-improvements" title="Direct link to heading">​</a></h3><p>This release also includes the following:</p><ul><li><strong>$text</strong> query support<ul><li>the query syntax for Custom Entities has been extended to support MongoDB $text queries.</li></ul></li><li>Improved <strong>RTT connection id</strong> handling<ul><li>The <strong>Relay Server Protocol</strong> protocol (and the <em>Relay Server</em> and <em>Client Libraries</em> that implement it) have been enhanced for more consistent usage of RTT connection IDs - basically, the protocol now uses <code>profileIdCx</code> ids instead of just <code>profileId</code></li><li>There is a new compatibility flag, <strong>[x]<!-- --> Include legacy lobby owner field in API output</strong>, that when enabled ensures that this new behavior still works with old clients. <em>This flag is enabled by default for all existing apps, and disabled for newly created apps.</em></li></ul></li><li>Additions / Improvements to the <strong>Builder API</strong><ul><li>Support for <strong>API Hook</strong> management</li><li>Support for basic <strong>Team Member</strong> management</li></ul></li><li>Improvements to <strong>Async Match</strong> APIs<ul><li>We are now returning handy <code>summaryFriendData</code> for players in more of the AsyncMatch calls - including <code>FindMatches()</code>, <code>FindCompleteMatches()</code> and <code>ReadMatch()</code></li></ul></li><li>Additional <strong>HTTP Client</strong> methods<ul><li>Support for HTTP <strong>PATCH</strong>, <strong>DELETE</strong>, and <strong>HEAD</strong> commands</li></ul></li><li><strong>External Authentication</strong> enhancements<ul><li>Ability to return additional information with authentication results</li><li>For more info - see the new <code>authPayload</code> and <code>extraErrorJson</code> fields documents in the <a href="/braincloud-apiref/learn/key-concepts/authentication/external-authentication/">API Docs</a>.</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="portal-changes">Portal Changes<a class="hash-link" href="#portal-changes" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="design">Design<a class="hash-link" href="#design" title="Direct link to heading">​</a></h3><ul><li><strong>Core App Info | Advanced Settings</strong><ul><li>Added new compatibility flag: <em><strong>[x]<!-- --> Include legacy lobby owner field in API output</strong></em>. Enabled for existing apps by default. See <em>Improved RTT Connection ID</em> handling for more information.</li><li>Added new compatibility flag: <strong>[x]<!-- --> Use legacy script path handling</strong>. Enabled for existing apps by default. See <em>Updated Script Path Handling</em> for more information.</li></ul></li><li><strong>Cloud Code | My Servers</strong><ul><li>The new <strong>GameLift Room Server</strong> option has been added.</li></ul></li><li><strong>Cloud Code | Scripts</strong><ul><li>When dealing with <em>live</em> apps, the Script Editor will no longer allow portal users to start editing a script before unlocking the app -- instead of just refusing to <em>save</em> the changes! A small but useful improvement!</li></ul></li><li><strong>Custom Config | Legacy Files</strong><ul><li>The old <strong>Files</strong> page has been fittingly renamed to <strong>Legacy Files</strong>.</li></ul></li><li><strong>Integrations | Manage Integrations</strong><ul><li>A new <strong>AWS GameLift Integration</strong> section has been added.</li></ul></li><li><strong>Leaderboards | Leaderboard Configs</strong><ul><li>We have added a search box for filtering the list of leaderboards. Super useful for those apps with tons of leaderboards!</li></ul></li><li><strong>Marketplace | Products</strong><ul><li>Added the ability to add Items as reward items for in-app purchase products.</li></ul></li><li><strong>Multiplayer | Lobbies</strong><ul><li>Added new options to the Rules page for lobbies:<ul><li><em><strong>Disband on start (default)</strong></em> - lobbies will be terminated when the game starts. This flag is enabled by default for existing apps.</li><li><em><strong>Allow join in progress</strong></em> - allows players to join games that are already in progress (i.e. backfilling)</li></ul></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team">Team<a class="hash-link" href="#team" title="Direct link to heading">​</a></h3><ul><li><strong>Manage | Apps</strong><ul><li>We’ve added an app’s <code>appId</code> (in parenthesis) to the list for easy reference</li><li>We’ve also added a new <strong>Last Updated</strong> field - so it is easier to see which apps have been edited recently. Note that we have also updated how some of our nightly processes work with the <code>updatedAt</code> field of the game record - so that going forward, apps are not considered to be “updated” when our back-end billing processes run.</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-changes">API Changes<a class="hash-link" href="#api-changes" title="Direct link to heading">​</a></h2><p>The following changes/additions have affected the brainCloud API:</p><ul><li><strong>AsyncMatch Service</strong><ul><li>We have added user summary data to the results returned by <code>CreateMatch()</code>, <code>SubmitTurn()</code>, <code>FindMatches()</code>, <code>FindCompleteMatches()</code>, <code>ReadMatch()</code> and <code>UpdateMatchSummaryData()</code>.</li></ul></li><li><strong>Client Service (Unity Only)</strong><ul><li>Call the new <code>EnableCompressedRequests()</code>and <code>EnableCompressedResponses()</code> methods to enable compression.</li></ul></li><li><strong>Global App Service</strong><ul><li>New <code>ReadSelectedProperties()</code> and <code>ReadPropertiesInCategories()</code> methods allow the app to retrieve a subset of the app’s global properties instead of all of them.</li><li>We have also added new S2S and cloud-code only methods for creating properties: <code>SysCreatePropertyString()</code> and <code>SysCreatePropertyJson()</code></li></ul></li><li><strong>Group Service</strong><ul><li>New cloud-code only <code>SysIsGroupMember()</code> call for testing group membership.</li></ul></li><li><strong>HTTPClient</strong><ul><li>Added support for HTTP PATCH: <code>PatchJsonResponseJson()</code> and <code>PatchTextResponseText()</code></li><li>Added support for HTTP DELETE: <code>DeleteJsonResponseJson()</code> and <code>Delete()</code></li><li>Added support for HTTP HEAD: <code>HeadRequest()</code></li></ul></li><li><strong>Leaderboard Service</strong><ul><li>New <code>PostScoreToDynamicGroupLeaderboardDaysUTC()</code> call allows for the dynamic creation of group leaderboards with a <code>DAYS</code> rotation.</li><li>New <code>SysCreateLeaderboardConfig()</code> and <code>SysEditLeaderboardConfig()</code> methods are updated versions of the older <code>SysCreateLeaderboard()</code> and <code>SysEditLeaderboard()</code> methods - with the ability to edit tournament settings. The old methods continue to be available (they are not deprecated).</li><li>New <code>SysListLeaderboardConfigs()</code> and <code>SysGetLeaderboardConfig()</code> methods for more efficient retrieval of summary information vs. leaderboard details, respectively.</li><li>New APIs for editing tournament period settings on leaderboards: <code>SysEditTournamentSettingsForFuturePeriodsOnly()</code> and <code>SysEditTournamentSettingsIncludingCurrentPeriod()</code>. Note that you would usually only edit future periods - because you don’t want to change the rules of a tournament that is already underway - that seems unfair! <img loading="lazy" alt=":slight_smile:" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAIAElEQVR4nOWbf1BU1xXHP+cBywIaFJFIU6tpECNQLAvoJKlOp9M0rQrRNDbRadTR6HSmrUln0pnmrzr9r7F1mvhXYms1VZPGtlrRpGn6RytpRmQBQVAJ2khLBlFABGGBhT39Y5dfArvse2+XGD9/Le+++33nHu69791zzxUijFavS6PfuxKDbOBhVDKB2cAsYEbgtttAB3ATqAcuodThiC2VpceuR9I+iYSoni0qJIYNKI8D2Raeo0AdyN8xeEtcJ9z2WenHNgfome/cR2zsDmArsMQu3Tu4APyeXnldvnaiyw5Byw7Qj55IweF4Afgx/q4dDW6i8hrxg69K7qmbVoRMO0AVwb3mOUR+Bcy1YoQF2kF+Qb5rr8gunxkBUw7QiuIM8B1E5VEz9SPAvyFmsxQcvxJuRSPcClqxZh2q5Z+hxgM8BoNVWl78bLgVp9wDVHcZuCt+jfBiuA+JLrKHfNdPpzokpuQArVvvwNN7ANhgxbQocgTSt0jBG95QN4Z0QKDxx4BVtpgWPU5B+rpQTgg6B6giePr2cfc1HmA1NB9U3RW0jcEnQXfRHtBNtpoVXTZQUfHLYDdMOgTUXbwe9B37bZoGlI1SWPLWREUTOkDdax+CwQogOaKGRY9bqM8lhaf+c2fBuCGgiiADb/L5aTxAMhJzQHX8P3z8HFBRtO0z9pFjE7qCiuJx89kYjwQWNvVAatTsii7XiYlZLHnHO4YujO0BDseLWGx85+0+mpo76fcOWpEZQ793kKbmTrpu91mVSmNwcOfoC8M9ILCev4rJJW1f3wCH/3qes+c+RVVJTIjjqW8vYcWyBZYsPl3WyLH3L9Lj8SIiLM97gI1P5hLviDEr2U6vLByKJ4z0AH8ww1TjVWHf25WUVTWhqgD0eLwcOlbDmcoms4byUcX/OHy8hh6PN/Ac5UxlE799u8K0JpCC07d96I/RQ2CzWcWqumbOX2qZsOydk7X09g+Erenp9XL0VN2EZTUXWzh34VrYmiPItqFfBgRieJBjVu7D8sZJy7o9XiprmsPWrDjfPPyfn4jSssmfOQWytLw4D4Z6QIz5VZ6qcvlqe9B7Gq62ha0bqs7lq+3Dw80UohthyAHKt8zqdPd46esPPuO3d3jC1g1Vp7d/gJ7e8IfWCPJNAEOr16UBWaZlphJRMBF4M6YgbC2iq0vVXZRq0O9daUUrMSGO+PjYoPekJCeErTsr2Rm03OmIJcEZ/LkhEERWGmCYnvwARISMBcHfnosWzglbN/PB4HUyHkxBptT9gqBkGxi+xdZUYEXh5B87SYkOXLnpYWu6ctJJTIibtHylxQ+sAIsN1FhkVSUvJ53ch++fsOyZNdk4HeF31QRnHN9bkz1h2dIl81iaNS9szXGIZhqgtix8nt+QzyOu+cOTV1JCHJu+u5TleV80rfmIaz7fX5c73BMMER7Nn8+2Z112mAxKqqi7qA1IsUcRurr7udXZy/2pScTFmf5eH4PXO0hLazfJ9zmZmeSwRTNAq6i7qA+wVfUuoi/snaHPGwb+5IR7lS4DsGWf/S6lywBpnW4rpg2h1QD9eLrtmDZ81BuI1k+3HdOGaL2BT2qn245pQ6gzcMSW4s/GutfwoVJqBPLwJg6+hYnXxlB4FJ5RLQUlrf4PIeEDq2qNTR3s3PUeh45V4+kNmZcQNj0eL2/+uZqdP3+PxqaO0BVCofIPAP8yTeQIqj+xojdzRjyqUHr2v1TWXmPVNxaxonCBlfg94N9v+FdZI3/7ZwPdHi+GCDNnxFvSBEAHjsDojRF30XksRIYBXj/sprJ2JAIcHx/LV7Pmkb1oLpkPpTL7vuBRniFu3vJQf6WNuobrVF+4NibmWJD7BbZvyLdiJsAFKSjJhqEe4OcgsNuK6tOrsrl4uXV4CPT1DVBW1URZlX9zJDEhjrQ5SaTMSiDeETvcO/r6B+nrH6C9w0NLa/ekQygxIY6nV5kOX45Cfzf0a6QHfFg8E6c2YjHb80LDDfYeKMPns/fFYojww83LyFmcZlVq4q2xwIW9VtWzFs3lR5uWBQ1nhYszPpYfPFdgR+MB+c3oPOOx2+M1q2fTb9RjQ+prS+tt/lhSS93HNyzp5GSm8UxRDmmpSVZNAmgB52IpOHpr6MK4sKqWF29FRsaIVRo+aeP901e42HCDgcGppfPGxhhkZc7liZUZZCy0LVgFyiYpLPnD6EvjHaAIFUWlwGP2Pdm/2Xml8SaNn3Zwo62Hztu9eAf8DomLiyF5Rjxz5yTxpQeSyViQgjPEXkPYKKcpKPm6yNiv3nslSaoD9eVPKUkKQAqOX0H1+cjbFSVEtk3UeAiSKCmFJ/8EsidyVkUJ0Vck/8RfJisOHhTNP/EScMBmk6LJEVwFLwe7IagD/BNG+g7gXVvNig4nIX1LqLT5kGFxKXjDS1fXk4jut8+2CKMcgvSnbEmXH9b0vx5fAV6yZFxkUUR34zr5sztfd5MR9v6yuovWAvuJ3gmxqdKJsF3yS8JK8DZ3aKp89ZeRmAOgK8zUtx3lND62yPKST8Ktasexud2AHasUM7Qj8jKuE/um2uXvxPrByaq1swLppy9g4y5zCNpAXoX410YvbMxg39HZuvUz8Hh2gGzFf144EtSi7CfRuU+yj9qypxmZw9PlxXmBPLzHga9g4nxiAB9IDcoH6MARWfbuOfus9BMRB4xG3UWpiKxEfVkgS1AyEVKY6Pi80o5IPfguIdShUioFJRHdu/w/2uK0A/ZRyDsAAAAASUVORK5CYII=" width="64" height="64" class="img_ev3q"></li><li>New APIs for editing adhoc tournament periods - <code>SysCreateAdhocTournamentPeriod()</code>, <code>SysEditAdhocTournamentPeriod()</code>, and <code>SysDeleteAdhocTournamentPeriod()</code></li></ul></li><li><strong>Lobby Service</strong><ul><li>Added new <code>GetLobbyInstances()</code> and <code>GetLobbyInstancesWithPingData()</code> calls to return the list of available lobbies. Pair with the existing <code>GetLobbyData()</code> and <code>JoinLobby()</code> calls to implement your own old-school lobby system!</li></ul></li><li><strong>Tournament Service</strong><ul><li>New management calls - <code>SysListTournamentTemplates()</code>, <code>SysCreateTournamentTemplate()</code>, <code>SysEditTournamentTemplate()</code>, <code>SysReadTournamentTemplate()</code> and <code>SysDeleteTournamentTemplate()</code>.</li></ul></li><li><strong>User Service</strong><ul><li>A number of Sys methods that were missing from the S2S proxy have been added</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous-changes--fixes">Miscellaneous Changes / Fixes<a class="hash-link" href="#miscellaneous-changes--fixes" title="Direct link to heading">​</a></h2><ul><li>Updated libraries<ul><li>All libraries have been updated with the latest API changes. Go get &#x27;em!</li></ul></li><li>Documentation updates<ul><li>All of the new API calls have been added to the API Reference</li></ul></li><li>Important Fixes<ul><li>BCLOUD-792 - JS S2S Heartbeat doesn&#x27;t work - fixed.</li><li>BCLOUD-799 - User Batch Script processing issue with PlayerSession API version causing Leaderboard API errors</li><li>BCLOUD-945 - REDIS lag causes issues when scripts are moved between folders</li><li>BCLOUD-980 - Scripts in the root folder are not being cleared when restored to checkpoint</li><li>BCLOUD-981 - Add protection for PlayerStatistics experience points from going negative</li><li>BCLOUD-982 - Add more input validation for Tournament rewards input for GlobalGameStatistics and/or PlayerStatistics stat names</li><li>BCLOUD-998 - Add support for $text operator text query document fields</li><li>BCLOUD-1057 - Locks with no player session context not unlocking properly</li></ul></li><li>Plus miscellaneous fixes and performance enhancements...</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/braincloud-apiref/release/tags/release-history">release-history</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/braincloud-apiref/release/2021/09/30/gamesparks-to-braincloud-migration-notes">GameSparks to brainCloud migration notes</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-30T00:00:00.000Z" itemprop="datePublished">September 30, 2021</time> · <!-- -->21 min read</div></header><div class="markdown" itemprop="articleBody"><p>brainCloud is an excellent option for developers looking to migrate their app and players before <a href="https://docs.gamesparks.com/transition-faq/" target="_blank" rel="noopener noreferrer">GameSparks shuts down on September 30, 2022</a>.</p><p>GameSparks developers will find that the brainCloud feature set and technology platform align well with what they are already used to.</p><p>Major advantages of migrating to brainCloud include:</p><ul><li><strong>Cloud code</strong> - brainCloud&#x27;s cloud code system utilized JavaScript, is based on Mozilla Rhino, uses JSON parameters, and allows synchronous access to the full brainCloud API.</li><li><strong>Cloud data</strong> - brainCloud uses NoSQL MongoDB for persistent data storage.</li><li><strong>Chat &amp; Messaging</strong> - brainCloud&#x27;s RTT (Real-time Tech) service provides support for Chat (both Global and Group channels) and player-to-player Messaging</li><li><strong>Downloadables</strong> - brainCloud supports Downloadables and Uploadables, with built-in CloudFront CDN support</li><li><strong>Email</strong> - brainCloud provides a <strong>SendGrid</strong> integration for email</li><li><strong>Leaderboards</strong> - brainCloud rich leaderboard system directly supports everything but leaderboards partitions - and partitions can be emulated via separate, dynamically created leaderboards.</li><li><strong>Multiplayer</strong> - brainCloud provides support for hosted Room and Relay Servers, and beginning in 4.9 supports Amazon GameLift as well!</li><li><strong>Teams</strong> - brainCloud&#x27;s Group service provides support for teams - including team chat and leaderboards</li><li><strong>Virtual Currencies and Virtual Goods</strong> - brainCloud supports them both, along with purchasing both from the AppStores.</li><li>And much, much more!</li></ul><p>This document provides instructions and tips for migrating your app from GameSparks to brainCloud.</p><p>Click on the <em>collapsable</em> table-of-contents to jump to a section.</p><p>Table of contents</p><ol><li><a href="#achievements">Achievements</a></li><li><a href="#authentication-basics">Authentication Basics</a><ol><li><a href="#registration">Registration</a></li><li><a href="#authentication">Authentication</a></li></ol></li><li><a href="#authentication-3rd-party">Authentication (3rd Party)</a></li><li><a href="#chat-amp;-messaging">Chat &amp; Messaging</a><ol><li><a href="#chat">Chat</a></li><li><a href="#messaging">Messaging</a></li></ol></li><li><a href="#cloud-code">Cloud Code</a><ol><li><a href="#braincloud-data">brainCloud Data</a></li><li><a href="#metacollections">MetaCollections</a></li><li><a href="#system-scripts">System-Scripts</a></li><li><a href="#bulk-jobs">Bulk-Jobs</a></li><li><a href="#schedulers">Schedulers</a></li><li><a href="#transitioning-metacollections">Transitioning MetaCollections</a></li><li><a href="#gamesparks-api-wrappers">GameSparks API Wrappers</a></li><li><a href="#asynchronous-apis">Asynchronous APIs</a></li><li><a href="#performance-bottlenecks">Performance Bottlenecks</a></li></ol></li><li><a href="#data-transition-guide">Data Transition Guide</a><ol><li><a href="#reference-data">Reference data</a></li><li><a href="#user-accounts">User accounts</a></li></ol></li><li><a href="#downloadables">Downloadables</a></li><li><a href="#emails-sendgrid">Emails (SendGrid)</a></li><li><a href="#leaderboard-basics">Leaderboard Basics</a></li><li><a href="#leaderboard-partitions">Leaderboard Partitions</a></li><li><a href="#leaderboard-resetting">Leaderboard Resetting</a></li><li><a href="#manage-screens">Manage Screens</a></li><li><a href="#matchmaking">Matchmaking</a></li><li><a href="#player-manager">Player Manager</a></li><li><a href="#scheduled-events">Scheduled Events</a></li><li><a href="#teams">Teams</a><ol><li><a href="#team-chat-amp;-notifications">Team Chat &amp; Notifications</a></li><li><a href="#team-leaderboards">Team Leaderboards</a></li><li><a href="#team-data">Team Data</a></li></ol></li><li><a href="#virtual-currency">Virtual Currency</a></li><li><a href="#virtual-goods-basics">Virtual Goods Basics</a></li><li><a href="#virtual-goods-3rd-party">Virtual Goods (3rd Party)</a></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="achievements">Achievements<a class="hash-link" href="#achievements" title="Direct link to heading">​</a></h2><p>brainCloud supports standard achievement functionality: short name (id), title, description, and platform-specific achievement IDs. Devs can also attach a collection of key+value pairs for additional metadata.</p><p>In brainCloud, Achievements are cosmetic - they do not deliver additional rewards (such as <em>Virtual Currencies</em>, <em>Player XP</em>, <em>User Statistics</em>, <em>Virtual Goods</em>, etc.).</p><p>brainCloud does provide a <strong>Milestone</strong> system, however, that can be used to trigger such awards - including <em>Achievements</em> themselves. Milestones are configured to watch <em>User Statistics</em> and trigger automatically when specified thresholds are exceeded. Milestones can award <em>Achievements</em>, <em>Virtual Currencies</em>, <em>Player XP</em>, <em>User Statistics</em>, and <em>Global Statistics</em>. </p><p>Milestones do not currently award <em>Product Items</em>; that feature is coming in an <em>upcoming release.</em> This functionality can however be easily achieved with custom code by attaching the product item id to the Achievement’s metadata.</p><p>brainCloud does not have <em>Leaderboard Triggers</em> - but you <em>can</em> attach a custom Cloud Code script to any API Call via the <strong>API Hooks</strong> feature. So for example, a <em>PostSuccess API Hook</em> on the PostScoreToLeaderboard() call can achieve a similar result.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="authentication-basics">Authentication Basics<a class="hash-link" href="#authentication-basics" title="Direct link to heading">​</a></h2><p>brainCloud supports a rich set of <em>authentication types</em> (also called <em>Identity Types</em>).</p><p>The equivalent of GameSpark’s Device Authentication is brainCloud’s <em>Anonymous ID</em>. This is a generated GUID that is stored on the player’s device.</p><p>Authenticating anonymously is as simple as calling the brainCloud Wrapper’s <code>AuthenticateAnonymous()</code> call. </p><p>bool forceCreate = true; // Creates the account if it doesn&#x27;t already exist
SuccessCallback successCallback = (response, cbObject) =&gt;
{
// Continue with launching the app
// ...
};
FailureCallback failureCallback = (status, code, error, cbObject) =&gt;
{
// An error occurred
// Pop up a dialog for the user to retry?
};</p><p>_<!-- -->bc.AuthenticationService.AuthenticateAnonymous(forceCreate, successCallback, failureCallback);</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="registration">Registration<a class="hash-link" href="#registration" title="Direct link to heading">​</a></h3><p>brainCloud also supports both Univeral Identity (username + password) and Email Identity (email address + password) authentication.</p><p>To register their account, the app simply attaches the desired identity type to the player’s account. For example, the following code attaches a Universal Identity to the account.</p><p>bc.IdentityService.AttachUniversalIdentity(
userId,
password,
SuccessCallback, FailureCallback);</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a class="hash-link" href="#authentication" title="Direct link to heading">​</a></h3><p>Once a higher form of identity has been attached to the account, the app can login using that identity via the appropriate authentication calls. For example, to login via the Universal Identity:</p><p>_<!-- -->bc.AuthenticationService.AuthenticateUniversal(
userId,
password,
forceCreate,
successCallback,
failureCallback);</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="authentication-3rd-party">Authentication (3rd Party)<a class="hash-link" href="#authentication-3rd-party" title="Direct link to heading">​</a></h2><p>brainCloud supports Sign in With Apple, Facebook Login, Google Play, Google OpenId, Oculus, and more.</p><p>From a code perspective, all work basically the same:</p><ul><li>The app uses the appropriate Platform / 3rd Party SDK to authentication the user</li><li>The app then passes the authentication information returned from the SDK to brainCloud (via the appropriate authentication mechanism</li><li>brainCloud validates the authentication is legit - and then looks up the user’s account and/or creates a new account as directed (according to the <!-- -->`<!-- -->`<code>forceCreate</code>option)</li></ul><p>For example, the call for Sign in with Apple is:</p><p>_<!-- -->bc.AuthenticationService.AuthenticateApple(
appleUserId,
identityToken,
forceCreate,
SuccessCallback,
FailureCallback);</p><p>Tutorials for configuring brainCloud and the 3rd party system can be found here:</p><ul><li>Sign in with Apple - <a href="/braincloud-apiref/learn/portal-tutorials/authentication-apple/">https://getbraincloud.com/apidocs/portal-usage/authentication-apple/</a></li><li>Facebook Login - <a href="/braincloud-apiref/learn/portal-tutorials/authentication-facebook//">https://getbraincloud.com/apidocs/portal-usage/basic-configuration-facebook/</a></li><li>Google Play - <a href="/braincloud-apiref/learn/portal-tutorials/authentication-google-playgame/">https://getbraincloud.com/apidocs/portal-usage/authentication-google-playgame/</a></li><li>Google OpenId - <a href="/braincloud-apiref/learn/portal-tutorials/authentication-google-openid/">https://getbraincloud.com/apidocs/portal-usage/authentication-google-openid/</a></li><li>Oculus - <a href="/braincloud-apiref/learn/portal-tutorials/authentication-oculus/">https://getbraincloud.com/apidocs/portal-usage/authentication-oculus/</a></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="chat--messaging">Chat &amp; Messaging<a class="hash-link" href="#chat--messaging" title="Direct link to heading">​</a></h2><p>brainCloud supports both Chat and Messaging as part of its <strong>RTT</strong> (Real-time Tech) offering. RTT enhances brainCloud’s standard request+response API with an additional WebSocket connection to the server for bi-directional real-time communications.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="chat">Chat<a class="hash-link" href="#chat" title="Direct link to heading">​</a></h3><p>In brainCloud, Chat messages are directed to <em>channels</em>, not users. Channels have an ID and a rolling history. Active listeners of a channel are notified in real-time when new messages are posted.</p><p>brainCloud supports Global, Group (i.e. Clans or Teams) and Dynamic Channels. brainCloud also supports Lobby Chat - though technically that is achieved through a separate, lobby event API.</p><p>To participate in Chat or Messaging, the client app must first enable RTT:</p><p>eRTTConnectionType rttConnectionType = eRTTConnectionType.WEBSOCKET;
<!-- -->_<!-- -->bc.RTTService.EnableRTT(rttConnectionType, successCallback, failureCallback);</p><p>And register for the chat callback:</p><p>RTTCallback rttCallback = response =&gt;
{
Debug.Log(response);
// do something! :)
};
<!-- -->_<!-- -->bc.RTTService.RegisterRTTChatCallback(rttCallback);</p><p>Next, the app connects to the desired chat channel:</p><p>string channelId = &quot;22817:gl:CHAT<!-- -->_<!-- -->TRADE&quot;; // APP<!-- -->_<!-- -->ID:CHANNEL<!-- -->_<!-- -->TYPE:CHANNEL<!-- -->_<!-- -->ID
<!-- -->_<!-- -->bc.ChatService.ChannelConnect(
channelId,
maxReturn,
successCallback,
failureCallback);</p><p>And finally to post a message:</p><p>_<!-- -->bc.ChatService.PostChatMessageSimple(
channelId,
chatMessage,
true,
successCallback,
failureCallback);</p><p>Note that brainCloud chat supports both simple text and rich JSON payloads - and integrates with WebPurify for profanity filtering.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="messaging">Messaging<a class="hash-link" href="#messaging" title="Direct link to heading">​</a></h3><p>In brainCloud, <em>Messaging messages</em> differ from <em>Chat messages</em> in that they are directed at <em>players</em>, not <em>channels</em>. Messaging can be thought of as a simple local email system for your app.</p><p>Each player has an inbox and an outbox.</p><p>Note - because Messaging is RTT-enabled, online players will be alerted in real-time (via a callback) when a new Message arrives. </p><p>brainCloud Messaging supports both simple text messages and complex JSON payloads. The following method delivers a simple text message to the players at the specified <code>profileIds</code>.</p><p>_<!-- -->bc.MessagingService.SendMessageSimple(
toProfileIds,
text,
successCallback,
failureCallback);</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cloud-code">Cloud Code<a class="hash-link" href="#cloud-code" title="Direct link to heading">​</a></h2><p>brainCloud’s Cloud Code system is very similar to the model employed by GameSparks:</p><p>In brainCloud:</p><ul><li>Cloud code Scripts are written in <strong>JavaScript</strong>, and run upon an embedded <strong>Rhino</strong> engine</li><li>Scripts can <a href="http://getbraincloud.com/api/cc/ccscripts/ccsharedscripts" target="_blank" rel="noopener noreferrer"><em>include</em></a> other scripts and <em>call</em> other scripts.</li><li>Scripts are passed <strong>JSON parameters</strong> when they are called</li><li>Scripts have access to the <em>full brainCloud API</em> - including the ability to <em><strong>Get/Set Player Data</strong></em> (like player statistics, attributes, User Entities, Owned Custom Entities, etc.) and <strong>Get Static Game Data - MetaCollections</strong> (like Global Properties, Global Entities, Un-owned Custom Entities, etc.)</li><li>API calls made from Cloud Code Scripts run <strong>synchronously</strong> for simplicity!</li><li>Scripts have access to the brainCloud HttpClient service - which can be used to <strong>Send HTTP requests</strong> to external services</li><li>Scripts can be registered to be called from webhooks - which are useful for <strong>Receiving HTTP Requests</strong> from external services. (Note - brainCloud also supports a custom S2S API for more flexibility)</li><li>brainCloud supports <strong>User Batch Jobs</strong> - so you can trigger a script to be run on a select batch of users (or all users). </li><li>brainCloud supports <strong>Scheduling</strong> scripts to be run in the future. Although there isn’t the concept of “run every hour” or “run every day” - it is very simple to have a script reschedule itself to achieve the same result.</li><li>brainCloud scripts can be attached to API calls via <strong>API Hooks</strong>. API Hooks can be configured to run custom scripts before and/or after the API call. This can be useful for modifying a game’s behavior without the need to redeploy a new client.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="braincloud-data">brainCloud Data<a class="hash-link" href="#braincloud-data" title="Direct link to heading">​</a></h3><p>brainCloud offers a rich set of data APIs for storing player and game data. An overview of the different data APIs can be found <a href="/braincloud-apiref/learn/key-concepts/data/">here</a> - as well as a discussion of the benefits of Custom Entities vs. the older User and Global Entity mechanisms <a href="http://help.getbraincloud.com/en/articles/3754150-custom-entities-a-scalable-and-flexible-app-data-storage-and-querying-solution" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="metacollections">MetaCollections<a class="hash-link" href="#metacollections" title="Direct link to heading">​</a></h3><p>Developers should use brainCloud’s Unowned Custom Entities in place of MetaCollections. Custom Entities are JSON objects with a rich API for storage and retrieval. For more information, see the <a href="http://getbraincloud.com/api/capi/customentity" target="_blank" rel="noopener noreferrer">Custom Entity API reference</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="system-scripts">System-Scripts<a class="hash-link" href="#system-scripts" title="Direct link to heading">​</a></h3><p>brainCloud provides a mechanism called <a href="http://getbraincloud.com/api/cc/ccscripts/apihooks" target="_blank" rel="noopener noreferrer"><strong>API Hooks</strong></a> that allows you to attach custom scripts to API Calls and other events in brainCloud.</p><p>API Hooks can be configured as either <strong>Pre-</strong> or <strong>Post-</strong> hooks - meaning that they will run either before or after the API calls they are enhancing. </p><p>Post-hooks are useful for cases where you want to enhance the results of an API call with additional data - for example, attaching the user’s campaign state to the <strong>Authenticate</strong> call results.</p><p>Pre-hooks can be used to add additional checks to allow/disallow API calls - and alternatively re-route the calls themselves. They are an easy way to re-route cheaters to alternate leaderboards, for example.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bulk-jobs">Bulk-Jobs<a class="hash-link" href="#bulk-jobs" title="Direct link to heading">​</a></h3><p>brainCloud offers a Batch User Script feature for scheduling a script to be run <em>all</em> or a <em>subset</em> of users.</p><p>Like GameSparks, the workload is spread across all players and executed as background jobs to not impact server performance. brainCloud also offers the ability to trigger a completion script when all users have been processed.</p><p>For more information, check out the <a href="http://getbraincloud.com/api/s2s/script/runbatchuserscriptandcompletionscript" target="_blank" rel="noopener noreferrer">RunBatchUserScriptAndCompletionScript()</a> API call.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="schedulers">Schedulers<a class="hash-link" href="#schedulers" title="Direct link to heading">​</a></h3><p>brainCloud offers APIs for scheduling a script to run at a specified time in the future. Although not the same as the every-hour, every-day scripts supported by GameSparks - the same sort of functionality can be achieved by having the script re-schedule itself to run again. An <a href="/braincloud-apiref/learn/cloud-code-central/handy-cloud-code-scripts/scriptscheduler-script/">example</a> of such a script can be found in brainCloud’s Cloud Code Central repository.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="transitioning-metacollections">Transitioning MetaCollections<a class="hash-link" href="#transitioning-metacollections" title="Direct link to heading">​</a></h3><p>The brainCloud Portal offers the ability to import data from JSON files - this is supported for both Custom Entities and Global Entities. This is suitable when important static reference data - like level data, tuning files, etc.</p><p>Information</p><p>The allowed size of import files is limited - if you receive an error during the import, message our support and we may be able to adjust the limit for you.</p><p><em>Note that brainCloud also supports an S2S API, which may be helpful if you need a more custom approach for migrating your app&#x27;s reference data.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gamesparks-api-wrappers">GameSparks API Wrappers<a class="hash-link" href="#gamesparks-api-wrappers" title="Direct link to heading">​</a></h3><p>If you decide to create wrappers for GameSparks key APIs, you can easily include them in your scripts using the bridge.include() operation.</p><p>Using this approach may allow you to better take advantage of the similarities between the brainCloud and GameSparks cloud code systems.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="asynchronous-apis">Asynchronous APIs<a class="hash-link" href="#asynchronous-apis" title="Direct link to heading">​</a></h3><p>Happily, brainCloud cloud code scripts use synchronous calls, just like GameSparks.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-bottlenecks">Performance Bottlenecks<a class="hash-link" href="#performance-bottlenecks" title="Direct link to heading">​</a></h3><p>The brainCloud Cloud Code Editor and API Usage pages can help you to find performance bottlenecks:</p><ul><li>The <strong>Cloud Code Editor</strong> returns the execution time for each test run of your script. It also returns information on what API calls we made by the script - to help better understand where time may have been spent</li><li>The <strong>Reports | API Usage</strong> page displays the average execution times of each of your API calls, including cloud code scripts. Any commonly called scripts taking longer than 200ms should be examined for possible optimizations.</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-transition-guide">Data Transition Guide<a class="hash-link" href="#data-transition-guide" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reference-data">Reference data<a class="hash-link" href="#reference-data" title="Direct link to heading">​</a></h3><p>The brainCloud Portal offers the ability to import data from JSON files - this is supported for both Custom Entities and Global Entities.</p><p>This is suitable when importing static reference data - like level data, tuning files, etc.</p><p>Information</p><p>The allowed size of import files is limited - if you receive an error during the import, message our support and we may be able to adjust the limit for you.</p><p><em>Note that brainCloud also supports an S2S API, which may be helpful if you need a more custom approach for migrating your app&#x27;s reference data.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-accounts">User accounts<a class="hash-link" href="#user-accounts" title="Direct link to heading">​</a></h3><p>For dynamic user data, it is highly recommended that new users be migrated over during initial login to brainCloud.</p><p>This has a number of benefits:</p><ul><li>Simpler - Importing a single user is simpler than importing all of them</li><li>Scalable - It spreads the work of importing out, creating less load on both brainCloud and GameSparks</li><li>Efficient - it ensures that only active player data is migrated over to brainCloud. If your game is more than two years old, it&#x27;s likely that less than 25% of your stored player accounts are still active.</li></ul><p>The recommended approach is to leverage the following brainCloud features:</p><ul><li>External Authentication - which allows brainCloud users to be authenticated via an external source - like your Gamesparks app</li><li>API Post-Hook - which can be used after successful authentication, to trigger a script to retrieve the user&#x27;s GameSparks data</li><li>HTTPClient service - used to make HTTP calls to external services (i.e. GameSparks)</li></ul><p>More information on this sort of approach can be found in <a href="http://help.getbraincloud.com/en/articles/5374223-dynamic-account-migration-between-apps" target="_blank" rel="noopener noreferrer">this</a> article.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="downloadables">Downloadables<a class="hash-link" href="#downloadables" title="Direct link to heading">​</a></h2><p>brainCloud supports a Global Files service that allows developers to upload files to be downloaded by client apps. These files are automatically distributed to AWS CloudFront CDN for fast downloads.</p><p>Uploading of files to brainCloud is normally done via the Design Portal. It is also possible to upload a file as a User File via a Client Library, and then convert it to a Global File via an API Call.</p><p>(We will be adding the ability to upload Global Files directly in a future version of our APIs.)</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="emails-sendgrid">Emails (SendGrid)<a class="hash-link" href="#emails-sendgrid" title="Direct link to heading">​</a></h2><p>brainCloud provides a SendGrid integration for sending emails.</p><p>To utilize brainCloud&#x27;s SendGrid functionality, simply:</p><ul><li>Configure the SendGrid settings on the <strong>Design | Integrations | Manage Integrations</strong> page, <em>SendGrid</em> section of the design portal</li><li>Modify your scripts and/or client to use brainCloud&#x27;s <a href="http://getbraincloud.com/api/capi/mail" target="_blank" rel="noopener noreferrer"><code>Mail</code> service</a> APIs</li><li><em>Optionally</em> customize the system templates to be used for password resets and such on the <strong>Design | Authentication | Email Authentication</strong> page.</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="leaderboard-basics">Leaderboard Basics<a class="hash-link" href="#leaderboard-basics" title="Direct link to heading">​</a></h2><p>brainCloud provides a rich leaderboard system - with support for both player and group leaderboards, scoring types, rotation types, supplemental data, history, etc.</p><p>Leaderboards are normally pre-defined in the Portal on the <strong>Design | Leaderboards | Leaderboard Configs</strong> page. Leaderboards can also be dynamically created using the <code>PostScoreToDynamicLeaderboardUTC()</code> call.</p><p>Leaderboard scores can be viewed on the <strong>Monitoring | Global Monitoring | Leaderboards</strong> page of the Portal.</p><p>brainCloud of provides a rich API for returning leaderboard results, including social and global leaderboard results - as well as an advanced API for retrieving high scores across multiple leaderboards for social maps.</p><p>A player&#x27;s own <em>score</em> can be retrieved via the <code>GetPlayerScore()</code> api.</p><p>Advice</p><p>Pro-tip: To retrieve a player&#x27;s <em>rank</em> as well as <em>score</em>, use the <code>GetGlobalLeaderboardView()</code> call, specifying <code>0</code> for the <code>beforeCount</code> and <code>afterCount</code>.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="leaderboard-partitions">Leaderboard Partitions<a class="hash-link" href="#leaderboard-partitions" title="Direct link to heading">​</a></h2><p>brainCloud does not support Partitioned Leaderboards - but something similar can be achieved using multiple leaderboards.</p><p>To keep setup as simple as possible, we would recommend that the additional partitions (for example, country-specific versions of the leaderboard) be created programmatically with a descriptive suffix (i.e. &quot;<!-- -->_<!-- -->&lt;countrycode<!-- -->&gt;<!-- -->&quot;. This can be done via a simple cloud code script and/or cloud code hook.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="leaderboard-resetting">Leaderboard Resetting<a class="hash-link" href="#leaderboard-resetting" title="Direct link to heading">​</a></h2><p>brainCloud directly supports the following automatic rotation types:</p><ul><li>NEVER - the leaderboard never resets</li><li>DAILY - the leaderboard resets daily</li><li>DAYS - the leaderboard resets after &lt;x<!-- -->&gt;<!-- --> days</li><li>WEEKLY - the leaderboard resets weekly</li><li>MONTHLY - the leaderboard resets monthly</li><li>YEARLY - the leaderboard resets yearly</li></ul><p>brainCloud leaderboards also have a &quot;retained count&quot; - that determines how many old copies of the leaderboard are retained before deletion. This can be useful for rewarding players for their performance in the previous rotation.</p><p>Note that developers can also directly control rotation by configuring a NEVER leaderboard and resetting it manually via the <code>SysResetNeverLeaderboard()</code> call.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="manage-screens">Manage Screens<a class="hash-link" href="#manage-screens" title="Direct link to heading">​</a></h2><p>brainCloud has a feature-rich Design Portal that provides access to game, group, and player data - including entities, statistics, leaderboards, etc. All of this data is viewable and editable by development and support personnel (given appropriate permissions).</p><p>The data is all accessible via the Monitoring portion of the portal. Monitoring is broken into the following sub-sections:</p><ul><li><strong>Global Monitoring</strong> - for viewing/editing global data - like global/custom entities, leaderboards, global statistics, job queues, and more</li><li><strong>Group Monitoring</strong> - for viewing/editing of groups and group data</li><li><strong>User Monitoring</strong> <!-- -->-<!-- --> for viewing/editing of users and their data</li></ul><p>brainCloud also provides an S2S API that can be used to implement a custom management tool that manages your brainCloud-based apps.</p><p>More information on the S2S API can be found <a href="http://getbraincloud.com/api/s2s" target="_blank" rel="noopener noreferrer">here</a>.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="matchmaking">Matchmaking<a class="hash-link" href="#matchmaking" title="Direct link to heading">​</a></h2><p>brainCloud provides two different matchmaking systems.</p><p>The <code>MatchMaking</code> service is primarily for use by games that are using brainCloud&#x27;s <code>Async Match</code> and <code>One-way Match</code> APIs. Games of these types are often played offline - and thus this matchmaking service only selects offline players.</p><p>Online games should use the brainCloud <code>Lobby</code> service for matchmaking. Lobby Matchmaking identifies groups of suitable players for online play.</p><p>Lobby Matchmaking is highly configurable, with support for:</p><ul><li>skill level matching</li><li>min / max players (by team)</li><li>geo matching &lt;- prioritizing players that are close together</li><li>filter scripts</li></ul><p>For more information, see the brainCloud <a href="http://getbraincloud.com/api/capi/lobby" target="_blank" rel="noopener noreferrer">Lobby</a> service.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="player-manager">Player Manager<a class="hash-link" href="#player-manager" title="Direct link to heading">​</a></h2><p>Player Management is accomplished via the <strong>Monitoring | User Monitoring</strong> section of the portal. Subsections for viewing and editing player data include:</p><ul><li>User Summary - a summary of the user&#x27;s info, including name, xp, identities, currency balances, etc.</li><li>Achievements - displays the user&#x27;s achievement status</li><li>Attributes - displays any attributes attached to the user. Supported creating and editing of attributes</li><li>Custom Entities - allows for view/edit of a user&#x27;s owned Custom Entities</li><li>Friends - view the player&#x27;s friends (both 3rd party and locally managed)</li><li>Groups - view the Groups the user is a member of</li><li>Inventory - view the items owned by the player</li><li>Milestones &amp; Quests - view the user&#x27;s completion status for milestones and quests</li><li>One-way MP - view the status of recent one-way multiplayer matches</li><li>Pricing - view the store prices for this player - including any promotions that may be being applied</li><li>Statistics - view/edit the user&#x27;s statistics</li><li>Transactions - view any purchases the player may have made</li><li>Turn-by-Turn MP - view any async match games currently in progress</li><li>User Entities - view/edit the player&#x27;s User Entities</li><li>User Files - view the files that this user has uploaded</li><li>Virtual Currency - view/edit the user&#x27;s current balances</li><li>Logs - logs of the user&#x27;s recent interactions with the brainCloud API &lt;- super useful for debugging!</li></ul><p>brainCloud also offers an S2S API that can be useful for building custom management tools.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="scheduled-events">Scheduled Events<a class="hash-link" href="#scheduled-events" title="Direct link to heading">​</a></h2><p>brainCloud offers a Scheduled Promotions feature that can be used to configure sale prices for all users and/or specific segments of users.</p><p>The list of active promotions can also be queried via the <code>RefreshPromotions()</code> call - and could be used by the client to configure additional custom functionality.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="teams">Teams<a class="hash-link" href="#teams" title="Direct link to heading">​</a></h2><p>brainCloud&#x27;s term for <em>Team</em> is <em>Group</em>.</p><p>Groups are designed as follows:</p><ul><li>Groups consist of a collection of members (users)</li><li>Groups have a name, a type, an id, and custom data</li><li>Members are each assigned a role-based permission level: &quot;OWNER&quot;, &quot;ADMIN&quot;, or &quot;MEMBER&quot;</li><li>Groups have one (and only one) &quot;OWNER&quot;. The OWNER of a group can add/remove members, and delete the group</li><li>Groups can have multiple &quot;ADMIN&quot;s. ADMINs are like OWNERs, except that they cannot delete the group.</li><li>Any &quot;MEMBER&quot; can edit group data</li><li>MEMBERs of a group can have custom attributes associated with them (can be used for custom application roles, etc.)</li><li>Users can be members of more than one group</li><li>Users can be the owner of more than one group</li><li>Groups can also have associated Entities (i.e. GroupEntity)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-chat--notifications">Team Chat &amp; Notifications<a class="hash-link" href="#team-chat--notifications" title="Direct link to heading">​</a></h3><p>brainCloud supports text-based <em>Team Chat</em> via RTT&#x27;s <code>Chat</code> Service. The <code>Chat</code> service supports special &quot;group channels&quot; for communications between the members of a group.</p><p>brainCloud also supports sending push notifications to the members of a group via the <code>SendRawPushNotificationToGroup()</code> call.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-leaderboards">Team Leaderboards<a class="hash-link" href="#team-leaderboards" title="Direct link to heading">​</a></h3><p>brainCloud supports group leaderboards - which are leaderboards where the group entries, instead of player entries.</p><p>brainCloud also supports group social leaderboard calls - where the results of the player leaderboard call are filtered to just the members of the specified group.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-data">Team Data<a class="hash-link" href="#team-data" title="Direct link to heading">​</a></h3><p>brainCloud supports two forms of team data:</p><ul><li>Group Data - which is custom JSON attached to a group</li><li>Group Entities - which are JSON entity objects owned by a group</li></ul><p>Both types of data are serviced via the <a href="http://getbraincloud.com/api/capi/group" target="_blank" rel="noopener noreferrer">Group Service API</a>.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-currency">Virtual Currency<a class="hash-link" href="#virtual-currency" title="Direct link to heading">​</a></h2><p>brainCloud provides a <code>VirtualCurrency</code> service for managing a player&#x27;s currency balances. Developers can define as many currencies as they like - and these currencies can be automatically awarded from XP level-ups, Milestones, Quests, and Tournaments -- and of course, be purchased via in-app purchase Products.</p><p>To configure a sign-up bonus for players, simply add the desired currency amount as a reward for the initial XP level. <em>Note that this technique works even if your game doesn&#x27;t otherwise use the brainCloud XP system.</em></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-goods-basics">Virtual Goods Basics<a class="hash-link" href="#virtual-goods-basics" title="Direct link to heading">​</a></h2><p>brainCloud provides support for virtual goods via:</p><ul><li><code>ItemCatalog</code> service - which defines the set of items (i.e. virtual goods) that are available for purchase by the user</li><li><code>UserItems</code> service - which manages the player&#x27;s inventory of said items, including purchases and trading</li></ul><p>Standard item properties include: id, name (<em>localizable</em>), category (<em>user-defined</em>), description (<em>localizable</em>), resource ids, pricing (in <em>virtual currency</em>), tags, and custom JSON data.</p><p>Additional properties enable behaviors like <em>stackable</em>, <em>consumable</em>, <em>activatable</em>, and <em>tradable</em>.</p><p>User items also have a publishing state (DRAFT, PUBLISHED, RETIRED, REVOKED) to help control their life cycle.</p><p><em>Note that brainCloud does not currently support bundles - though this can be worked around using the custom JSON data and a bit of cloud code.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-goods-3rd-party">Virtual Goods (3rd Party)<a class="hash-link" href="#virtual-goods-3rd-party" title="Direct link to heading">​</a></h2><p>brainCloud directly supports in-app purchases on iOS, Google, Facebook, Steam, and more.</p><p>Purchases are enabled by defining <em>Products</em> in the <strong>Design | Marketplace | Products</strong> screen of the <em>Design Portal</em>. Products are generally used to purchase Virtual Currency bundles, but in <a href="/braincloud-apiref/release/2021/10/12/release-4-9/">brainCloud 4.9</a> we add support for purchasing User Items (i.e. Virtual Goods) as well.</p><p>Products in brainCloud can be defined with multiple price points - which are convenient for scheduling sales using the <strong>Promotions</strong> service.</p><p>To configure Products in brainCloud for purchase, developers must first:</p><ul><li>Configures the necessary platform integration settings. See tutorial examples for <a href="/braincloud-apiref/learn/portal-tutorials/store-integration-ios/">iOS</a> and <a href="/braincloud-apiref/learn/portal-tutorials/store-integration-google/">Google</a> to start.</li><li>Configure the products to be purchased in the <strong>Design | Marketplace | Products</strong> page of the portal. The products should be configured to award Virtual Currencies, items from the Item Catalog, and/or custom rewards via attached JSON (and custom cloud code scripts)</li><li>Configure the <strong>pricing</strong> of the products - matching up the appStore IDs with the definitions in the platform stores</li></ul><p>At purchase time, the app will:</p><ul><li>Retrieve a list of the products available for sale (and their corresponding platform store ids) via brainCloud&#x27;s <code>AppStore</code> service&#x27;s <code>GetSalesInventory()</code> call.</li><li>Call the Platform SDK to retrieve the localized prices for the items to display</li><li>Display the list of products to the user in your custom storefront</li><li>When a user selects purchase, the app will initiate a purchase transaction using the Platform SDK</li><li>The SDK will return receipt data, which the app will forward to brainCloud using the <code>AppStore</code> <code>VerifyPurchase()</code> call</li><li>brainCloud makes a server-to-server call to the Platform to verify the receipt data (as well as performs a few additional checks of our own)</li><li>If the purchase is valid, the player is awarded the contents of the Product - and the results are returned to the client app</li></ul><p>For more information, see the brainCloud <a href="http://getbraincloud.com/api/capi/appstore" target="_blank" rel="noopener noreferrer">AppStore APIs</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/braincloud-apiref/release/tags/release-history">release-history</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/braincloud-apiref/release/2021/06/28/release-4-8">Release 4.8</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-06-28T00:00:00.000Z" itemprop="datePublished">June 28, 2021</time> · <!-- -->10 min read</div></header><div class="markdown" itemprop="articleBody"><p>This is an early summer release with a few timely features - plus a bunch of <em>under-the-hood</em> improvements to support future updates.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-highlights">Release Highlights<a class="hash-link" href="#release-highlights" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="search-cloud-code-scripts">Search Cloud Code Scripts<a class="hash-link" href="#search-cloud-code-scripts" title="Direct link to heading">​</a></h3><p>Got a lot of scripts? Getting hard to find the one you want? You can now search for cloud code scripts by name - across all your folders. </p><p>Just type a few letters, and then click on the script name to jump to it!</p><p><img loading="lazy" src="/braincloud-apiref/assets/images/2021-06-21_17-55-22-1024x314-e34a6ade09addb5fea51769dc18c4b53.png" width="1024" height="314" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="facebook-limited-login-friends">Facebook Limited Login Friends<a class="hash-link" href="#facebook-limited-login-friends" title="Direct link to heading">​</a></h3><p>Facebook has enhanced their new <strong>Limited Login Mode</strong> to support retrieval of the logged-in user&#x27;s <strong>friends</strong> (<a href="https://developers.facebook.com/blog/post/2021/04/12/announcing-expanded-functionality-limited-login/" target="_blank" rel="noopener noreferrer">https://developers.facebook.com/blog/post/2021/04/12/announcing-expanded-functionality-limited-login/</a>) - and thus we have extended brainCloud to support friend retrieval as well!</p><p>Facebook only allows apps to retrieve the user&#x27;s friends during the initial authentication operation. Since brainCloud Friend and Social Leaderboard APIs can be called anytime (during the current or subsequent play sessions) - we need to store a copy of the Facebook friends in the internal brainCloud friend list. If this feature is enabled, when a user logs in via the <code>AuthenticateFacebookLimited()</code> call, brainCloud will retrieve the user&#x27;s Facebook friends and add them to the internal friend list for that user. Note - all friends in brainCloud are bi-directional - so their friend&#x27;s friend lists get updated as well.</p><p>To enable this feature, go to the <strong>Design | Core App Info | Application IDs</strong> page, choose the <strong>Facebook</strong> tab, and set the <em>Facebook Limited Login (Retrieve friends)</em> drop-down to &quot;Retrieve and add to internal friends (add only).&quot;</p><p><img loading="lazy" src="/braincloud-apiref/assets/images/2021-06-21_15-16-41-1024x425-7f3d69f18ecd4e7c1ed04dfa3430fcd1.png" width="1024" height="425" class="img_ev3q"></p><p>Advice</p><p>For our customers that are using <em>3rd party authentication services</em>: If you are getting a list of Facebook friends from another service, you can use the new <code>AddFriendsFromPlatform()</code> call to add those friends to the internal list all at once.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="account-migration-support">Account Migration Support<a class="hash-link" href="#account-migration-support" title="Direct link to heading">​</a></h3><p>The brainCloud community has long been interested in being able to migrate player accounts on-demand from one instance to another.</p><p>This is useful when:</p><ul><li>migrating to brainCloud from another service</li><li>beta-testing a new release in a separate brainCloud app (or server) instance</li></ul><p>brainCloud&#x27;s security and privacy frameworks can make this very challenging (as they should!). In brainCloud 4.8 we’ve added some new features + APIs, that when used together, can make this use case achievable.</p><p>The new features / APIs are:</p><ul><li><strong>Authentication postFail</strong> - you can now attach a custom script to an Authentication failure. This allows your custom script to perform some work (like account retrieval and creation) when an authenticate operation fails. The script then returns a special status (199) to tell the dispatcher to re-try the authentication from the beginning.</li><li><code>GetSessionForValidatedCredential()</code> - a new S2S method that allows a client authentication to be performed via an S2S script. Once authenticated, the script can then retrieve and return select data from the user account. </li><li><code>SysGetUserExport()</code> - a new cloud-code only method that allows a script to retrieve an export of the data associated with a user.</li></ul><p>By putting these features together, a developer can:</p><ul><li>Write an <em>authentication postFail script</em> for the <strong>target app</strong>, that will catch authentication failures and attempt to retrieve the missing user account</li><li>Write an <em>account retrieval script</em> for the <strong>source app</strong>, that can be called via S2S to retrieve the data from a user account if the supplied credentials are valid</li></ul><p>Information</p><p>For full instructions on these use cases, see the <em>brainCloud Knowledgebase</em>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="edit-user-email-identities">Edit User Email Identities<a class="hash-link" href="#edit-user-email-identities" title="Direct link to heading">​</a></h3><p>The brainCloud Design Portal has been updated to provide a simple way for Support personnel to update the Email Identity + Contact Emails of users.</p><p>Simply navigate to the <em>Credentials</em> section of the <strong>User Summary</strong> page in <strong>User Monitoring</strong>, and click the <strong>pen</strong> icon next to the user&#x27;s <em>email identity</em>.</p><p><img loading="lazy" src="/braincloud-apiref/assets/images/2021-06-28_13-45-05-1024x837-a0ea280359190f6fdbe8f36c491aeb88.png" width="1024" height="837" class="img_ev3q"></p><p>Note that if you <em>only</em> want to edit a user&#x27;s Contact Email - we have added an edit feature (via another <strong>pen</strong> icon) near that field as well.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous">Miscellaneous<a class="hash-link" href="#miscellaneous" title="Direct link to heading">​</a></h3><p>In addition, the following new changes have been added to the platform:</p><ul><li><em><strong>Division improvements</strong></em> - we have adjusted the Division Set algorithms to allow players to post scores for rounds that started <em>before</em> the Division instance was created. This is important because some apps have their user’s join divisions just-in-time as they are posting their first score - and thus if the user is the first player in the division, their play round would have begun <em>before</em> the division tournament itself had been created! (And thus it was rejected by brainCloud). The new algorithm will dynamically adjust the start time of the division if a player attempts to record a score from before the Division was created. Note that the start time of the round must be within 2 X the Buffer time defined for the tournament.</li><li><em><strong>Authentication Pre- and PostFail- hooks</strong></em> - we have added both pre- and postFail- hook support for the Authentication services. This work was done in association with the Account Migration feature (above) - but they will undoubtedly will be useful in their own right!</li><li><em><strong>Lobby + Relay Server protocol improvements</strong></em> <!-- -->-<!-- --> we have tightened up the data structures and IDs commonly used between Lobby Services and Relay Services to be more consistent. This is in preparation for new Multiplayer features coming in the near future. The biggest impact of this is the replacement of the <code>owner</code> field in the Lobby data with the proper <code>ownerCxId</code> field. To help migrate to the new structure, a new compatibility flag has been introduced, which when enabled, causes both the <code>owner</code> and <code>ownerCxId</code> fields to be present in Lobby data messages. <em>(This flag is currently forced to enabled for both new and existing apps.)</em></li><li><em><strong>New Client Library calls</strong></em> <!-- -->-<!-- --> we have added a few calls that were introduced in recent releases as <em>cloud-code only</em>, to the 4.8 client libs:<ul><li>AppStore - the <code>RefreshPromotions()</code> call has been added</li><li>Events - the <code>DeleteIncomingEvents()</code>, <code>DeleteIncomingEventsOlderThan()</code> and <code>DeleteIncomingEventsByTypeOlderThan()</code> calls have been added</li><li>User Files - we have added the <code>UploadFileFromMemory()</code> call to the JavaScript library, and likewise improved the Unity implementation of the call.</li></ul></li><li><em><strong>Audit Logging</strong></em><ul><li>Added additional tracking for changes to Team information</li></ul></li><li><em><strong>Cloud-code Script Performance</strong></em><ul><li>Updated Rhino engine from <code>1.7.12</code> to <code>1.7.13</code></li><li>We have enhanced the API Server bootup strategy to pre-load and cache both scripts and leaderboard configurations for active apps - resulting in faster launch performance for cold servers</li><li>Added big message support to user batch script operations</li></ul></li><li><em><strong>Group &amp; GroupEntity Performance Improvements</strong></em><ul><li>We have adjusted the indexes and sharding strategies for <em>Groups</em> and <em>Group Entities</em> to improve performance.</li></ul></li><li><em><strong>Scheduled / S2S Scripts</strong></em><ul><li>Improved error logging for Scheduled and S2S Scripts</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="portal-changes">Portal Changes<a class="hash-link" href="#portal-changes" title="Direct link to heading">​</a></h2><p>We have made the following portal improvements:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="design">Design<a class="hash-link" href="#design" title="Direct link to heading">​</a></h3><ul><li><strong>Core App Info | Application IDs</strong><ul><li>New option to retrieve friends when using <strong>Facebook Limited Login</strong> added to the <strong>Facebook</strong> tab</li></ul></li><li><strong>Core App Info | Advanced Settings</strong><ul><li>New compatibility feature: <em>Include legacy lobby ‘owner’ field in API output</em>. Note - the new code + features that use this flag aren’t completely ready yet - so changing the flag is disabled. The flag will be set to true (enabled) for both new and existing apps.</li></ul></li><li><strong>Cloud Code | Scripts</strong><ul><li>There is a new search box on the cloud code scripts page. Just type a few letters, and click on the name of the script you want to view/edit!</li></ul></li><li><strong>Leaderboards | Leaderboard Configs</strong><ul><li>The <em>Leaderboard Configs</em> page has been refactored to better support apps with thousands of leaderboards</li></ul></li><li><strong>General</strong><ul><li>Privileges + Permissions handling - We have re-worked the underlying permissions and privilege caching and enforcement code to be more consistent</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring">Monitoring<a class="hash-link" href="#monitoring" title="Direct link to heading">​</a></h3><ul><li><strong>User Monitoring | User Summary</strong><ul><li>You can now change a user’s email identity credentials by clicking on the pen icon next to their email identity in the <strong>Credentials</strong> section of the page. When editing the user’s email identity, you are also given the option to change the user’s <em>contact email</em> as well.</li><li>You can also change the user’s <em>contact email</em> directly via the <strong>pen</strong> icon by the <em>Contact Email</em> field in the <em>Account Information</em> section. </li></ul></li></ul><p>Warning</p><p><em>Note that changing a user’s contact email alone does not change their email identity (which is the email address used to log into your app).</em></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-changes">API Changes<a class="hash-link" href="#api-changes" title="Direct link to heading">​</a></h2><p>The following changes/additions have affected the brainCloud API:</p><ul><li><strong>Bridge</strong><ul><li>New <code>Sleep( &lt;millis&gt; )</code> call added to facilitate waiting before retry operations. Can only be called from cloud-code. Note - the max sleep time is restricted to the timeout setting of the script.</li><li>New <code>GetSessionForValidatedCredential()</code> allows an S2S script to acquire a client session for the account associated with the provided user credentials, after first confirming that the credentials are valid, of course</li></ul></li><li><strong>Friend</strong><ul><li>New <code>AddFriendsFromPlatform()</code> call allows devs to add multiple friends to the internal brainCloud friends list, specifying the platform-specific external IDs, instead of brainCloud profileIds. ← saving multiple lookup calls.</li></ul></li><li><strong>Global App</strong><ul><li>New <code>SysGetAppSecret()</code> method returns the secret for the current session. Useful for apps using the Shared Accounts feature (between Parent and Child apps), and that don’t want to package the secrets of all child apps in the client binary.</li></ul></li><li><strong>Global Files V3</strong><ul><li>New cloud-code only methods for confirming files exist: <code>CheckFilenameExists()</code> and <code>CheckFullpathFilenameExists()</code>.</li></ul></li><li><strong>Identity</strong><ul><li>New cloud-code only <code>SysChangeEmailIdentity()</code> method allows the email address associated with a user to be changed without having the user’s password. This is of course a dangerous method not suitable for client usage - so it is cloud-code only.</li></ul></li><li><strong>Leaderboard</strong><ul><li>New <code>SysCreateLeaderboard()</code> call allows for the programmatic creation of Group as well as Player leaderboard. The old call, <code>CreateLeaderboard()</code>, only supported the creation of Player leaderboards - and has been deprecated.</li><li>New <code>SysEditLeaderboard()</code> call likewise allows the editing of group leaderboards.</li></ul></li><li><strong>Lobby</strong><ul><li>We have added 3 new methods in preparation for our upcoming <em>Join-in-progress</em> and <em>Long-lived Lobbies</em> features: <code>SysRoomStopped()</code>, <code>SysMemberLeft()</code>, and <code>SysGetLobbyMember()</code>. Stay tuned!</li></ul></li><li><strong>User</strong><ul><li>New cloud-code only <code>SysGetUserExport()</code> call allows a script to retrieve an export of the specified user’s data.</li></ul></li></ul><p>We have also deprecated the following methods:</p><ul><li><strong>Leaderboard</strong><ul><li><code>CreateLeaderboard()</code> - replaced with SysCreateLeaderboard() method (see above)</li><li><code>EditLeaderboard()</code> - replaced with SysEditLeaderboard() method (see above)</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous-changes--fixes">Miscellaneous Changes / Fixes<a class="hash-link" href="#miscellaneous-changes--fixes" title="Direct link to heading">​</a></h2><ul><li>Updated libraries<ul><li>All supported libraries have been updated with the latest API enhancements. Go get &#x27;em!</li></ul></li><li>Documentation updates<ul><li>Updates to tutorials and API References to match the new features/APIs in this release</li></ul></li><li>Important Fixes<ul><li>BCLOUD-29 - LobbyService joinLobby() is broken in some circumstances</li><li>BCLOUD-56 - <!-- -->[PROD]<!-- --> Tournament rewards with only &quot;custom&quot; rewards cannot be claimed</li><li>BCLOUD-68 - Logging performance improvement</li><li>BCLOUD-519 - User Monitoring / Logs - Fix handling of mismatched request/response data for displayed packets.</li><li>BCLOUD-575 - Add packetId as a field in requestResponse logs</li><li>BCLOUD-634 - ErrorLogEntry timestamps are slightly off</li><li>BCLOUD-698 - Handle &quot;duplicate key&quot; exception on Leaderboard Service - Post Dynamic (player or group score)</li><li>BCLOUD-707 - Allow Tournament Scores to be posted to Division Set Instance for round started before joined tournament</li><li>BCLOUD-710 - ACE Editor: when copying and pasting content sometimes that pasted content is missing from the submitted data.</li><li>BCLOUD-793 - Defect in memcached lock handling for temporary sessions</li><li>And fixed issue with &quot;edit leaderboard&quot; APIs potentially resetting pacer settings</li></ul></li><li>Plus miscellaneous fixes and performance enhancements...</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/braincloud-apiref/release/tags/release-history">release-history</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/braincloud-apiref/release/2021/05/04/release-4-7-5">Release 4.7.5</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-05-04T00:00:00.000Z" itemprop="datePublished">May 4, 2021</time> · <!-- -->5 min read</div></header><div class="markdown" itemprop="articleBody"><p>Release 4.7.5 is a surgical release to improve brainCloud support in a few key feature areas (mostly Purchases + Promotions). We hope you dig it! </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-highlights">Release Highlights<a class="hash-link" href="#release-highlights" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="promotions">Promotions<a class="hash-link" href="#promotions" title="Direct link to heading">​</a></h3><p>This release addresses some limitations of the existing promotions system and introduces a few cool new tricks.</p><p>The improvements, in no particular order, are:</p><ul><li>Added new <strong>Purchase Rewards Hook</strong> - a new API Hook that allows apps to override the configured reward amounts for product purchases. This is useful for companies that like double the rewards of a promotional item, instead of offering the same items for less $. <em>You can find a script example <a href="http://help.getbraincloud.com/en/articles/5196453-using-a-post-hooked-cloud-script-to-override-product-purchase-rewards" target="_blank" rel="noopener noreferrer">here</a>.</em></li><li>Added <strong>max # of purchases</strong> for <em>Automated Promotions</em> - you can now configure Automated Promotions to expire early if a user makes a purchase - limiting that special deal to the first &lt;x<!-- -->&gt;<!-- --> purchases they make.</li><li>Added <strong>max # of re-triggers</strong> for <em>Automated Promotions</em> - you can now configure Automated Promotions to re-trigger a finite number of times</li><li>New AppStore <strong>RefreshPromotions()</strong> call refreshes the Segments and Promotions of the current user. Useful for apps that want to check if a promotion became active during the play session. <em>Note - cloud-code only for now.</em></li></ul><p>In addition, we have addressed a limitation where Automated Promotions targeting <em>existing</em> Segments would not trigger for users <em>already</em> in that Segment. Those users (in existing segments) will now have the promotion applied by a new job that kicks off when the Automated Promotion is enabled.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="purchases">Purchases<a class="hash-link" href="#purchases" title="Direct link to heading">​</a></h3><p>We have also made improvements to the saved purchase transaction data - as viewed via the <strong>User Monitoring | Transactions</strong> page. For new purchases, you can now see:</p><ul><li>Any <strong>rewards</strong> associated with the purchase</li><li>Where the purchase was made during a <strong>promotion</strong></li><li>And whether the purchase has been <strong>refunded</strong>. Note - for purposes of brainCloud, chargebacks also appear as refunds. <em>Also, note that these states only apply to Facebook purchases.</em></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous">Miscellaneous<a class="hash-link" href="#miscellaneous" title="Direct link to heading">​</a></h3><ul><li><strong>Builder API</strong> <!-- -->-<!-- --> Our “official official” beta release of Builder API begins now. Our planned 4.7.0 roll-out was delayed while we put in some finishing touches. <em>Note - still for private licensees and approved BaaS customers only.</em></li><li><strong>Cloud-code Script Hook</strong> - we have added a cloud code script pre-hook. This can be helpful when re-organizing scripts into folders (using our new Cloud Code Folders feature). This hook can allow you to rework your script organization, while still supporting existing clients attempting to run scripts from their old locations. <em>See this <a href="http://help.getbraincloud.com/en/articles/5196058-using-a-pre-hooked-cloud-script-to-locate-the-moved-scripts-for-runscript-call" target="_blank" rel="noopener noreferrer">article</a> for an example of how to use it.</em></li><li><strong>Events</strong> - we have added more flexible ways of deleting incoming events for a user. See the <strong>API Changes</strong> section for more details…</li><li><strong>Room &amp; Relay Servers</strong> - we have reworked our room/relay server mechanisms to be more efficient. You may notice more responsive cleaning-up of server resources.</li><li><strong>RTT</strong> - Improved clean-up (server-side) of stale client connections.</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="portal-changes">Portal Changes<a class="hash-link" href="#portal-changes" title="Direct link to heading">​</a></h2><p>We&#x27;ve made the following portal changes:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="design">Design<a class="hash-link" href="#design" title="Direct link to heading">​</a></h3><ul><li><strong>Cloud Code | API Hooks</strong><ul><li>Added new AppStore PurchaseRewardHook - configure it as a “Post” hook to dynamically override the default awards of an item.</li><li>Added the ScriptService to the list of services that support API Hooks. So for example you can now add a Pre-hook to “RunScript” that adjusts the name/path of a script before running it. Useful when migrating to Cloud Code folders while still maintaining compatibility with existing clients.</li></ul></li><li><strong>Cloud Code | Scripts</strong><ul><li>We have updated the Scripts screen to default to showing up to 100 scripts per page. You are welcome! 🙂</li></ul></li><li><strong>Promotions | Automated</strong><ul><li>You can now set the <strong>max # purchases</strong> and <strong>max # re-triggers</strong> for automated promotions. Leave the value blank for <em>unlimited</em> - which is the <em>default</em>.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring">Monitoring<a class="hash-link" href="#monitoring" title="Direct link to heading">​</a></h3><ul><li><strong>Global Monitoring | Recent Errors</strong><ul><li>Updated the source of legacy servicemix errors to the more up-to-date cron and datastream sources</li></ul></li><li><strong>User Monitoring | Transactions</strong><ul><li>We have beefed up the Transactions page to show <strong>rewards</strong>, <strong>promotions</strong> and <strong>refund</strong> status of transactions. There is also more transactional info shown via the Transaction Action menu for Facebook purchases. </li><li><strong>Steam</strong> pending transactions are no longer shown (by default). There is a new toggle button to toggle viewing pending transactions. </li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-changes">API Changes<a class="hash-link" href="#api-changes" title="Direct link to heading">​</a></h2><p>The following changes/additions have affected the brainCloud API:</p><ul><li><strong>AppStore</strong><ul><li>The <code>GetEligiblePromotions()</code> method (and other promotions methods) now include the new num purchases and retriggers counts in the responses when appropriate.</li><li>Added a cloud code method, <code>RefreshPromotions()</code>, that refreshes the segments and promotions associated with a user. Note that a user’s segments and promotions are <em>automatically refreshed</em> when they authenticate. Calling this method allows apps to periodically refresh the segment + promotion data for the user during the play session. Note that this is an expensive call - calling it is equates to 2 API counts (technically 1 API + 10 bulk API) - so use it sparingly!</li></ul></li><li><strong>Events</strong><ul><li>New event deletion methods - <code>DeleteIncomingEvents()</code>, <code>DeleteIncomingEventsOlderThan()</code> and <code>DeleteIncomingEventsByTypeOlderThan()</code>. </li></ul></li></ul><p><em>Note that all of the new methods are cloud-code only for now - but will be added to the client libraries for brainCloud 4.8.</em></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous-changes--fixes">Miscellaneous Changes / Fixes<a class="hash-link" href="#miscellaneous-changes--fixes" title="Direct link to heading">​</a></h2><ul><li>Updated libraries<ul><li>No changes to the Client Libraries for 4.7.5.</li></ul></li><li>Documentation updates<ul><li>Updated API Reference docs and examples</li></ul></li><li>Important Fixes<ul><li>BCLD-7072 - Automated Promotion job to run when promotion created or new target segment added</li><li>BCLD-7095 - Failure to extend the TTL of an RTT cx should result in the termination of the socket connection</li><li>BCLD-7201 - Product pricing lookups should be specific to store type</li></ul></li><li>Plus miscellaneous fixes and performance enhancements...</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/braincloud-apiref/release/tags/release-history">release-history</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/braincloud-apiref/release/2021/03/24/release-4-7">Release 4.7 is live!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-03-24T00:00:00.000Z" itemprop="datePublished">March 24, 2021</time> · <!-- -->11 min read</div></header><div class="markdown" itemprop="articleBody"><p>brainCloud 4.7 is a big release - with lots of new features and even more under-the-covers. Hold onto your hats!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-highlights">Release Highlights<a class="hash-link" href="#release-highlights" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloud-code-folders">Cloud Code Folders<a class="hash-link" href="#cloud-code-folders" title="Direct link to heading">​</a></h3><p>The big feature of 4.7 is cloud code folder management. Yes - you will finally be able to organize your cloud code scripts properly!</p><p><em>We know - some of you have been waiting for this feature forever. To be fair - when we originally built brainCloud, with the rich API we had designed (now at &gt; 500 API calls!), we expected custom scripts to be few (i.e. less than a dozen) and small (i.e. less than 100 lines). Let just say that some of you have <strong>greatly exceeded</strong> those expectations.</em> 🙂 <em>This feature is for you!</em></p><p>Key components of this feature:</p><ul><li><em>Folder Tree</em> - Updated <strong>Design | Cloud Code | Scripts</strong> Screen with support for creating and navigating within folders</li><li><em>Enhanced Import &amp; Export Support</em> - Enhancements to <strong>Import</strong> and <strong>Export</strong> functions to allow importing/exports of the entire script collection (with folders intact), or optionally individual folders (with recursion, of course).</li><li><em>Deployment Support</em> <!-- -->-<!-- --> The <strong>Deploy</strong> features have been enhanced to support cloud code folders. The full script tree will be pushed when you deploy from one app to another. Note - using the new <strong>Builder CLI</strong>, you can even <strong>push individual folders of scripts</strong> from one app to another - great for <em>syncing common scripts</em> between apps!</li><li><em>Rename Scripts</em> <!-- -->-<!-- --> Scripts now have scriptIds that help to preserve linkages to scripts as they are <em>moved</em> or <em>renamed</em>. And hey, you can now <em>rename</em> scripts!</li><li><em>Author History</em> - We also now record the name of the team member who made script changes</li><li><em>Smart Updates</em> - finally, before updating a script during a Deploy Push or Import, we first take a look to see if it really changed. If not, we skip the update without increasing the version - which makes the version history of scripts smaller and much more meaningful!</li></ul><p>Information</p><p>Note that the new Scripts screen, with <strong>Folder Support</strong>, will <strong>not be enabled</strong> immediately upon release of 4.7. Out of an abundance of caution, we will wait a few days to ensure that there aren’t any unforeseen issues with the underlying schema changes before turning this feature on fully. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="arcade-style-leaderboards">Arcade-style Leaderboards<a class="hash-link" href="#arcade-style-leaderboards" title="Direct link to heading">​</a></h3><p>Building a game with an old-school feel? brainCloud 4.7 adds support for arcade-style leaderboards - where users can have more than one entry in the leaderboard! Great for daily or weekly rotating high scores!</p><p>Characteristics of arcade-style leaderboards:</p><ul><li>Players can have <em>more than one entry</em> in the leaderboard (unlimited)</li><li>Arcade-style leaderboards are created by setting the <em>Leaderboard type</em> to <em>Arcade High</em> (i.e. higher scores are better) or <em>Arcade Low</em> (i.e. lower scores are better). Note that the leaderboard type must be set at the time of leaderboard creation. You cannot change an existing leaderboard to/from Arcade-style - due to the differences in how the data is stored.</li><li>Arcade-style leaderboards <em>must rotate</em> at least <em>weekly</em>; otherwise, the stored data would grow at an uncontrollable rate.</li><li>Arcade-style leaderboards do <em>not</em> currently support <em>tournaments</em> or <em>divisions</em>. <em>We will consider adding support in the future if demand warrants.</em></li><li>The standard Leaderboard APIs work as-is for Arcade-style leaderboards, with the following adjustments:<ul><li>RemovePlayerScore() removes all of a player’s scores(s) from the specified leaderboard</li><li>GetPlayerScore() returns only a single score (i.e. the player’s best score) from the specified leaderboard</li><li>A new method, GetPlayerScores(), returns all of a player’s scores (up to a max limit) from the specified leaderboard</li><li>GetPlayerScoresFromLeaderboards() returns only the best score per leaderboard specified</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="facebook-limited-login-mode">Facebook Limited Login Mode<a class="hash-link" href="#facebook-limited-login-mode" title="Direct link to heading">​</a></h3><p>brainCloud adds support for the new <strong>Facebook Limited Login</strong> mode – which allows apps to utilize a Facebook Login while adhering to new Apple guidelines (and user preferences) that prohibit sharing of tracking data with 3rd parties.</p><p>For more information on this feature, see the blog post <a href="/braincloud-apiref/blog/2021/03/11/apple-ios-14-5-privacy-facebook-limited-login-mode/">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="steam-and-playstation-friend-support">Steam and Playstation Friend Support<a class="hash-link" href="#steam-and-playstation-friend-support" title="Direct link to heading">​</a></h3><p>brainCloud now has direct support for Steam and Playstation friends.</p><p>This means your apps can more easily create social features (including social leaderboards) on those platforms. Full Steam and Playstation support have been added to the Friend Service and Leaderboard Service APIs.</p><p>As a bonus, we have also reworked how the caching of friend data works. This should mean fewer calls to the 3rd party systems (i.e. Facebook, Steam, and Playstation) and faster responses to the social API calls - including <code>ListFriends()</code>, <code>GetSocialLeaderboard()</code>, etc.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="improved-unity-plug-in">Improved Unity Plug-in<a class="hash-link" href="#improved-unity-plug-in" title="Direct link to heading">​</a></h3><p>brainCloud has a new-and-improved Unity Plug-in. Redesigned and re-implemented from the ground up, the new plug-in:</p><ul><li>Has a cleaner User Interface</li><li>Is more secure - no longer stores appIds, secrets, etc. in plain text. Now requires a re-login to change settings.</li><li>Can now enable/disable logging from the Plug-in without code changes</li><li>Refer to Github Documentation here: <a href="https://github.com/getbraincloud/braincloud-csharp/tree/master" target="_blank" rel="noopener noreferrer">https://github.com/getbraincloud/braincloud-csharp/tree/master</a> for details on implementing the new plugin into your projects </li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="beta-builder-cli">[Beta]<!-- --> Builder CLI<a class="hash-link" href="#beta-builder-cli" title="Direct link to heading">​</a></h3><p>brainCloud 4.7 marks the <em>beta release</em> of our Builder CLI tool (and the underlying Builder API). </p><p>The Builder API currently allows the following:</p><ul><li>App management<ul><li>create, update and delete apps within a team</li><li>manage app lifecycle - enable/disable, etc.</li></ul></li><li>Deployment management<ul><li>scriptable deployment of configuration meta-data (including files + scripts + unowned migrate-able custom entities) from app to app</li><li>deployment of scripts (independent of app metadata); support full script tree or individual folders</li></ul></li><li>Script management<ul><li>create, update and delete scripts within an app </li></ul></li><li>Super features<ul><li>plus additional features for private licensees</li></ul></li></ul><p>Note that the Builder API does not fully duplicate or replace the SYS APIs available via Client APIs and S2S. Its primary purpose is to provide higher-level access to features that are not appropriate at the Client and S2S API levels.</p><p>Information</p><p>Access to the Beta Release of the Builder CLI is limited to approved customers only. <em>Contact support and/or your brainCloud Account Rep for access</em>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="additional-features">Additional Features<a class="hash-link" href="#additional-features" title="Direct link to heading">​</a></h3><p>The following additional features are also included in this release:</p><ul><li><em>Apple Push Notification HTTP/2 support</em><ul><li>brainCloud now supports Apple’s HTTP/2 based APNS protocol - which is important as support for their legacy protocol ends on <strong>March 31st, 2021</strong>.</li><li>Note that no changes are required to your clients or app configurations to support the new protocol</li></ul></li><li><em>Automated Promotions Improvements</em><ul><li>We have added improvements to several common use-cases - including adding Automated Promotions to existing segments.</li><li><strong><em>Update - we are delaying these improvements to a 4.7.1 patch that will be available shortly after the 4.7.0 release.</em></strong></li></ul></li><li><em>Improved Custom Entity Sharding Support</em><ul><li>Horizontal Sharding allows you to spread your custom entity collection across our MongoDB cluster - improving read/write response times for large collections</li><li>Sharding a collection means a key must be chosen to use to distribute the data. This key must be backed by a custom index in the collection.<ul><li>Owned collections are always sharded via the “ownerId” field. As of 4.7, brainCloud now automatically adds an { “ownerId”: “hashed” } index for this purpose.</li><li>Unowned collections are sharded on a custom basis based on the entity schema, and the usage patterns of the app. Once the key has been chosen, a custom index must be chosen (or created) to support that key - and must be marked as a shard key index. Indexes marked as a shard key index cannot be deleted via the Design Portal.</li><li>Note - once set, the shard key for a collection cannot be changed. So choose wisely!</li></ul></li><li>Sharding must be enabled on a per-entity basis by brainCloud Support Personnel. Contact support via the Chat Widget if you would like to discuss sharding one or more of your collections. </li></ul></li><li><em>Improved Lobby Performance</em><ul><li>The underlying Lobby Processing code had been re-written to be much more efficient.</li></ul></li><li><em>Inventory Catalog Image-handling overhaul</em><ul><li>We have improved how the system handles embedded images so that images are now properly copied when deployed from app-to-app.</li></ul></li><li><em>MongoDB 4.0 Support</em><ul><li>brainCloud 4.7 now officially supports MongoDB 4.0</li><li>All Private brainCloud deployments will be moved to MongoDB 4.0 within the next month</li></ul></li><li><em>Oculus authentication</em> <ul><li>brainCloud has added direct support for Oculus authentication</li></ul></li><li><em>Playstation Network authentication</em><ul><li>To facilitate PSN Friend Support, brainCloud has added support for direct PSN authentication; previously apps had to use the external authentication feature for PSN authentication</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="portal-changes">Portal Changes<a class="hash-link" href="#portal-changes" title="Direct link to heading">​</a></h2><p>We have made changes to the following sections of the portal:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="design">Design<a class="hash-link" href="#design" title="Direct link to heading">​</a></h3><ul><li><strong>Core App Info | Application Ids</strong><ul><li>Added new <strong>PSN</strong> and <strong>Oculus</strong> platform integration tabs</li></ul></li><li><strong>Core App Info | Platforms</strong><ul><li>Added new Oculus platform</li></ul></li><li><strong>Core App Info | Advanced Settings</strong><ul><li>Added new “Use Legacy Player Id” flag, which if true, causes the legacy playerId field to function and be returned in some APIs in <em>addition</em> to the newer, proper profileId field. Note the fields are synonymous (and contain the same values).</li><li>Added new “Add custom paths for Item Catalog images in API” flag to determine whether the Item Catalog allows custom image paths in the image field. Going forward, this behaviour has been deprecated; developers are free to include custom image information in the JSON blob that can be attached to catalog items.</li></ul></li><li><strong>Cloud Code | Scripts (Legacy)</strong><ul><li>The old cloud code scripts screen is still available (for a limited time) - but have been labeled with (Legacy). </li><li>Note that you can only edit scripts present in the root script folder using this screen.</li></ul></li><li><strong>Cloud Code | Scripts</strong><ul><li>The new Scripts service!</li><li>Allows full editing and management of scripts - including creating folders, moving scripts, exports and imports.</li></ul></li><li><strong>Cloud Data | Custom Entities</strong><ul><li>We now indicate which entities are Sharded, and if un-owned, which Index is used to back up the Shard key.</li><li>Note that sharding a Custom Entity collection is done by brainCloud Support Personnel upon request</li></ul></li><li><strong>Leaderboards | Leaderboard Configs</strong><ul><li>Added new <strong>Arcade High</strong> and <strong>Arcade Low</strong> leaderboard types.</li></ul></li><li><strong>Promotions | Automated</strong><ul><li>Now properly enforces that an Automated Promotion must target at least one Segment.</li><li>You must now create and save an Automated Promotion before enabling it. This is because enabling an Automated Promotion now triggers a batch process against all the users of the configured segments – we want to encourage the developer to get the promotion configured properly <em>before</em> enabling it. </li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring">Monitoring<a class="hash-link" href="#monitoring" title="Direct link to heading">​</a></h3><ul><li><strong>Global Monitoring | Leaderboards</strong><ul><li>Added support for new Arcade-style leaderboards</li></ul></li><li><strong>Global Monitoring | Server Logs</strong><ul><li>Added new Elapsed time column to easily convey incoming S2S and webhook performance</li></ul></li><li><strong>User Monitoring | Select User</strong><ul><li>Added PSN and Oculus IDs to the available search filters</li></ul></li><li><strong>User Monitoring | Friends</strong><ul><li>Added support for Steam and PSN friends</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-changes">API Changes<a class="hash-link" href="#api-changes" title="Direct link to heading">​</a></h2><p>The following changes/additions have affected the brainCloud core APIs:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-apis">Client APIs:<a class="hash-link" href="#client-apis" title="Direct link to heading">​</a></h3><ul><li><strong>BrainCloudWrapper</strong><ul><li>Added new <em>authenticate</em> and <em>smart-switch</em> calls for <em>FacebookLimited</em>, <em>PlaystationNetwork,</em> and Oculus.</li></ul></li><li><strong>Authentication</strong><ul><li>Methods for the new authentication types - <code>AuthenticateFacebookLimited()</code>, <code>AuthenticatePlaystationNetwork()</code>, <code>AuthenticateOculus()</code></li></ul></li><li><strong>CustomEntity</strong><ul><li>The existing <code>sysDropIndex()</code> method has been deprecated and replaced with the new sysDropIndexName()method - which requires the index Name to be provided in addition to the keys of the index. This fixes an issue where it was unclear which index to delete in cases where multiple indexes have the same keys, but different collation settings.</li></ul></li><li><strong>Friend</strong><ul><li>Added support for ”Steam” and ”PlaystationNetwork” to Friend APIs</li><li>Added new method, <code>GetMySocialInfo()</code> that returns social platform info for the current user</li></ul></li><li><strong>Identity</strong><ul><li>Added new <em>Attach</em>, <em>Detach</em> and Merge calls for the new FacebookLimited, PlaystationNetwork, and Oculus identity types.</li></ul></li><li><strong>ItemCatalog</strong><ul><li>The Item Catalog service has been refactored to enable better image-file handling - especially when migrating items from app to app during deployment</li><li>To facilitate this, the service (by default) no longer allows for custom image paths (i.e. non-brainCloud anchored paths) to be set in the image field. Apps wanting to use custom image URLs can use the custom JSON section or resource data sections for this information.</li><li>There is a new compatibility flag, <em>Allow custom paths for Item Catalog images in API</em>, which controls the enforcement of this new behavior.</li></ul></li><li><strong>Leaderboard</strong><ul><li>Added new method, GetPlayerScores(), for use with Arcade-style leaderboards</li></ul></li><li><strong>User</strong><ul><li>SysGetPage() and SysGetPageOffset() calls updated to return profileId instead of playerId. New compatibility flag added (and defaults to true for existing apps) to preserve old behaviour.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="s2s-apis">S2S APIs:<a class="hash-link" href="#s2s-apis" title="Direct link to heading">​</a></h3><ul><li><strong>CustomEntity</strong><ul><li>The new <code>sysDropIndexName()</code> call has been added to the available S2S APIs.</li></ul></li><li><strong>Presence</strong><ul><li>The <code>getPresenceOfUsers()</code> call has been added to the S2S APIs.</li><li>Note that we have corrected the documentation to accurately reflect that only the “sys” calls, plus the <code>getPresenceOfUsers()</code> call, are available via S2S.</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous-changes--fixes">Miscellaneous Changes / Fixes<a class="hash-link" href="#miscellaneous-changes--fixes" title="Direct link to heading">​</a></h2><ul><li>Updated libraries<ul><li>All libraries have been updated with the latest API enhancements. Go get &#x27;em!</li><li>Better RTT disconnect handling in libraries</li></ul></li><li>Documentation and Examples updates<ul><li>API Reference updated with the latest API calls</li><li>All Unity Examples updated with the new Unity Plug-in</li><li>The Unity Space Shooter example now features an Arcade-style leaderboard</li><li>New Google IAP Unity Example and tutorial for integrating with brainCloud</li><li>Unreal S2S has a new c++/blueprint unreal project to demonstrate using brainCloud s2s calls</li><li>Miscellaneous doc + example updates</li></ul></li><li>Important Fixes<ul><li>BCLD-7012 - Core App Info | Advanced Settings - The App Disabled reason needs to allow only JSON maps</li><li>BCLD-6932 - On deploy/import config, no longer drop Custom Entity indexes in target app if not in source app and record entity config indexes not applied</li><li>BCDL-6689 - User Service - GetSysPage/Offset returning profiled as “playerId”. Fixed, and compatibility flag added.</li></ul></li><li>Plus miscellaneous fixes and performance enhancements...</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/braincloud-apiref/release/tags/release-history">release-history</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/braincloud-apiref/release/2020/11/17/release-4-6">Release 4.6 is live!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2020-11-17T00:00:00.000Z" itemprop="datePublished">November 17, 2020</time> · <!-- -->8 min read</div></header><div class="markdown" itemprop="articleBody"><p>brainCloud 4.6 is mostly an under-the-covers technology refresh:</p><ul><li>We have reworked our <em>database access layer to be compatible with MongoDB 4.0</em> and beyond – all while maintaining API compatibility for our customers, of course.</li><li>We have moved our <em>reporting services</em> from our API Servers to our Datastream Servers for <em>improved performance and stability</em> for <em>larger exports</em>.</li><li>We have improved the <em>RTT connection handling</em> code in our <em>client libraries</em>.</li><li>We have removed a slew of older <em>deprecated calls</em> from our <em>client libraries.</em></li></ul><p>On top of all that, we did add a few new features - so read on for the details!</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-highlights">Release Highlights<a class="hash-link" href="#release-highlights" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="script-api-usage-stats"><strong>Script API Usage Stats</strong><a class="hash-link" href="#script-api-usage-stats" title="Direct link to heading">​</a></h3><p>We have added a new feature to our <em>API Explorer</em> and <em>Script Editor</em> to help you assess and tune the performance of your scripts.</p><p>The new API Usage log lists the API calls (by service and operation) that your script made, and calculates the API Count that will be used for billing purposes. Handy!</p><p>(Remember, the first 3 calls from a script are free - and each call after that is 1/2 count).</p><p>Fewer calls = lower server utilization = lower costs = faster scripts. It’s win:win:win folks!</p><p><img loading="lazy" src="/braincloud-apiref/assets/images/2020-11-16_17-51-58-1-c8bd1c734a79e5b9373bba0e669b98ea.png" width="876" height="1018" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="saml-end-user-authentication">SAML End-user Authentication<a class="hash-link" href="#saml-end-user-authentication" title="Direct link to heading">​</a></h3><p>brainCloud has been enhanced to support SAML for end-user authentication. This is mostly relevant for non-gaming<!-- -->*<!-- --> customers who want to integrate their brainCloud app with a corporate directory.</p><p>Our SAML authentication builds upon the External Authentication feature, providing several key endpoints that can be used for initiating calls and receiving callback from the SAML identity provider.</p><p>See the SAML Authentication knowledge-base article for more information.</p><p>Advice</p><p>brainCloud for non-gaming apps? Certainly! All the qualities that make brainCloud great for games (fast, reliable, scalable and inexpensive) make it great for enterprise apps as well as games. Heck - even the gaming features are useful for engaging consumers via Gamification. brainCloud for all the things! 🙂</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="random-custom-entities">Random Custom Entities<a class="hash-link" href="#random-custom-entities" title="Direct link to heading">​</a></h3><p>We have added a new API that supports the retrieval of random custom entities.</p><p>The new API is called <code>GetRandomEntitiesMatching()</code> and takes as parameters the entityType, a JSON query filter, and the number of entities to return. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-keys">API Keys<a class="hash-link" href="#api-keys" title="Direct link to heading">​</a></h3><p>We are developing a new Builder API mechanism for developers. This will enable API-driven management of teams, apps, and scripts via external services and tools.</p><p>We are hopeful that this, together with Cloud Code folders (coming soon), will allow devs to more efficiently integrate brainCloud with their build processes.</p><p>Our new API keys system is a foundational building block. To access any Builder API method, the following conditions must be met:</p><ul><li>Builder API access must be enabled for the <em>Team</em> itself</li><li>Builder API access must be enabled for the <em>User</em> who owns the key (on the target <em>Team</em>)</li><li>The Builder API <em>key</em> must be <em>valid</em> and <em>not expired</em></li></ul><p>We will provide more information on the Builder API in the coming months.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rtt-connection-handling">RTT Connection Handling<a class="hash-link" href="#rtt-connection-handling" title="Direct link to heading">​</a></h3><p>As mentioned above, we have made significant improvements to RTT Connection Handling in the client libraries.</p><p>The improvements across all libraries include:</p><ul><li>Refactored the underlying code to keep track of RTT connection state via a new RTTConnectionStatus enum with the following values - CONNECTED, DISCONNECTED, CONNECTING and DISCONNECTING.</li><li>Added a new GetConnectionStatus() method to return this status. </li><li>The existing IsRTTEnabled() call still works - but now simply returns true if the status is CONNECTED.</li></ul><p>In Unity and Unreal, we have also:</p><ul><li>Added a new WebsocketStatus enum (with values OPEN, CLOSED, MESSAGE, ERROR, and NONE) which is used internally to keep track of the WebSocket status. This allows the library to catch an annoying Android background app bug where the RTT connection closes because of the WebSocket closing -- and notify the client app to re-establish its RTT connection.</li><li>Improved error handling in Unity RTT now gives more information about what happened with the RTT connection.</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="portal-changes">Portal Changes<a class="hash-link" href="#portal-changes" title="Direct link to heading">​</a></h2><p>We have made the following portal changes:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="team">Team<a class="hash-link" href="#team" title="Direct link to heading">​</a></h3><ul><li><strong>Manage | Members</strong><ul><li>Added a column to show which users have API Keys defined for this team</li><li>Also added a new <em>Builder API Access</em> option to the <em>Permissions</em> tab of the user settings</li></ul></li><li><strong>Manage | Team Info</strong><ul><li>Added a toggle for enabling Builder API Access</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="design">Design<a class="hash-link" href="#design" title="Direct link to heading">​</a></h3><ul><li><strong>Cloud Code | API Explorer</strong><ul><li>The new API Usage Stats log is now added to response when cloud code scripts are called.</li></ul></li><li><strong>Cloud Code | Scripts, Script Editor</strong><ul><li>The new API Usage Stats log is also appended to the responses in the Run tab of the Script Editor.</li></ul></li><li><strong>Cloud Data | Custom Entities</strong><ul><li>The index list screen now displays the index <strong>key fields</strong> - providing a much better overview of index coverage.</li></ul></li><li><strong>Integrations | Manage Integrations</strong><ul><li>A new <strong>SAML Settings</strong> section has been added to the integrations screen.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitor">Monitor<a class="hash-link" href="#monitor" title="Direct link to heading">​</a></h3><ul><li><strong>Group Monitoring | Groups</strong><ul><li>We have added a new feature that allows Portal users to <strong>remove members</strong> from groups.</li></ul></li><li><strong>User Monitoring | Recent Users</strong><ul><li>We now capture and display the version of the client app that users are using to login.</li></ul></li><li><strong>User Monitoring | Logs</strong><ul><li>A new <strong>[Refresh]</strong> button has been added. Very useful when viewing the live logs of a user while debugging.</li></ul></li></ul><p><em>App Version now displayed in Recent Users list...</em></p><p><img loading="lazy" src="/braincloud-apiref/assets/images/2020-11-16_17-31-14-1024x418-c10d74a1528b4ef2f43a410a7214cb76.png" width="1024" height="418" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reporting">Reporting<a class="hash-link" href="#reporting" title="Direct link to heading">​</a></h3><ul><li><strong>API Usage</strong><ul><li>We now break down custom entity operations by entity type - providing better insight into the performance of individual entity types.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general">General<a class="hash-link" href="#general" title="Direct link to heading">​</a></h3><ul><li><strong>Edit Profile | API Keys</strong> <ul><li>You can now create API Keys for use with our Builder API - coming soon! </li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-changes">API Changes<a class="hash-link" href="#api-changes" title="Direct link to heading">​</a></h2><p>The following changes/additions have affected the brainCloud API:</p><ul><li><strong>Custom Entity</strong><ul><li><strong>(New!)</strong> <code>GetRandomEntitiesMatching()</code> call added for returning a set of random entities from a filtered list of candidates.</li></ul></li><li><strong>File</strong><ul><li><strong>(New!)</strong> <code>FileUploadFromMemory()</code> call added to allow uploads to happen in situations where local file access is not possible or convenient. For example, screenshots from Unity-based WebGL apps. <em>Note - Unity client only.</em></li></ul></li><li><strong>Group</strong><ul><li><strong>(Improved!)</strong> Sys APIs for Groups and Group Entities are now available from S2S</li></ul></li><li><strong>RTT</strong><ul><li><strong>(New!)</strong> <code>GetConnectionStatus()</code> call returns the status of the RTT WebSocket connection ( CONNECTED, DISCONNECTED, CONNECTING and DISCONNECTING).</li></ul></li></ul><p>The following methods are newly marked as deprecated:</p><ul><li><strong>PlayerState</strong><ul><li><code>UpdateName()</code> deprecated - use <code>UpdateUserName()</code> instead… (which is no longer marked as deprecated - it was a mistake!)</li></ul></li></ul><p>The following <em>previously deprecated</em> methods have been <em>removed</em> from the 4.6+ client libraries:</p><ul><li><strong>Authentication</strong><ul><li><code>GenerateGUID()</code> and <code>GenerateNewAnonymousId()</code> removed - use <code>GenerateAnonymousId()</code> instead.</li></ul></li><li><strong>Client</strong><ul><li><code>GetGameId()</code> removed - use <code>GetAppId()</code> instead.</li><li><code>GetGameVersion()</code> and <code>GetVersion()</code> removed - use <code>GetAppVersion()</code> instead.</li></ul></li><li><strong>Entity</strong><ul><li><code>GetSharedEntityForPlayerId()</code> removed - use <code>GetSharedEntityForProfileId()</code> instead.</li><li><code>GetSharedEntitiesForPlayerId()</code> removed - use <code>GetSharedEntitiesForProfileId()</code> instead.</li><li><code>GetSharedEntititesListforPlayerId()</code> removed - use <code>GetSharedEntitiesListForProfileId()</code> instead.</li></ul></li><li><strong>Friend</strong><ul><li><code>FindPlayerByUniversalId()</code> and <code>FindUserByUniversalId()</code> removed - use <code>FindUserByExactUniversalId()</code> or instead.</li><li><code>ReadFriendPlayerState()</code> removed - use <code>ReadFriendUserState()</code> instead.</li></ul></li><li><strong>Gamification</strong><ul><li><code>ResetMilestones()</code> removed from client libs - still available from cloud code.</li></ul></li><li><strong>PlaybackStream</strong><ul><li><code>GetStreamSummariesForInitiatingPlayer()</code> removed - use <code>GetRecentStreamsForInitiatingPlayer()</code> instead.</li><li><code>GetStreamSummariesForTargetPlayer()</code> removed - use <code>GetRecentStreamsForTargetPlayer()</code> instead.</li></ul></li><li><strong>PlayerState</strong><ul><li><code>DeletePlayer()</code> removed - use <code>DeleteUser()</code> instead.</li><li><code>ReadPlayerState()</code> removed - use <code>ReadUserState()</code> instead.</li><li><code>ResetPlayer()</code> removed - use <code>ResetUser()</code> instead.</li><li><code>UpdatePlayerName()</code> removed - use <code>UpdateUserName()</code> instead.</li><li><code>UpdatePlayerPictureUrl()</code> removed - use <code>UpdateUserPictureUrl()</code> instead.</li></ul></li><li><strong>PlayerStatistics</strong><ul><li><code>IncrementPlayerStats()</code> removed - use <code>IncrementUserStats()</code> instead.</li><li><code>ReadAllPlayerStats()</code> removed - use <code>ReadAllUserStats()</code> instead.</li><li><code>ReadPlayerStatsForCategory()</code> removed - use <code>ReadUserStatsForCategory()</code> instead.</li><li><code>ReadPlayerStatsSubset()</code> removed - use <code>ReadUserStatsSubset()</code> instead.</li><li><code>ResetAllPlayerStats()</code> removed - use <code>ResetAllUserStats()</code> instead.</li></ul></li><li><strong>PlayerStatisticsEvent</strong><ul><li><code>TriggerPlayerStatisticsEvent()</code> removed - use <code>TriggerStatsEvent()</code> instead.</li><li><code>TriggerPlayerStatisticsEvents()</code> removed - use <code>TriggerStatsEvents()</code> instead.</li></ul></li><li><strong>Product</strong><ul><li>This legacy <code>Product</code> service has been been removed. Use the replacement <code>AppStore</code> or <code>VirtualCurrency</code> services instead.</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous-changes--fixes">Miscellaneous Changes / Fixes<a class="hash-link" href="#miscellaneous-changes--fixes" title="Direct link to heading">​</a></h2><ul><li>Updated libraries<ul><li>All libraries have been updated. Go get &#x27;em!</li></ul></li><li>Documentation updates<ul><li>Added new knowledgebase articles for dozens of portal screens. Look for the <em>Learn More</em> links!</li></ul></li><li>Important Fixes<ul><li>BCLD-6427 - In API Explorer/Scripts/S2S Explorer the up/down arrows in the log are not working</li><li>BCLD-6389 - Restore Checkpoint now properly deletes new custom collections (created or imported) since the selected checkpoint</li><li>BCLD-6344 - When viewing indexes, the index fields box is not pretty printed</li><li>BCLD-6352 - ADHOC Division Set Leaderboard Template with Tournament in progress is losing required tournament data on import/deploy</li><li>BCLD-6320 - C++ cannot tear down WebSocket on Win32</li><li>BCLD-6343 - Deleting custom indexes shows wrong text - asks if you want to delete the “entity type” instead</li><li>BCLD-6327 - Import/Deploy custom entity configs (and migratable custom entities) only if target app has applicable billing plan</li><li>BCLD-6251 - Added support to manage groups and group entities from S2S</li><li>BCLD-6304 - Identity - GET<!-- -->_<!-- -->EXPIRED<!-- -->_<!-- -->IDENTITIES throwing exception for expired/invalidated Facebook identities</li><li>BCLD-6322 - Reporting | Analytics page not showing session graph if between 7-8 pm Eastern</li><li>BCLD-5969 - Added null check for “push content” call in Unity for Abandon/Complete Match with summary data</li><li>BCLD-6283 - VerifyReceipt() for product that is “Not for Sale” should still work</li><li>BCLD-6183 - User Items not being exported as part of user data export/archive</li><li>BCLD-6184 - User Items not being deleted when the user is deleted</li><li>BCLD-6294 - UpdateGroupData and UpdateGroupName methods not updating UpdatedAt field</li><li>BCLD-6246 - GoogleOpenId identity cannot be detached</li></ul></li><li>Plus miscellaneous fixes and performance enhancements...</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/braincloud-apiref/release/tags/release-history">release-history</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/braincloud-apiref/release/2020/09/16/release-4-5-6">Release 4.5.6 is live!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2020-09-16T00:00:00.000Z" itemprop="datePublished">September 16, 2020</time> · <!-- -->8 min read</div></header><div class="markdown" itemprop="articleBody"><p>brainCloud 4.5.6 is a very focused release - but much more significant than the version number would imply.</p><p>This update brings the release of our new <strong>Version 2</strong> <strong>Relay Servers</strong> - which are more reliable, more feature-rich, and faster to launch than our original Relay Servers.</p><p><em>Important: The <strong>RelayComms V2 Protocol</strong> (used by brainCloud 4.5.6 and newer libs) <strong>is not compatible</strong> with the <strong>RelayComms V1 Protocol</strong> (used by brainCloud 4.5.5 and older libs). The recommended migration process is described later in this document.</em></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-highlights">Release Highlights<a class="hash-link" href="#release-highlights" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="improved-relay-servers">Improved Relay Servers<a class="hash-link" href="#improved-relay-servers" title="Direct link to heading">​</a></h3><p>As more and more apps use brainCloud&#x27;s Relay Servers, we have realized some limitations with our initial implementation:</p><ol><li>Defect - reliable acknowledgments don&#x27;t consider all combinations of channel <!-- -->*<!-- --> reliable bit <!-- -->*<!-- --> ordered bit <!-- -->*<!-- --> net id (from user). Combinations of reliable/ordered would FAIL if used within the same channel Id. This issue would normally only happen with higher player counts - but it is definitely an issue.</li><li>Limitation - no way to send a message to a subset of players (e.g. your team in a competitive game). V1 only allowed for sending to <em>all</em>, or to a <em>single</em> specified user</li><li>Limitation - no protocol version embedded in the protocol - which makes it near impossible to modify/extend/correct the protocol and maintain compatibility with older clients.</li><li>Unoptimized - the Docker container used to launch the relay servers wasn’t properly optimized to improve launch times. </li></ol><p>The <em>good</em> news is that we have addressed these limitations with <strong>Version 2</strong> of our <strong>RelayComms Protocol</strong> - and incorporated it into our new <strong>Relay Servers</strong> and <strong>4.5.6 Client Libraries</strong>. </p><p>The <em>better</em> news is that the Client APIs for the new RelayComms is <em>almost completely</em> compatible - that is, you don’t need to change your client code to use the new servers - other than:</p><ul><li>In C#-only, you need to adjust for the new <code>netId</code> parameter in the <code>RelayCallback()</code> method ← <em>note, this was a defect. The other languages already had that parameter in their callback method.</em></li><li>If migrating a <em>Live</em> application, you will need to substitute in the new lobby ids (see the <em>migration</em> <em>procedure</em> section below)</li></ul><p>The <em>bad</em> news is that our new <strong>V2 Relay Servers are not compatible with our 4.5.5 and older client libraries</strong> - so they only work with brainCloud 4.5.6 libs and greater. Conversely - the new 4.5.6 libs do not work with the legacy Relay Servers - so migrating your apps to the new Relay Servers (which we highly recommend) must be done carefully. We provide the details on how to do this without interruption in a section below.</p><p><img loading="lazy" src="/braincloud-apiref/assets/images/2020-09-01_09-53-52-1ade651a169b54752ef146acf342118b.png" width="554" height="116" class="img_ev3q"></p><p><em>Note - The V1 RelayServers will continue to function for the foreseeable future (at least 1 year) - so you do not need to force a short-term upgrade to your app. It is highly recommended that apps upgrade when they get a chance however.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="matchmaking-optimizations">Matchmaking Optimizations<a class="hash-link" href="#matchmaking-optimizations" title="Direct link to heading">​</a></h3><p>This release also includes some serious optimizations to brainCloud&#x27;s Online Matchmaking and Lobby System algorithms - resulting in:</p><ul><li>greater lobby queue scalability</li><li>much faster best-case room/relay server launches</li></ul><p>Note that these changes are completely under-the-hood - no API changes required.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous-changes">Miscellaneous Changes<a class="hash-link" href="#miscellaneous-changes" title="Direct link to heading">​</a></h3><p>The following changes are also included in this release:</p><ul><li><em>Amazon Platform detection</em> - has been added to all of the libs (except C++). Important - be sure to turn on the “Amazon” platform on the <strong>Design | Core App Info | Platforms</strong> page for your app. This is important even if you aren’t using Amazon IAP - otherwise, your Android app won’t launch on Amazon devices!</li><li><em>Ability to <strong>clone</strong> Lobby and Server types</em> - has been added to facilitate easier migration to the new Relay Servers</li><li><em>Improved <strong>WebPurify</strong> integration</em> - are servers are now properly encoding problematic text characters before sending them to WebPurify</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="procedure-relay-server-migration">Procedure: Relay Server Migration<a class="hash-link" href="#procedure-relay-server-migration" title="Direct link to heading">​</a></h2><p>The following approach is recommended for migrating your app from <strong>V1 Relay Servers → V2 Relay Servers</strong>. </p><p>This approach has been designed to:</p><ul><li>ensure the app is available to all players throughout the migration</li><li>support the various app store review processes </li><li>keep the developer in control of the timelines of the migration.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="approach">Approach<a class="hash-link" href="#approach" title="Direct link to heading">​</a></h3><p><em>Benefits: This approach allows users of your old client to continue to play using the V1 Relay Servers - even as your updated client goes through app store reviews, soft launch, etc. using the new V2 Relay Servers. And then, after your release has been deployed globally and across all platforms, you can “force” users to upgrade to unite all players together again.</em></p><p>The executive summary of the recommended approach is:</p><ul><li>Clone the <strong>Lobby</strong> and <strong>Server</strong> definitions of your app - producing a new set of <strong>V2 Lobbies</strong> and <strong>V2 Servers</strong> that will be used by the <strong>updated version</strong> of your app<ul><li>Configure the <strong>V2 Server</strong> definitions to use <strong>Relay Protocol v2</strong></li><li>Configure the <strong>V2 Lobby</strong> definitions to use the new <strong>V2 Server</strong> definitions</li></ul></li><li>Modify your Client App to use the new <strong>V2 Lobby</strong> definitions, as well as the appropriate <strong>4.5.6 Client Library</strong></li><li>Optionally (but recommended), ensure that your Client App reacts to the <em>Minimum Version</em> setting from the <strong>Design | Core App Info | Platform</strong> page. This will allow you to “force” your users to upgrade to the new client when you are ready (see <a href="/braincloud-apiref/blog/2015/11/10/launch-tip-1-version-enforcement/">Version Enforcement</a>)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-by-step">Step-by-step<a class="hash-link" href="#step-by-step" title="Direct link to heading">​</a></h3><p>This section describes step-by-step how to modify your app to implement the recommended migration approach.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="design-portal">Design Portal<a class="hash-link" href="#design-portal" title="Direct link to heading">​</a></h4><ol><li>Go to <strong>Design | Cloud Code | My Servers</strong> - and clone the Relay Server entries to create new “V2” versions. A new <strong>[Clone Server]</strong> button has been added to assist with this. After cloning each entry, be sure to <em>Edit</em> it, and change the <em>Relay Protocol</em> to <strong>v2</strong>!</li><li>Go to <strong>Design | Multiplayer | Lobbies</strong> - and clone the Lobby entries to create new “V2” versions. A new <strong>Clone</strong> option has been added to the <strong>Action</strong> menu to assist with this. After cloning each entry, be sure to <strong>Edit</strong> it, and change it to refer to one of the <em>V2 Servers</em> that you created in Step 1.</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="app-code">App Code<a class="hash-link" href="#app-code" title="Direct link to heading">​</a></h4><ol><li>Replace your brainCloud library with a new <strong>4.5.6+</strong> version of the client library.</li><li>Go into your source code, and change the names of the <strong>Lobbies</strong> that your client app references to the new V2 version of the lobby type name.</li><li><strong>Rebuild</strong> and <strong>test</strong> your client app to ensure everything works.</li><li><em>(Optional - but highly recommended)</em> If you haven’t already, enhance your app to pass the app version during the BrainCloudWrapper.Initialize() method, and display a “Client update required” dialog if it receives a 40322 - APP<!-- -->_<!-- -->VERSION<!-- -->_<!-- -->NOT<!-- -->_<!-- -->SUPPORTED error from the server during authentication. This will allow you to force users to upgrade to the new client when you are ready. Note - the required app versions are controlled via the <strong>Design | Core App Info | Platforms</strong> page.</li></ol><p><em>For more information on implementing</em> <a href="/braincloud-apiref/blog/2015/11/10/launch-tip-1-version-enforcement/"><em>Version Enforcement</em></a> <em>in brainCloud, see the article at the link.</em></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="app-submission--migration">App Submission &amp; Migration<a class="hash-link" href="#app-submission--migration" title="Direct link to heading">​</a></h4><ol><li><strong>Submit</strong> the updated app (which uses the V2 Relay Servers) to the various app stores for approval. Existing users will continue to play using the V1 Relay Servers.</li><li>Officially <strong>Release</strong> your app. During this stage of launch, your player liquidity is <em>split</em> - between the older and newer servers.</li><li><em>(Optional - but highly recommended)</em> Once you are ready (and are confident that the app updated has been distributed globally to all appstores), you can update the <em>minimum required versions</em> on the <strong>Design | Core App Info | Platforms</strong> page to force users to upgrade, and re-unite your player base!</li></ol><p><em>And voila - you have successfully migrated your app to the V2 Relay Servers without interruption!</em></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="portal-changes">Portal Changes<a class="hash-link" href="#portal-changes" title="Direct link to heading">​</a></h2><p>We have made the following portal changes:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="design"><strong>Design</strong><a class="hash-link" href="#design" title="Direct link to heading">​</a></h3><ul><li><strong>Cloud Code | My Servers</strong><ul><li>Added new <strong>[Clone Server]</strong> button to make it easier to duplicate server configurations</li></ul></li><li><strong>Messaging | Chat</strong><ul><li>The <em>Replace Profanity with</em> setting now properly defaults to “<!-- -->*<!-- -->”</li></ul></li><li><strong>Multiplayer | Lobbies</strong><ul><li>Added a <strong>Clone</strong> option to the <strong>Action</strong> menu to make it easier to duplicate lobby configurations</li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-changes">API Changes<a class="hash-link" href="#api-changes" title="Direct link to heading">​</a></h2><p>Reminder - The 4.5.6 client libs only work with the V2 Relay Servers.   </p><p><em>If your app is <strong>live</strong> and <strong>using Relay Servers</strong>, do not upgrade to the 4.5.6 Client Libraries until you are ready to <strong>migrate</strong> your app according to the procedure described in these release notes.</em></p><p>Although the Client libraries have changed significantly to support RelayComms V2, the APIs themselves have not.</p><p>There is just one fix to the C# libraries that affect a method signature:</p><ul><li>The <code>RelayCallback()</code> method signature has changed. It now includes a <code>netId</code> parameter.<code>public delegate void RelayCallback(short netId, byte[] data);</code></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous-changes--fixes">Miscellaneous Changes / Fixes<a class="hash-link" href="#miscellaneous-changes--fixes" title="Direct link to heading">​</a></h2><ul><li>Updated libraries<ul><li>All libs have been updated to use RelayComms V2!</li><li>All libs (except C#) now include Amazon Platform detection. <em><strong>Important: If your app supports Android, and you want your Android apps to run on Amazon devices, remember to enable the Amazon platform on the Design | Core App Info | Platforms page!</strong></em></li></ul></li><li>Documentation updates<ul><li>The API Reference has been updated to include the updated C# RelayCallback</li></ul></li><li>Important Fixes<ul><li>BCLD-6304 - Error sending certain chat messages with WebPurify support enabled</li><li>BCLD-6240 - Presence updates sometimes failing due to improper TTL setting</li><li>BCLD-6239 - Lobby matchmaking NPE</li></ul></li><li>Plus miscellaneous fixes and performance enhancements...</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/braincloud-apiref/release/tags/release-history">release-history</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/braincloud-apiref/release/tags/release-history"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/braincloud-apiref/release/tags/release-history/page/3"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/braincloud-apiref/">Learn</a></li><li class="footer__item"><a class="footer__link-item" href="/braincloud-apiref/api/introduction">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.youtube.com/@Getbraincloud" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/braincloudnews" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/brainCloudBaaS" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/braincloud-apiref/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/getbraincloud/braincloud-apiref/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 bitHeads, Inc</div></div></div></footer></div>
<script src="/braincloud-apiref/assets/js/runtime~main.81d21845.js"></script>
<script src="/braincloud-apiref/assets/js/main.60e170d1.js"></script>
<script>window.intercomSettings={api_base:"https://api-iam.intercom.io",app_id:"za9nz70e"},function(){var t=window,e=t.Intercom;if("function"==typeof e)e("reattach_activator"),e("update",t.intercomSettings);else{var n=document,a=function(){a.c(arguments)};a.q=[],a.c=function(t){a.q.push(t)},t.Intercom=a;var i=function(){var t=n.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://widget.intercom.io/widget/za9nz70e";var e=n.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)};"complete"===document.readyState?i():t.attachEvent?t.attachEvent("onload",i):t.addEventListener("load",i,!1)}}()</script></body>
</html>